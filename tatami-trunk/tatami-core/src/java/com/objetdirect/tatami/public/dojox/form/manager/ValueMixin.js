/*
	Copyright (c) 2004-2008, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.form.manager.ValueMixin"]){dojo._hasResource["dojox.form.manager.ValueMixin"]=true;dojo.provide("dojox.form.manager.ValueMixin");dojo.declare("dojox.form.manager.ValueMixin",null,{_formWidgetValue:function(_1,_2){var _3=arguments.length==2&&_2!==undefined,_4;if(dojo.isArray(_1)){if(_3){dojo.forEach(_1,function(_5){_5.attr("checked",false);});dojo.forEach(_1,function(_6){_6.attr("checked",_6.attr("value")===_2);});return this;}dojo.some(_1,function(_7){if(_7.attr("checked")){_4=_7;return true;}return false;});return _4?_4.attr("value"):"";}if(_3){_1.attr("value",_2);return this;}return _1.attr("value");},_formElementValue:function(_8,_9){var _a=arguments.length==2&&_9!==undefined,_b;if(dojo.isArray(_8)){if(_a){dojo.forEach(_8,function(_c){_c.checked="";});dojo.forEach(_8,function(_d){_d.checked=_d.value===_9?"checked":"";});return this;}dojo.some(_8,function(_e){if(_e.checked){_b=_e;return true;}return false;});return _b?_b.value:"";}switch(_8.tagName.toLowerCase()){case "select":if(_8.multiple){if(_a){if(dojo.isArray(_9)){var _f={};dojo.forEach(_9,function(v){_f[v]=1;});dojo.query("> option",_8).forEach(function(opt){opt.selected=opt.value in _f;});return this;}dojo.query("> option",_8).forEach(function(opt){opt.selected=opt.value===_9;});return this;}var _b=dojo.query("> option",_8).filter(function(opt){return opt.selected;}).map(function(opt){return opt.value;});return _b.length==1?_b[0]:_b;}if(_a){dojo.query("> option",_8).forEach(function(opt){opt.selected=opt.value===_9;});return this;}var _b=dojo.query("> option",_8).filter(function(opt){return opt.selected;}).map(function(opt){return opt.value;});return _b.length==1?_b[0]:"";case "textarea":if(_a){_8.value=""+_9;return this;}return _8.value;case "button":if(_a){_8.innerHTML=""+_9;return this;}return _8.innerHTML;case "input":if(_8.type.toLowerCase()=="checkbox"){if(_a){_8.checked=_9?"checked":"";return this;}return Boolean(_8.checked);}}if(_a){_8.value=""+_9;return this;}return _8.value;},elementValue:function(_18,_19){if(_18 in this._widgets){return this._formWidgetValue.apply(this,arguments);}if(_18 in this._nodes){return this._formElementValue.apply(this,arguments);}var _1a=this[_18];if(_1a&&_1a.tagName&&_1a.cloneNode){if(arguments.length==2||_19!==undefined){_1a.innerHTML=_19;return this;}return _1a.innerHTML;}return null;},gatherFormValues:function(_1b){var _1c=this.inspectFormWidgets(function(_1d,_1e){return this._formWidgetValue(_1e);},_1b);dojo.mixin(_1c,this.inspectFormElements(function(_1f,_20){return this._formElementValue(_20);},_1b));return _1c;},setFormValues:function(_21){if(_21){inspectFormWidgets(function(_22,_23,_24){this._formWidgetValue(_23,_24);},_21);inspectFormElements(function(_25,_26,_27){this._formElementValue(_26,_27);},_21);}return this;}});}