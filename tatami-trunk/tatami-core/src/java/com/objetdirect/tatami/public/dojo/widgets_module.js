/*
	Copyright (c) 2004-2008, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");(function(){var _1={_fire:function(_2,_3){if(this[_2]){this[_2].apply(this,_3||[]);}return this;}};var _4=function(_5){this._index=-1;this._animations=_5||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;dojo.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};dojo.extend(_4,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){dojo.disconnect(this._onAnimateCtx);dojo.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_7,_8){if(!this._current){this._current=this._animations[this._index=0];}if(!_8&&this._current.status()=="playing"){return this;}var _9=dojo.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_a=dojo.connect(this._current,"onBegin",this,function(_b){this._fire("onBegin",arguments);}),_c=dojo.connect(this._current,"onPlay",this,function(_d){this._fire("onPlay",arguments);dojo.disconnect(_9);dojo.disconnect(_a);dojo.disconnect(_c);});if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=dojo.connect(this._current,"onPause",this,function(_f){this._fire("onPause",arguments);dojo.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_10,_11){this.pause();var _12=this.duration*_10;this._current=null;dojo.some(this._animations,function(a){if(a.duration<=_12){this._current=a;return true;}_12-=a.duration;return false;});if(this._current){this._current.gotoPercent(_12/this._current.duration,_11);}return this;},stop:function(_14){if(this._current){if(_14){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=dojo.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);dojo.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}}});dojo.extend(_4,_1);dojo.fx.chain=function(_17){return new _4(_17);};var _18=function(_19){this._animations=_19||[];this._connects=[];this._finished=0;this.duration=0;dojo.forEach(_19,function(a){var _1b=a.duration;if(a.delay){_1b+=a.delay;}if(this.duration<_1b){this.duration=_1b;}this._connects.push(dojo.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new dojo._Animation({curve:[0,1],duration:this.duration});dojo.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){this._connects.push(dojo.connect(this._pseudoAnimation,evt,dojo.hitch(this,"_fire",evt)));},this);};dojo.extend(_18,{_doAction:function(_1d,_1e){dojo.forEach(this._animations,function(a){a[_1d].apply(a,_1e);});return this;},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function(_20,_21){var t=this._pseudoAnimation;t[_20].apply(t,_21);},play:function(_23,_24){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_25,_26){var ms=this.duration*_25;dojo.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_26);});this._call("gotoPercent",arguments);return this;},stop:function(_29){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);}});dojo.extend(_18,_1);dojo.fx.combine=function(_2a){return new _18(_2a);};})();dojo.declare("dojo.fx.Toggler",null,{constructor:function(_2b){var _t=this;dojo.mixin(_t,_2b);_t.node=_2b.node;_t._showArgs=dojo.mixin({},_2b);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},_2b);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(_2d){return this.showAnim.play(_2d||0);},hide:function(_2e){return this.hideAnim.play(_2e||0);}});dojo.fx.wipeIn=function(_2f){_2f.node=dojo.byId(_2f.node);var _30=_2f.node,s=_30.style,o;var _33=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _34=dojo.style(_30,"height");return Math.max(_34,1);}},end:function(){return _30.scrollHeight;}}}},_2f));dojo.connect(_33,"onEnd",function(){s.height="auto";s.overflow=o;});return _33;};dojo.fx.wipeOut=function(_35){var _36=_35.node=dojo.byId(_35.node);var s=_36.style;var o;var _39=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},_35));dojo.connect(_39,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});dojo.connect(_39,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return _39;};dojo.fx.slideTo=function(_3a){var _3b=(_3a.node=dojo.byId(_3a.node));var top=null;var _3d=null;var _3e=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_3d=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;_3d=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_3d+"px";}};})(_3b);_3e();var _43=dojo.animateProperty(dojo.mixin({properties:{top:{end:_3a.top||0},left:{end:_3a.left||0}}},_3a));dojo.connect(_43,"beforeBegin",_43,_3e);return _43;};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _44=dojo.doc;if(_44.selection){var s=_44.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _46=dojo.global;var _47=_46.getSelection();if(dojo.isString(_47)){return !_47;}else{return _47.isCollapsed||!_47.toString();}}},getBookmark:function(){var _48,_49=dojo.doc.selection;if(_49){var _4a=_49.createRange();if(_49.type.toUpperCase()=="CONTROL"){if(_4a.length){_48=[];var i=0,len=_4a.length;while(i<len){_48.push(_4a.item(i++));}}else{_48=null;}}else{_48=_4a.getBookmark();}}else{if(window.getSelection){_49=dojo.global.getSelection();if(_49){_4a=_49.getRangeAt(0);_48=_4a.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _48;},moveToBookmark:function(_4d){var _4e=dojo.doc;if(_4e.selection){var _4f;if(dojo.isArray(_4d)){_4f=_4e.body.createControlRange();dojo.forEach(_4d,function(n){_4f.addElement(n);});}else{_4f=_4e.selection.createRange();_4f.moveToBookmark(_4d);}_4f.select();}else{var _51=dojo.global.getSelection&&dojo.global.getSelection();if(_51&&_51.removeAllRanges){_51.removeAllRanges();_51.addRange(_4d);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(_52,_53){return {node:_52&&dojo.isDescendant(dijit._curFocus,_52.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_53||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_53||dojo.global,dijit.getBookmark):null,openedForWindow:_53};},focus:function(_54){if(!_54){return;}var _55="node" in _54?_54.node:_54,_56=_54.bookmark,_57=_54.openedForWindow;if(_55){var _58=(_55.tagName.toLowerCase()=="iframe")?_55.contentWindow:_55;if(_58&&_58.focus){try{_58.focus();}catch(e){}}dijit._onFocusNode(_55);}if(_56&&dojo.withGlobal(_57||dojo.global,dijit.isCollapsed)){if(_57){_57.focus();}try{dojo.withGlobal(_57||dojo.global,dijit.moveToBookmark,null,[_56]);}catch(e){}}},_activeStack:[],registerWin:function(_59){if(!_59){_59=window;}dojo.connect(_59.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(evt.target||evt.srcElement);});var doc=_59.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(evt.target);},true);}}doc=null;},_onBlurNode:function(_60){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_61){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _62=[];try{while(_61){if(_61.dijitPopupParent){_61=dijit.byId(_61.dijitPopupParent).domNode;}else{if(_61.tagName&&_61.tagName.toLowerCase()=="body"){if(_61===dojo.body()){break;}_61=dijit.getDocumentWindow(_61.ownerDocument).frameElement;}else{var id=_61.getAttribute&&_61.getAttribute("widgetId");if(id){_62.unshift(id);}_61=_61.parentNode;}}}}catch(e){}dijit._setStack(_62);},_onFocusNode:function(_64){if(!_64){return;}if(_64.nodeName&&_64.nodeName.toLowerCase()=="body"){return;}if(_64.nodeType==9){var _65=dijit.getDocumentWindow(_64).frameElement;if(!_65){return;}_64=_65;}dijit._onTouchNode(_64);if(_64==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_64;dojo.publish("focusNode",[_64]);},_setStack:function(_66){var _67=dijit._activeStack;dijit._activeStack=_66;for(var _68=0;_68<Math.min(_67.length,_66.length);_68++){if(_67[_68]!=_66[_68]){break;}}for(var i=_67.length-1;i>=_68;i--){var _6a=dijit.byId(_67[i]);if(_6a){_6a._focused=false;_6a._hasBeenBlurred=true;if(_6a._onBlur){_6a._onBlur();}if(_6a._setStateClass){_6a._setStateClass();}dojo.publish("widgetBlur",[_6a]);}}for(i=_68;i<_66.length;i++){_6a=dijit.byId(_66[i]);if(_6a){_6a._focused=true;if(_6a._onFocus){_6a._onFocus();}if(_6a._setStateClass){_6a._setStateClass();}dojo.publish("widgetFocus",[_6a]);}}}});dojo.addOnLoad(dijit.registerWin);}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_6b){if(this._hash[_6b.id]){throw new Error("Tried to register widget with id=="+_6b.id+" but that id is already registered");}this._hash[_6b.id]=_6b;},remove:function(id){delete this._hash[id];},forEach:function(_6d){for(var id in this._hash){_6d(this._hash[id]);}},filter:function(_6f){var res=new dijit.WidgetSet();this.forEach(function(_71){if(_6f(_71)){res.add(_71);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_74){return _74.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_75){var id;do{id=_75+"_"+(_75 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_75]:dijit._widgetTypeCtr[_75]=0);}while(dijit.byId(id));return id;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.registry.forEach(function(_77){_77.destroy();});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_79){return dijit.registry.byId(_79.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_7a){while(_7a){if(_7a.getAttribute&&_7a.getAttribute("widgetId")){return dijit.registry.byId(_7a.getAttribute("widgetId"));}_7a=_7a.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(_7b){var _7c=dojo.style(_7b);return (_7c.visibility!="hidden")&&(_7c.visibility!="collapsed")&&(_7c.display!="none")&&(dojo.attr(_7b,"type")!="hidden");};dijit.isTabNavigable=function(_7d){if(dojo.hasAttr(_7d,"disabled")){return false;}var _7e=dojo.hasAttr(_7d,"tabindex");var _7f=dojo.attr(_7d,"tabindex");if(_7e&&_7f>=0){return true;}var _80=_7d.nodeName.toLowerCase();if(((_80=="a"&&dojo.hasAttr(_7d,"href"))||dijit._tabElements[_80])&&(!_7e||_7f>=0)){return true;}return false;};dijit._getTabNavigable=function(_81){var _82,_83,_84,_85,_86,_87;var _88=function(_89){dojo.query("> *",_89).forEach(function(_8a){var _8b=dijit._isElementShown(_8a);if(_8b&&dijit.isTabNavigable(_8a)){var _8c=dojo.attr(_8a,"tabindex");if(!dojo.hasAttr(_8a,"tabindex")||_8c==0){if(!_82){_82=_8a;}_83=_8a;}else{if(_8c>0){if(!_84||_8c<_85){_85=_8c;_84=_8a;}if(!_86||_8c>=_87){_87=_8c;_86=_8a;}}}}if(_8b&&_8a.nodeName.toUpperCase()!="SELECT"){_88(_8a);}});};if(dijit._isElementShown(_81)){_88(_81);}return {first:_82,last:_83,lowest:_84,highest:_86};};dijit.getFirstInTabbingOrder=function(_8d){var _8e=dijit._getTabNavigable(dojo.byId(_8d));return _8e.lowest?_8e.lowest:_8e.first;};dijit.getLastInTabbingOrder=function(_8f){var _90=dijit._getTabNavigable(dojo.byId(_8f));return _90.last?_90.last:_90.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_91){this.pairs=[];this.returnWrappers=_91||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_92,_93,_94,_95,_96){this.pairs[((_96)?"unshift":"push")]([_92,_93,_94,_95]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _98=this.pairs[i];if(_98[1].apply(this,arguments)){if((_98[3])||(this.returnWrappers)){return _98[2];}else{return _98[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_99){for(var i=0;i<this.pairs.length;i++){var _9b=this.pairs[i];if(_9b[0]==_99){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _9c=dojo.global;var _9d=dojo.doc;var w=0,h=0;var de=_9d.documentElement;var dew=de.clientWidth,deh=de.clientHeight;if(dojo.isMozilla){var _a3,_a4,_a5,_a6;var dbw=_9d.body.clientWidth;if(dbw>dew){_a3=dew;_a5=dbw;}else{_a5=dew;_a3=dbw;}var dbh=_9d.body.clientHeight;if(dbh>deh){_a4=deh;_a6=dbh;}else{_a6=deh;_a4=dbh;}w=(_a5>_9c.innerWidth)?_a3:_a5;h=(_a6>_9c.innerHeight)?_a4:_a6;}else{if(!dojo.isOpera&&_9c.innerWidth){w=_9c.innerWidth;h=_9c.innerHeight;}else{if(dojo.isIE&&de&&deh){w=dew;h=deh;}else{if(dojo.body().clientWidth){w=dojo.body().clientWidth;h=dojo.body().clientHeight;}}}}var _a9=dojo._docScroll();return {w:w,h:h,l:_a9.x,t:_a9.y};};dijit.placeOnScreen=function(_aa,pos,_ac,_ad){var _ae=dojo.map(_ac,function(_af){return {corner:_af,pos:pos};});return dijit._place(_aa,_ae);};dijit._place=function(_b0,_b1,_b2){var _b3=dijit.getViewport();if(!_b0.parentNode||String(_b0.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_b0);}var _b4=null;dojo.some(_b1,function(_b5){var _b6=_b5.corner;var pos=_b5.pos;if(_b2){_b2(_b0,_b5.aroundCorner,_b6);}var _b8=_b0.style;var _b9=_b8.display;var _ba=_b8.visibility;_b8.visibility="hidden";_b8.display="";var mb=dojo.marginBox(_b0);_b8.display=_b9;_b8.visibility=_ba;var _bc=(_b6.charAt(1)=="L"?pos.x:Math.max(_b3.l,pos.x-mb.w)),_bd=(_b6.charAt(0)=="T"?pos.y:Math.max(_b3.t,pos.y-mb.h)),_be=(_b6.charAt(1)=="L"?Math.min(_b3.l+_b3.w,_bc+mb.w):pos.x),_bf=(_b6.charAt(0)=="T"?Math.min(_b3.t+_b3.h,_bd+mb.h):pos.y),_c0=_be-_bc,_c1=_bf-_bd,_c2=(mb.w-_c0)+(mb.h-_c1);if(_b4==null||_c2<_b4.overflow){_b4={corner:_b6,aroundCorner:_b5.aroundCorner,x:_bc,y:_bd,w:_c0,h:_c1,overflow:_c2};}return !_c2;});_b0.style.left=_b4.x+"px";_b0.style.top=_b4.y+"px";if(_b4.overflow&&_b2){_b2(_b0,_b4.aroundCorner,_b4.corner);}return _b4;};dijit.placeOnScreenAroundNode=function(_c3,_c4,_c5,_c6){_c4=dojo.byId(_c4);var _c7=_c4.style.display;_c4.style.display="";var _c8=_c4.offsetWidth;var _c9=_c4.offsetHeight;var _ca=dojo.coords(_c4,true);_c4.style.display=_c7;return dijit._placeOnScreenAroundRect(_c3,_ca.x,_ca.y,_c8,_c9,_c5,_c6);};dijit.placeOnScreenAroundRectangle=function(_cb,_cc,_cd,_ce){return dijit._placeOnScreenAroundRect(_cb,_cc.x,_cc.y,_cc.width,_cc.height,_cd,_ce);};dijit._placeOnScreenAroundRect=function(_cf,x,y,_d2,_d3,_d4,_d5){var _d6=[];for(var _d7 in _d4){_d6.push({aroundCorner:_d7,corner:_d4[_d7],pos:{x:x+(_d7.charAt(1)=="L"?0:_d2),y:y+(_d7.charAt(0)=="T"?0:_d3)}});}return dijit._place(_cf,_d6,_d5);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_dc,_dd,_de,_df){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _e2=[],_e3=1000,_e4=1;this.prepare=function(_e5){dojo.body().appendChild(_e5);var s=_e5.style;if(s.display=="none"){s.display="";}s.visibility="hidden";s.position="absolute";s.top="-9999px";};this.open=function(_e7){var _e8=_e7.popup,_e9=_e7.orient||{"BL":"TL","TL":"BL"},_ea=_e7.around,id=(_e7.around&&_e7.around.id)?(_e7.around.id+"_dropdown"):("popup_"+_e4++);var _ec=dojo.doc.createElement("div");dijit.setWaiRole(_ec,"presentation");_ec.id=id;_ec.className="dijitPopup";_ec.style.zIndex=_e3+_e2.length;_ec.style.left=_ec.style.top="0px";_ec.style.visibility="hidden";if(_e7.parent){_ec.dijitPopupParent=_e7.parent.id;}dojo.body().appendChild(_ec);var s=_e8.domNode.style;s.display="";s.visibility="";s.position="";_ec.appendChild(_e8.domNode);var _ee=new dijit.BackgroundIframe(_ec);var _ef=_ea?dijit.placeOnScreenAroundElement(_ec,_ea,_e9,_e8.orient?dojo.hitch(_e8,"orient"):null):dijit.placeOnScreen(_ec,_e7,_e9=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"]);_ec.style.visibility="visible";var _f0=[];var _f1=function(){for(var pi=_e2.length-1;pi>0&&_e2[pi].parent===_e2[pi-1].widget;pi--){}return _e2[pi];};_f0.push(dojo.connect(_ec,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_e7.onCancel){dojo.stopEvent(evt);_e7.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _f4=_f1();if(_f4&&_f4.onCancel){_f4.onCancel();}}}}));if(_e8.onCancel){_f0.push(dojo.connect(_e8,"onCancel",null,_e7.onCancel));}_f0.push(dojo.connect(_e8,_e8.onExecute?"onExecute":"onChange",null,function(){var _f5=_f1();if(_f5&&_f5.onExecute){_f5.onExecute();}}));_e2.push({wrapper:_ec,iframe:_ee,widget:_e8,parent:_e7.parent,onExecute:_e7.onExecute,onCancel:_e7.onCancel,onClose:_e7.onClose,handlers:_f0});if(_e8.onOpen){_e8.onOpen(_ef);}return _ef;};this.close=function(_f6){while(dojo.some(_e2,function(_f7){return _f7.widget==_f6;})){var top=_e2.pop(),_f9=top.wrapper,_fa=top.iframe,_fb=top.widget,_fc=top.onClose;if(_fb.onClose){_fb.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_fb||!_fb.domNode){return;}this.prepare(_fb.domNode);_fa.destroy();dojo._destroyElement(_f9);if(_fc){_fc();}}};}();dijit._frames=new function(){var _fd=[];this.pop=function(){var _fe;if(_fd.length){_fe=_fd.pop();_fe.style.display="";}else{if(dojo.isIE){var _ff=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+_ff+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_fe=dojo.doc.createElement(html);}else{_fe=dojo.doc.createElement("iframe");_fe.src="javascript:\"\"";_fe.className="dijitBackgroundIframe";}_fe.tabIndex=-1;dojo.body().appendChild(_fe);}return _fe;};this.push=function(_101){_101.style.display="";if(dojo.isIE){_101.style.removeExpression("width");_101.style.removeExpression("height");}_fd.push(_101);};}();if(dojo.isIE<7){dojo.addOnLoad(function(){var f=dijit._frames;dojo.forEach([f.pop()],f.push);});}dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if((dojo.isIE&&dojo.isIE<7)||(dojo.isFF&&dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _104=dijit._frames.pop();node.appendChild(_104);if(dojo.isIE){_104.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_104.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_104;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){node=dojo.byId(node);var body=node.ownerDocument.body;var html=body.parentNode;if(dojo.isFF==2||node==body||node==html){node.scrollIntoView(false);return;}var rtl=!dojo._isBodyLtr();var _109=dojo.doc.compatMode!="BackCompat";var _10a=(_109&&!dojo.isSafari)?html:body;function addPseudoAttrs(_10b){var _10c=_10b.parentNode;var _10d=_10b.offsetParent;if(_10d==null){_10b=_10a;_10d=html;_10c=null;}_10b._offsetParent=(_10d==body)?_10a:_10d;_10b._parent=(_10c==body)?_10a:_10c;_10b._start={H:_10b.offsetLeft,V:_10b.offsetTop};_10b._scroll={H:_10b.scrollLeft,V:_10b.scrollTop};_10b._renderedSize={H:_10b.offsetWidth,V:_10b.offsetHeight};var bp=dojo._getBorderExtents(_10b);_10b._borderStart={H:bp.l,V:bp.t};_10b._borderSize={H:bp.w,V:bp.h};_10b._clientSize=(_10b._offsetParent==html&&dojo.isSafari&&_109)?{H:html.clientWidth,V:html.clientHeight}:{H:_10b.clientWidth,V:_10b.clientHeight};_10b._scrollBarSize={V:null,H:null};for(var dir in _10b._scrollBarSize){var _110=_10b._renderedSize[dir]-_10b._clientSize[dir]-_10b._borderSize[dir];_10b._scrollBarSize[dir]=(_10b._clientSize[dir]>0&&_110>=15&&_110<=17)?_110:0;}_10b._isScrollable={V:null,H:null};for(dir in _10b._isScrollable){var _111=dir=="H"?"V":"H";_10b._isScrollable[dir]=_10b==_10a||_10b._scroll[dir]||_10b._scrollBarSize[_111];}};var _112=node;while(_112!=null){addPseudoAttrs(_112);var next=_112._parent;if(next){next._child=_112;}_112=next;}for(var dir in _10a._renderedSize){_10a._renderedSize[dir]=Math.min(_10a._clientSize[dir],_10a._renderedSize[dir]);}var _115=node;while(_115!=_10a){_112=_115._parent;if(_112.tagName=="TD"){var _116=_112._parent._parent._parent;if(_116._offsetParent==_115._offsetParent&&_112._offsetParent!=_115._offsetParent){_112=_116;}}var _117=_115==_10a||(_112._offsetParent!=_115._offsetParent);for(dir in _115._start){var _118=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(dojo.isSafari||dojo.isIE)&&_112._clientSize.H>0){var _119=_112.scrollWidth-_112._clientSize.H;if(_119>0){_112._scroll.H-=_119;}}if(dojo.isIE&&_112._offsetParent.tagName=="TABLE"){_112._start[dir]-=_112._offsetParent._borderStart[dir];_112._borderStart[dir]=_112._borderSize[dir]=0;}if(_112._clientSize[dir]==0){_112._renderedSize[dir]=_112._clientSize[dir]=_112._child._clientSize[dir];if(rtl&&dir=="H"){_112._start[dir]-=_112._renderedSize[dir];}}else{_112._renderedSize[dir]-=_112._borderSize[dir]+_112._scrollBarSize[dir];}_112._start[dir]+=_112._borderStart[dir];var _11a=_115._start[dir]-(_117?0:_112._start[dir])-_112._scroll[dir];var _11b=_11a+_115._renderedSize[dir]-_112._renderedSize[dir];var _11c,_11d=(dir=="H")?"scrollLeft":"scrollTop";var _11e=(dir=="H"&&rtl);var _11f=_11e?-_11b:_11a;var _120=_11e?-_11a:_11b;if(_11f<=0){_11c=_11f;}else{if(_120<=0){_11c=0;}else{if(_11f<_120){_11c=_11f;}else{_11c=_120;}}}var _121=0;if(_11c!=0){var _122=_112[_11d];_112[_11d]+=_11e?-_11c:_11c;_121=_112[_11d]-_122;_11a-=_121;_120-=_11e?-_121:_121;}_112._renderedSize[dir]=_115._renderedSize[dir]+_112._scrollBarSize[dir]-((_112._isScrollable[dir]&&_120>0)?_120:0);_112._start[dir]+=(_11a>=0||!_112._isScrollable[dir])?_11a:0;}_115=_112;}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo;var ie=d.isIE;var _125=d.isOpera;var maj=Math.floor;var ff=d.isFF;var _128=d.boxModel.replace(/-/,"");var _129={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_125,dj_opera8:maj(_125)==8,dj_opera9:maj(_125)==9,dj_khtml:d.isKhtml,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_129["dj_"+_128]=true;var html=dojo.doc.documentElement;for(var p in _129){if(_129[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _129){if(_129[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_12e,node,_130,obj,_132,_133){if(obj!=this._obj){this.stop();this._initialDelay=_133||500;this._subsequentDelay=_132||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_12e,_130);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_135,_136,_137,_138,_139){if(_135.keyCode){_135.charOrCode=_135.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_135.charCode){_135.charOrCode=String.fromCharCode(_135.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_135.charOrCode&&(_135.ctrlKey===undefined||_135.ctrlKey==evt.ctrlKey)&&(_135.altKey===undefined||_135.altKey==evt.ctrlKey)&&(_135.shiftKey===undefined||_135.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_135,_136,node,_137,_135,_138,_139);}else{if(dijit.typematic._obj==_135){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_135){dijit.typematic.stop();}})];},addMouseListener:function(node,_13d,_13e,_13f,_140){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_13d,node,_13e,node,_13f,_140);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_13d,node,_13e,node,_13f,_140);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_147,_148,_149,_14a,_14b,_14c,_14d){return this.addKeyListener(_148,_149,_14a,_14b,_14c,_14d).concat(this.addMouseListener(_147,_14a,_14b,_14c,_14d));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.doc.createElement("div");div.id="a11yTestNode";div.style.cssText="border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");";dojo.body().appendChild(div);var cs=dojo.getComputedStyle(div);if(cs){var _150=cs.backgroundImage;var _151=(cs.borderTopColor==cs.borderRightColor)||(_150!=null&&(_150=="none"||_150=="url(invalid-url:)"));dojo[_151?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _154=this.getWaiRole(elem);return role?(_154.indexOf(role)>-1):(_154.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _158=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_158)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_158+" ").indexOf(" "+role+" ")<0){var _159=dojo.trim(_158.replace(this._XhtmlRoles,""));var _15a=dojo.trim(_158.replace(_159,""));dojo.attr(elem,"role",_15a+(_15a?" ":"")+role);}}},removeWaiRole:function(elem,role){var _15d=dojo.attr(elem,"role");if(!_15d){return;}if(role){var _15e=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_15d+" ").replace(" "+_15e+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_161){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_161);}return elem.hasAttribute?elem.hasAttribute("aria-"+_161):!!elem.getAttribute("aria-"+_161);},getWaiState:function(elem,_163){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_163);}return elem.getAttribute("aria-"+_163)||"";},setWaiState:function(elem,_165,_166){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_165,_166);}else{elem.setAttribute("aria-"+_165,_166);}},removeWaiState:function(elem,_168){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_168);}else{elem.removeAttribute("aria-"+_168);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_169,_16a){if(_169&&dojo.isFunction(_169._onConnect)){_169._onConnect(_16a);}});dijit._connectOnUseEventHandler=function(_16b){};(function(){var _16c={};var _16d=function(dc){if(!_16c[dc]){var r=[];var _170;var _171=dojo.getObject(dc).prototype;for(var _172 in _171){if(dojo.isFunction(_171[_172])&&(_170=_172.match(/^_set([a-zA-Z]*)Attr$/))&&_170[1]){r.push(_170[1].charAt(0).toLowerCase()+_170[1].substr(1));}}_16c[dc]=r;}return _16c[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_173,_174){this.create(_173,_174);},create:function(_175,_176){this.srcNodeRef=dojo.byId(_176);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_175){this.params=_175;dojo.mixin(this,_175);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _178=function(attr,_17a){if((_17a.params&&attr in _17a.params)||_17a[attr]){_17a.attr(attr,_17a[attr]);}};for(var attr in this.attributeMap){_178(attr,this);}dojo.forEach(_16d(this.declaredClass),function(a){if(!(a in this.attributeMap)){_178(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.doc.createElement("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_17d){this.destroyDescendants(_17d);this.destroy(_17d);},destroy:function(_17e){this.uninitialize();dojo.forEach(this._connects,function(_17f){dojo.forEach(_17f,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_17e);dijit.registry.remove(this.id);},destroyRendering:function(_181){if(this.bgIframe){this.bgIframe.destroy(_181);delete this.bgIframe;}if(this.domNode){if(!_181){dojo._destroyElement(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_181){dojo._destroyElement(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_182){dojo.forEach(this.getDescendants(),function(_183){if(_183.destroy){_183.destroy(_182);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_185){if(_185 in this._deferredConnects){var _186=this[this._deferredConnects[_185]||"domNode"];this.connect(_186,_185.toLowerCase(),this[_185]);delete this._deferredConnects[_185];}},_setClassAttr:function(_187){var _188=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_188,this["class"]);this["class"]=_187;dojo.addClass(_188,_187);},_setStyleAttr:function(_189){var _18a=this[this.attributeMap["style"]||"domNode"];if(_18a.style.cssText){_18a.style.cssText+="; "+_189;}else{_18a.style.cssText=_189;}this["style"]=_189;},setAttribute:function(attr,_18c){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_18c);},_attrToDom:function(attr,_18e){var _18f=this.attributeMap[attr];dojo.forEach(dojo.isArray(_18f)?_18f:[_18f],function(_190){var _191=this[_190.node||_190||"domNode"];var type=_190.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_18e)){_18e=dojo.hitch(this,_18e);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_191,attr,_18e);break;case "innerHTML":_191.innerHTML=_18e;break;case "class":dojo.removeClass(_191,this[attr]);dojo.addClass(_191,_18e);break;}},this);this[attr]=_18e;},attr:function(name,_194){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _197=this._getAttrNames(name);if(args==2){if(this[_197.s]){return this[_197.s](_194)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_194);}this[name]=_194;}return this;}else{if(this[_197.g]){return this[_197.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_19d,_19e){var d=dojo;var dco=d.hitch(d,"connect",obj);var _1a1=[];if(_19d=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_19e);_1a1.push(dco("onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dco("onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE){return m(e);}}));if(d.isFF){_1a1.push(dco("onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER){return m(e);}}));}}_19d="onclick";}_1a1.push(dco(_19d,this,_19e));this._connects.push(_1a1);return _1a1;},disconnect:function(_1a6){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_1a6){dojo.forEach(_1a6,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_1a8,_1a9){if(_1a8["declaredClass"]&&_1a8["addChild"]){_1a8.addChild(this,_1a9);}else{dojo.place(this.domNode,_1a8,_1a9);}return this;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_1b3,map,_1b5,_1b6){_1b6=_1b6||dojo.global;_1b5=(!_1b5)?function(v){return v;}:dojo.hitch(_1b6,_1b5);return _1b3.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1b8,key,_1ba){var _1bb=dojo.getObject(key,false,map);if(_1ba){_1bb=dojo.getObject(_1ba,false,_1b6).call(_1b6,_1bb,key);}return _1b5(_1bb,key).toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_1be,_1bf){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _1c0=dojo.date.stamp._isoRegExp.exec(_1be);var _1c1=null;if(_1c0){_1c0.shift();if(_1c0[1]){_1c0[1]--;}if(_1c0[6]){_1c0[6]*=1000;}if(_1bf){_1bf=new Date(_1bf);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _1bf["get"+prop]();}).forEach(function(_1c3,_1c4){if(_1c0[_1c4]===undefined){_1c0[_1c4]=_1c3;}});}_1c1=new Date(_1c0[0]||1970,_1c0[1]||0,_1c0[2]||1,_1c0[3]||0,_1c0[4]||0,_1c0[5]||0,_1c0[6]||0);var _1c5=0;var _1c6=_1c0[7]&&_1c0[7].charAt(0);if(_1c6!="Z"){_1c5=((_1c0[8]||0)*60)+(Number(_1c0[9])||0);if(_1c6!="-"){_1c5*=-1;}}if(_1c6){_1c5-=_1c1.getTimezoneOffset();}if(_1c5){_1c1.setTime(_1c1.getTime()+_1c5*60000);}}return _1c1;};dojo.date.stamp.toISOString=function(_1c7,_1c8){var _=function(n){return (n<10)?"0"+n:n;};_1c8=_1c8||{};var _1cb=[];var _1cc=_1c8.zulu?"getUTC":"get";var date="";if(_1c8.selector!="time"){var year=_1c7[_1cc+"FullYear"]();date=["0000".substr((year+"").length)+year,_(_1c7[_1cc+"Month"]()+1),_(_1c7[_1cc+"Date"]())].join("-");}_1cb.push(date);if(_1c8.selector!="date"){var time=[_(_1c7[_1cc+"Hours"]()),_(_1c7[_1cc+"Minutes"]()),_(_1c7[_1cc+"Seconds"]())].join(":");var _1d0=_1c7[_1cc+"Milliseconds"]();if(_1c8.milliseconds){time+="."+(_1d0<100?"0":"")+_(_1d0);}if(_1c8.zulu){time+="Z";}else{if(_1c8.selector!="time"){var _1d1=_1c7.getTimezoneOffset();var _1d2=Math.abs(_1d1);time+=(_1d1>0?"-":"+")+_(Math.floor(_1d2/60))+":"+_(_1d2%60);}}_1cb.push(time);}return _1cb.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _1d4=d._scopeName+"Type";var qry="["+_1d4+"]";var _1d6=0,_1d7={};var _1d8=function(_1d9,_1da){var nso=_1da||_1d7;if(dojo.isIE){var cn=_1d9["__dojoNameCache"];if(cn&&nso[cn]===_1d9){return cn;}}var name;do{name="__"+_1d6++;}while(name in nso);nso[name]=_1d9;return name;};function val2type(_1de){if(d.isString(_1de)){return "string";}if(typeof _1de=="number"){return "number";}if(typeof _1de=="boolean"){return "boolean";}if(d.isFunction(_1de)){return "function";}if(d.isArray(_1de)){return "array";}if(_1de instanceof Date){return "date";}if(_1de instanceof d._Url){return "url";}return "object";};function str2obj(_1df,type){switch(type){case "string":return _1df;case "number":return _1df.length?Number(_1df):NaN;case "boolean":return typeof _1df=="boolean"?_1df:!(_1df.toLowerCase()=="false");case "function":if(d.isFunction(_1df)){_1df=_1df.toString();_1df=d.trim(_1df.substring(_1df.indexOf("{")+1,_1df.length-1));}try{if(_1df.search(/[^\w\.]+/i)!=-1){_1df=_1d8(new Function(_1df),this);}return d.getObject(_1df,false);}catch(e){return new Function();}case "array":return _1df?_1df.split(/\s*,\s*/):[];case "date":switch(_1df){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_1df);}case "url":return d.baseUrl+_1df;default:return d.fromJson(_1df);}};var _1e1={};function getClassInfo(_1e2){if(!_1e1[_1e2]){var cls=d.getObject(_1e2);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_1e2+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _1e4=cls.prototype;var _1e5={};for(var name in _1e4){if(name.charAt(0)=="_"){continue;}var _1e7=_1e4[name];_1e5[name]=val2type(_1e7);}_1e1[_1e2]={cls:cls,params:_1e5};}return _1e1[_1e2];};this._functionFromScript=function(_1e8){var _1e9="";var _1ea="";var _1eb=_1e8.getAttribute("args");if(_1eb){d.forEach(_1eb.split(/\s*,\s*/),function(part,idx){_1e9+="var "+part+" = arguments["+idx+"]; ";});}var _1ee=_1e8.getAttribute("with");if(_1ee&&_1ee.length){d.forEach(_1ee.split(/\s*,\s*/),function(part){_1e9+="with("+part+"){";_1ea+="}";});}return new Function(_1e9+_1e8.innerHTML+_1ea);};this.instantiate=function(_1f0){var _1f1=[];d.forEach(_1f0,function(node){if(!node){return;}var type=node.getAttribute(_1d4);if(!type||!type.length){return;}var _1f4=getClassInfo(type),_1f5=_1f4.cls,ps=_1f5._noScript||_1f5.prototype._noScript;var _1f7={},_1f8=node.attributes;for(var name in _1f4.params){var item=_1f8.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _1fb=item.value;switch(name){case "class":_1fb=node.className;break;case "style":_1fb=node.style&&node.style.cssText;}var _1fc=_1f4.params[name];_1f7[name]=str2obj(_1fb,_1fc);}if(!ps){var _1fd=[],_1fe=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_1ff){var _200=_1ff.getAttribute("event"),type=_1ff.getAttribute("type"),nf=d.parser._functionFromScript(_1ff);if(_200){if(type=="dojo/connect"){_1fd.push({event:_200,func:nf});}else{_1f7[_200]=nf;}}else{_1fe.push(nf);}});}var _202=_1f5["markupFactory"];if(!_202&&_1f5["prototype"]){_202=_1f5.prototype["markupFactory"];}var _203=_202?_202(_1f7,node,_1f5):new _1f5(_1f7,node);_1f1.push(_203);var _204=node.getAttribute("jsId");if(_204){d.setObject(_204,_203);}if(!ps){d.forEach(_1fd,function(_205){d.connect(_203,_205.event,null,_205.func);});d.forEach(_1fe,function(func){func.call(_203);});}});d.forEach(_1f1,function(_207){if(_207&&_207.startup&&!_207._started&&(!_207.getParent||!_207.getParent())){_207.startup();}});return _1f1;};this.parse=function(_208){var list=d.query(qry,_208);var _20a=this.instantiate(list);return _20a;};}();(function(){var _20b=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_20b);}else{dojo._loaders.unshift(_20b);}})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateNode:null,templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _20d=this.declaredClass,_20e=this;return dojo.string.substitute(tmpl,this,function(_20f,key){if(key.charAt(0)=="!"){_20f=_20e[key.substr(1)];}if(typeof _20f=="undefined"){throw new Error(_20d+" template:"+key);}if(_20f==null){return "";}return key.charAt(0)=="!"?_20f:_20f.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _211=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_211)){node=dijit._Templated._createNodesFromText(this._stringRepl(_211))[0];}else{node=_211.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);var _213=this.srcNodeRef;if(_213&&_213.parentNode){_213.parentNode.replaceChild(node,_213);}if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(_213);},_fillContent:function(_217){var dest=this.containerNode;if(_217&&dest){while(_217.hasChildNodes()){dest.appendChild(_217.firstChild);}}},_attachTemplateNodes:function(_219,_21a){_21a=_21a||function(n,p){return n.getAttribute(p);};var _21d=dojo.isArray(_219)?_219:(_219.all||_219.getElementsByTagName("*"));var x=dojo.isArray(_219)?0:-1;var _21f={};for(;x<_21d.length;x++){var _220=(x==-1)?_219:_21d[x];if(this.widgetsInTemplate&&_21a(_220,"dojoType")){continue;}var _221=_21a(_220,"dojoAttachPoint");if(_221){var _222,_223=_221.split(/\s*,\s*/);while((_222=_223.shift())){if(dojo.isArray(this[_222])){this[_222].push(_220);}else{this[_222]=_220;}}}var _224=_21a(_220,"dojoAttachEvent");if(_224){var _225,_226=_224.split(/\s*,\s*/);var trim=dojo.trim;while((_225=_226.shift())){if(_225){var _228=null;if(_225.indexOf(":")!=-1){var _229=_225.split(":");_225=trim(_229[0]);_228=trim(_229[1]);}else{_225=trim(_225);}if(!_228){_228=_225;}this.connect(_220,_225,_228);}}}var role=_21a(_220,"waiRole");if(role){dijit.setWaiRole(_220,role);}var _22b=_21a(_220,"waiState");if(_22b){dojo.forEach(_22b.split(/\s*,\s*/),function(_22c){if(_22c.indexOf("-")!=-1){var pair=_22c.split("-");dijit.setWaiState(_220,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_22e,_22f,_230){var _231=dijit._Templated._templateCache;var key=_22f||_22e;var _233=_231[key];if(_233){if(!_233.ownerDocument||_233.ownerDocument==dojo.doc){return _233;}dojo._destroyElement(_233);}if(!_22f){_22f=dijit._Templated._sanitizeTemplateString(dojo._getText(_22e));}_22f=dojo.string.trim(_22f);if(_230||_22f.match(/\$\{([^\}]+)\}/g)){return (_231[key]=_22f);}else{return (_231[key]=dijit._Templated._createNodesFromText(_22f)[0]);}};dijit._Templated._sanitizeTemplateString=function(_234){if(_234){_234=_234.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _235=_234.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_235){_234=_235[1];}}else{_234="";}return _234;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _236=dijit._Templated._templateCache;for(var key in _236){var _238=_236[key];if(!isNaN(_238.nodeType)){dojo._destroyElement(_238);}delete _236[key];}});}(function(){var _239={cell:{re:/^<t[dh][\s\r\n>]/i,pre:"<table><tbody><tr>",post:"</tr></tbody></table>"},row:{re:/^<tr[\s\r\n>]/i,pre:"<table><tbody>",post:"</tbody></table>"},section:{re:/^<(thead|tbody|tfoot)[\s\r\n>]/i,pre:"<table>",post:"</table>"}};var tn;dijit._Templated._createNodesFromText=function(text){if(tn&&tn.ownerDocument!=dojo.doc){dojo._destroyElement(tn);tn=undefined;}if(!tn){tn=dojo.doc.createElement("div");tn.style.display="none";dojo.body().appendChild(tn);}var _23c="none";var _23d=text.replace(/^\s+/,"");for(var type in _239){var map=_239[type];if(map.re.test(_23d)){_23c=type;text=map.pre+text+map.post;break;}}tn.innerHTML=text;if(tn.normalize){tn.normalize();}var tag={cell:"tr",row:"tbody",section:"table"}[_23c];var _241=(typeof tag!="undefined")?tn.getElementsByTagName(tag)[0]:tn;var _242=[];while(_241.firstChild){_242.push(_241.removeChild(_241.firstChild));}tn.innerHTML="";return _242;};})();dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dojox.widget.Toaster"]){dojo._hasResource["dojox.widget.Toaster"]=true;dojo.provide("dojox.widget.Toaster");dojo.declare("dojox.widget.Toaster",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint=\"clipNode\"><div dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onclick:onSelect\"><div dojoAttachPoint=\"contentNode\"></div></div></div>",messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:["br-up","br-left","bl-up","bl-right","tr-down","tr-left","tl-down","tl-right"],duration:2000,slideDuration:500,separator:"<hr></hr>",postCreate:function(){this.inherited(arguments);this.hide();dojo.body().appendChild(this.domNode);this.clipNode.className="dijitToasterClip";this.containerNode.className+=" dijitToasterContainer";this.contentNode.className="dijitToasterContent";if(this.messageTopic){dojo.subscribe(this.messageTopic,this,"_handleMessage");}},_handleMessage:function(_243){if(dojo.isString(_243)){this.setContent(_243);}else{this.setContent(_243.message,_243.type,_243.duration);}},_capitalize:function(w){return w.substring(0,1).toUpperCase()+w.substring(1);},setContent:function(_245,_246,_247){_247=_247||this.duration;if(this.slideAnim){if(this.slideAnim.status()!="playing"){this.slideAnim.stop();}if(this.slideAnim.status()=="playing"||(this.fadeAnim&&this.fadeAnim.status()=="playing")){setTimeout(dojo.hitch(this,function(){this.setContent(_245,_246,_247);}),50);return;}}for(var type in this.messageTypes){dojo.removeClass(this.containerNode,"dijitToaster"+this._capitalize(this.messageTypes[type]));}dojo.style(this.containerNode,"opacity",1);this._setContent(_245);dojo.addClass(this.containerNode,"dijitToaster"+this._capitalize(_246||this.defaultType));this.show();var _249=dojo.marginBox(this.containerNode);this._cancelHideTimer();if(this.isVisible){this._placeClip();if(!this._stickyMessage){this._setHideTimer(_247);}}else{var _24a=this.containerNode.style;var pd=this.positionDirection;if(pd.indexOf("-up")>=0){_24a.left=0+"px";_24a.top=_249.h+10+"px";}else{if(pd.indexOf("-left")>=0){_24a.left=_249.w+10+"px";_24a.top=0+"px";}else{if(pd.indexOf("-right")>=0){_24a.left=0-_249.w-10+"px";_24a.top=0+"px";}else{if(pd.indexOf("-down")>=0){_24a.left=0+"px";_24a.top=0-_249.h-10+"px";}else{throw new Error(this.id+".positionDirection is invalid: "+pd);}}}}this.slideAnim=dojo.fx.slideTo({node:this.containerNode,top:0,left:0,duration:this.slideDuration});this.connect(this.slideAnim,"onEnd",function(_24c,anim){this.fadeAnim=dojo.fadeOut({node:this.containerNode,duration:1000});this.connect(this.fadeAnim,"onEnd",function(evt){this.isVisible=false;this.hide();});this._setHideTimer(_247);this.connect(this,"onSelect",function(evt){this._cancelHideTimer();this._stickyMessage=false;this.fadeAnim.play();});this.isVisible=true;});this.slideAnim.play();}},_setContent:function(_250){if(dojo.isFunction(_250)){_250(this);return;}if(_250&&this.isVisible){_250=this.contentNode.innerHTML+this.separator+_250;}this.contentNode.innerHTML=_250;},_cancelHideTimer:function(){if(this._hideTimer){clearTimeout(this._hideTimer);this._hideTimer=null;}},_setHideTimer:function(_251){this._cancelHideTimer();if(_251>0){this._cancelHideTimer();this._hideTimer=setTimeout(dojo.hitch(this,function(evt){if(this.bgIframe&&this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this._hideTimer=null;this._stickyMessage=false;this.fadeAnim.play();}),_251);}else{this._stickyMessage=true;}},_placeClip:function(){var view=dijit.getViewport();var _254=dojo.marginBox(this.containerNode);var _255=this.clipNode.style;_255.height=_254.h+"px";_255.width=_254.w+"px";var pd=this.positionDirection;if(pd.match(/^t/)){_255.top=view.t+"px";}else{if(pd.match(/^b/)){_255.top=(view.h-_254.h-2+view.t)+"px";}}if(pd.match(/^[tb]r-/)){_255.left=(view.w-_254.w-1-view.l)+"px";}else{if(pd.match(/^[tb]l-/)){_255.left=0+"px";}}_255.clip="rect(0px, "+_254.w+"px, "+_254.h+"px, 0px)";if(dojo.isIE){if(!this.bgIframe){this.clipNode.id=dijit.getUniqueId("dojox_widget_Toaster_clipNode");this.bgIframe=new dijit.BackgroundIframe(this.clipNode);}var _257=this.bgIframe.iframe;if(_257){_257.style.display="block";}}},onSelect:function(e){},show:function(){dojo.style(this.domNode,"display","block");this._placeClip();if(!this._scrollConnected){this._scrollConnected=dojo.connect(window,"onscroll",this,this._placeClip);}},hide:function(){dojo.style(this.domNode,"display","none");if(this._scrollConnected){dojo.disconnect(this._scrollConnected);this._scrollConnected=false;}dojo.style(this.containerNode,"opacity",1);}});}if(!dojo._hasResource["dojox.html.metrics"]){dojo._hasResource["dojox.html.metrics"]=true;dojo.provide("dojox.html.metrics");(function(){var dhm=dojox.html.metrics;dhm.getFontMeasurements=function(){var _25a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.border="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";dojo.body().appendChild(div);for(var p in _25a){ds.fontSize=p;_25a[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _25a;};var _25e=null;dhm.getCachedFontMeasurements=function(_25f){if(_25f||!_25e){_25e=dhm.getFontMeasurements();}return _25e;};var _260=null,_261={};dhm.getTextBox=function(text,_263,_264){var m;if(!_260){m=_260=dojo.doc.createElement("div");m.style.position="absolute";m.style.left="-10000px";m.style.top="0";dojo.body().appendChild(m);}else{m=_260;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_263){for(var i in _263){if(i in _261){continue;}m.style[i]=_263[i];}}if(arguments.length>2&&_264){m.className=_264;}m.innerHTML=text;return dojo.marginBox(m);};var _267={w:16,h:16};dhm.getScrollbar=function(){return {w:_267.w,h:_267.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_268){var f=dhm._fontResizeNode=dojo.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";dojo.body().appendChild(f);if(dojo.isIE){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=Function("window.parent."+dojox._scopeName+".html.metrics._fontresize()");}};}else{f.onload=function(){f.contentWindow.onresize=Function("window.parent."+dojox._scopeName+".html.metrics._fontresize()");};}dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};dojo.addOnLoad(function(){try{var n=dojo.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";dojo.body().appendChild(n);_267.w=n.offsetWidth-n.clientWidth;_267.h=n.offsetHeight-n.clientHeight;dojo.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in dojo.config&&!!dojo.config.fontSizeWatch){dhm.initOnFontResize();}});})();}if(!dojo._hasResource["dojox.grid.util"]){dojo._hasResource["dojox.grid.util"]=true;dojo.provide("dojox.grid.util");(function(){var dgu=dojox.grid.util;dgu.na="...";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_271,_272){if(_272>=0){var s=_271.style;var v=_272+"px";if(_271&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_275,_276,_277,_278){var evts=(_278?_278:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_276.connect(_275,"on"+evts[i],_277);}},dgu.removeNode=function(_27c){_27c=dojo.byId(_27c);_27c&&_27c.parentNode&&_27c.parentNode.removeChild(_27c);return _27c;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_281,_282,_283){if(_281.length<=_282){_281[_282]=_283;}else{_281.splice(_282,0,_283);}};dgu.arrayRemove=function(_284,_285){_284.splice(_285,1);};dgu.arraySwap=function(_286,inI,inJ){var _289=_286[inI];_286[inI]=_286[inJ];_286[inJ]=_289;};})();}if(!dojo._hasResource["dojox.grid._Scroller"]){dojo._hasResource["dojox.grid._Scroller"]=true;dojo.provide("dojox.grid._Scroller");(function(){var _28a=function(_28b){var i=0,n,p=_28b.parentNode;while((n=p.childNodes[i++])){if(n==_28b){return i-1;}}return -1;};var _28f=function(_290){if(!_290){return;}var _291=function(inW){return inW.domNode&&dojo.isDescendant(inW.domNode,_290,true);};var ws=dijit.registry.filter(_291);for(var i=0,w;(w=ws[i]);i++){w.destroy();}delete ws;};var _296=function(_297){var node=dojo.byId(_297);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _299=function(_29a,_29b){var _29c=[];var i=0,n;while((n=_29a.childNodes[i++])){if(_296(n)==_29b){_29c.push(n);}}return _29c;};var _29f=function(_2a0){return _299(_2a0,"div");};dojo.declare("dojox.grid._Scroller",null,{constructor:function(_2a1){this.setContentNodes(_2a1);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_2a2,_2a3,_2a4){switch(arguments.length){case 3:this.rowsPerPage=_2a4;case 2:this.keepRows=_2a3;case 1:this.rowCount=_2a2;}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=dojo.hitch(this,"onscroll");}},_getPageCount:function(_2a5,_2a6){return _2a5?(Math.ceil(_2a5/_2a6)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_2a7){this.keepRows=_2a7;this.keepPages=!this.keepRows?this.keepRows:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_2a8){this.contentNodes=_2a8;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();},updateRowCount:function(_2aa){this.invalidateNodes();this.rowCount=_2aa;var _2ab=this.pageCount;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_2ab){for(var i=_2ab-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_2ab){this.height+=this.defaultPageHeight*(this.pageCount-_2ab-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_2ad){return Boolean(this.getDefaultPageNode(_2ad));},measurePage:function(_2ae){var n=this.getDefaultPageNode(_2ae);return (n&&n.innerHTML)?n.offsetHeight:0;},positionPage:function(_2b0,_2b1){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_2b0].style.top=_2b1+"px";}},repositionPages:function(_2b3){var _2b4=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_2b4[_2b3];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_2b3):0);for(var p=_2b3+1;p<=last;p++){n=_2b4[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_2ba){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_2ba]);}},preparePage:function(_2bc,_2bd,_2be){var p=(_2be?this.popPage():null);for(var i=0;i<this.colCount;i++){var _2c1=this.pageNodes[i];var _2c2=(p===null?this.createPageNode():this.invalidatePageNode(p,_2c1));_2c2.pageIndex=_2bc;_2c2.id=(this._pageIdPrefix||"")+"page-"+_2bc;_2c1[_2bc]=_2c2;}},renderPage:function(_2c3){var _2c4=[];for(var i=0;i<this.colCount;i++){_2c4[i]=this.pageNodes[i][_2c3];}for(var i=0,j=_2c3*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_2c4);}},removePage:function(_2c7){for(var i=0,j=_2c7*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_2ca){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_2ca,this.pageNodes[i]);if(n){dojo._destroyElement(n);}}},pacify:function(_2cd){},pacifying:false,pacifyTicks:200,setPacifying:function(_2ce){if(this.pacifying!=_2ce){this.pacifying=_2ce;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _2cf=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _2cf;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){dojox.grid.util.setStyleHeightPx(this.contentNodes[i],this.height);}this.needPage(this.page,this.pageTop);var _2d1=(this.page<this.pageCount-1)?this.rowsPerPage:(this.rowCount%this.rowsPerPage);var _2d2=this.getPageHeight(this.page);this.averageRowHeight=(_2d2>0&&_2d1>0)?(_2d2/_2d1):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _2d3=this.pageCount-1;var _2d4=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_2d3]=_2d4;return _2d4;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_2d6){if(this.pageExists(_2d6)){var oh=this.getPageHeight(_2d6);var h=(this.measurePage(_2d6))||(oh);this.pageHeights[_2d6]=h;if((h)&&(oh!=h)){this.updateContentHeight(h-oh);this.repositionPages(_2d6);}}},rowHeightChanged:function(_2d9){this.updatePageHeight(Math.floor(_2d9/this.rowsPerPage));},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");p.style.position="absolute";p.style[dojo._isBodyLtr()?"left":"right"]="0";return p;},getPageHeight:function(_2db){var ph=this.pageHeights[_2db];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_2dd){return this.stack.push(_2dd);},popPage:function(){return this.stack.shift();},findPage:function(_2de){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_2de){break;}}this.page=i;this.pageTop=h;},buildPage:function(_2e2,_2e3,_2e4){this.preparePage(_2e2,_2e3);this.positionPage(_2e2,_2e4);this.installPage(_2e2);this.renderPage(_2e2);this.pushPage(_2e2);},needPage:function(_2e5,_2e6){var h=this.getPageHeight(_2e5),oh=h;if(!this.pageExists(_2e5)){this.buildPage(_2e5,this.keepPages&&(this.stack.length>=this.keepPages),_2e6);h=this.measurePage(_2e5)||h;this.pageHeights[_2e5]=h;if(h&&(oh!=h)){this.updateContentHeight(h-oh);}}else{this.positionPage(_2e5,_2e6);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_2e9){this.grid.scrollTop=_2e9;if(this.colCount){this.startPacify();this.findPage(_2e9);var h=this.height;var b=this.getScrollBottom(_2e9);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_2e9);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_2ee){return (this.windowHeight>=0?_2ee+this.windowHeight:-1);},processNodeEvent:function(e,_2f0){var t=e.target;while(t&&(t!=_2f0)&&t.parentNode&&(t.parentNode.parentNode!=_2f0)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_2f0)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_28a(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_2f4,_2f5){},removeRow:function(_2f6){},getDefaultPageNode:function(_2f7){return this.getDefaultNodes()[_2f7];},positionPageNode:function(_2f8,_2f9){},getPageNodePosition:function(_2fa){return _2fa.offsetTop;},invalidatePageNode:function(_2fb,_2fc){var p=_2fc[_2fb];if(p){delete _2fc[_2fb];this.removePage(_2fb,p);_28f(p);p.innerHTML="";}return p;},getPageRow:function(_2fe){return _2fe*this.rowsPerPage;},getLastPageRow:function(_2ff){return Math.min(this.rowCount,this.getPageRow(_2ff+1))-1;},getFirstVisibleRow:function(_300,_301,_302){if(!this.pageExists(_300)){return 0;}var row=this.getPageRow(_300);var _304=this.getDefaultNodes();var rows=_29f(_304[_300]);for(var i=0,l=rows.length;i<l&&_301<_302;i++,row++){_301+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_308,_309,_30a){if(!this.pageExists(_308)){return 0;}var _30b=this.getDefaultNodes();var row=this.getLastPageRow(_308);var rows=_29f(_30b[_308]);for(var i=rows.length-1;i>=0&&_309>_30a;i--,row--){_309-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_30f){var _310=this.getDefaultNodes();var rows=_29f(_310[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_30f){this.offset=h-(t-_30f);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_316){var _317=Math.floor(_316/this.rowsPerPage);var t=0;for(var i=0;i<_317;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.needPage(_317,this.pageTop);var _31a=this.getDefaultNodes();var rows=_29f(_31a[_317]);var r=_316-this.rowsPerPage*_317;for(var i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});})();}if(!dojo._hasResource["dojox.grid.cells._base"]){dojo._hasResource["dojox.grid.cells._base"]=true;dojo.provide("dojox.grid.cells._base");(function(){var _31e=function(_31f){try{dojox.grid.util.fire(_31f,"focus");dojox.grid.util.fire(_31f,"select");}catch(e){}};var _320=function(){setTimeout(dojo.hitch.apply(dojo,arguments),0);};var dgc=dojox.grid.cells;dojo.declare("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,_valueProp:"value",_formatPending:false,constructor:function(_322){this._props=_322||{};dojo.mixin(this,_322);},format:function(_323,_324){var f,i=this.grid.edit.info,d=this.get?this.get(_323,_324):(this.value||this.defaultValue);if(this.editable&&(this.alwaysEditing||(i.rowIndex==_323&&i.cell==this))){return this.formatEditing(d,_323);}else{var v=(d!=this.defaultValue&&(f=this.formatter))?f.call(this,d,_323):d;return (typeof v=="undefined"?this.defaultValue:v);}},formatEditing:function(_329,_32a){},getNode:function(_32b){return this.view.getCellNode(_32b,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_32c){return (this.getNode(_32c)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_32f,_330){this.grid.edit.applyCellEdit(_32f,this,_330);},cancelEdit:function(_331){this.grid.doCancelEdit(_331);},_onEditBlur:function(_332){if(this.grid.edit.isEditCell(_332,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_333,_334){if(this.commitOnBlur){dojo.connect(_333,"onblur",function(e){setTimeout(dojo.hitch(this,"_onEditBlur",_334),250);});}},needFormatNode:function(_336,_337){this._formatPending=true;_320(this,"_formatNode",_336,_337);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_338,_339){if(this._formatPending){this._formatPending=false;dojo.setSelectable(this.grid.domNode,true);this.formatNode(this.getEditNode(_339),_338,_339);}},formatNode:function(_33a,_33b,_33c){if(dojo.isIE){_320(this,"focus",_33c,_33a);}else{this.focus(_33c,_33a);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_33f){return this.getEditNode(_33f)[this._valueProp];},setValue:function(_340,_341){var n=this.getEditNode(_340);if(n){n[this._valueProp]=_341;}},focus:function(_343,_344){_31e(_344||this.getEditNode(_343));},save:function(_345){this.value=this.value||this.getValue(_345);},restore:function(_346){this.setValue(_346,this.value);},_finish:function(_347){dojo.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_348){this.applyEdit(this.getValue(_348),_348);this._finish(_348);},cancel:function(_349){this.cancelEdit(_349);this._finish(_349);}});dgc._Base.markupFactory=function(node,_34b){var d=dojo;var _34d=d.trim(d.attr(node,"formatter")||"");if(_34d){_34b.formatter=dojo.getObject(_34d);}var get=d.trim(d.attr(node,"get")||"");if(get){_34b.get=dojo.getObject(get);}var _34f=d.trim(d.attr(node,"sortDesc")||"");if(_34f){_34b.sortDesc=!(_34f.toLowerCase()=="false");}var _350=d.trim(d.attr(node,"loadingText")||d.attr(node,"defaultValue")||"");if(_350){_34b.defaultValue=_350;}var _351=d.trim(d.attr(node,"editable")||"");if(_351){_34b.editable=!(_351.toLowerCase()=="false");}var _352=d.trim(d.attr(node,"alwaysEditing")||"");if(_352){_34b.alwaysEditing=!(_352.toLowerCase()=="false");}var _353=d.trim(d.attr(node,"styles")||"");if(_353){_34b.styles=_353;}var _354=d.trim(d.attr(node,"classes")||"");if(_354){_34b.classes=_354;}};dojo.declare("dojox.grid.cells.Cell",dgc._Base,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_355,_356){this.needFormatNode(_355,_356);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_355+"\">";},formatNode:function(_357,_358,_359){this.inherited(arguments);this.registerOnBlur(_357,_359);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){dojo.stopEvent(e);}}},_finish:function(_35c){this.inherited(arguments);var n=this.getEditNode(_35c);try{dojox.grid.util.fire(n,"blur");}catch(e){}}});dgc.Cell.markupFactory=function(node,_35f){dgc._Base.markupFactory(node,_35f);var d=dojo;var _361=d.trim(d.attr(node,"keyFilter")||"");if(_361){_35f.keyFilter=new RegExp(_361);}};dojo.declare("dojox.grid.cells.RowIndex",dgc.Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_362){return _362+1;}});dgc.RowIndex.markupFactory=function(node,_364){dgc.Cell.markupFactory(node,_364);};dojo.declare("dojox.grid.cells.Select",dgc.Cell,{options:null,values:null,returnIndex:-1,constructor:function(_365){this.values=this.values||this.options;},formatEditing:function(_366,_367){this.needFormatNode(_366,_367);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){h.push("<option",(_366==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},getValue:function(_36c){var n=this.getEditNode(_36c);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});dgc.Select.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);var d=dojo;var _373=d.trim(d.attr(node,"options")||"");if(_373){var o=_373.split(",");if(o[0]!=_373){cell.options=o;}}var _375=d.trim(d.attr(node,"values")||"");if(_375){var v=_375.split(",");if(v[0]!=_375){cell.values=v;}}};dojo.declare("dojox.grid.cells.AlwaysEdit",dgc.Cell,{alwaysEditing:true,_formatNode:function(_377,_378){this.formatNode(this.getEditNode(_378),_377,_378);},applyStaticValue:function(_379){var e=this.grid.edit;e.applyCellEdit(this.getValue(_379),this,_379);e.start(this,_379,true);}});dgc.AlwaysEdit.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);};dojo.declare("dojox.grid.cells.Bool",dgc.AlwaysEdit,{_valueProp:"checked",formatEditing:function(_37d,_37e){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_37d?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});dgc.Bool.markupFactory=function(node,cell){dgc.AlwaysEdit.markupFactory(node,cell);};})();}if(!dojo._hasResource["dojox.grid.cells"]){dojo._hasResource["dojox.grid.cells"]=true;dojo.provide("dojox.grid.cells");}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isSafari||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _399=n.scrollLeft,_39a=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_399!=n.scrollLeft||_39a!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_3a0=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_3a0];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isSafari&&dojo.dnd._isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_3af){this.node=dojo.byId(node);if(!_3af){_3af={};}this.handle=_3af.handle?dojo.byId(_3af.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_3af.delay>0?_3af.delay:0;this.skip=_3af.skip;this.mover=_3af.mover?_3af.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_3b0,node){return new dojo.dnd.Moveable(node,_3b0);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_3b8){dojo.publish("/dnd/move/start",[_3b8]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_3b9){dojo.publish("/dnd/move/stop",[_3b9]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_3ba){},onMove:function(_3bb,_3bc){this.onMoving(_3bb,_3bc);var s=_3bb.node.style;s.left=_3bc.l+"px";s.top=_3bc.t+"px";this.onMoved(_3bb,_3bc);},onMoving:function(_3be,_3bf){},onMoved:function(_3c0,_3c1){}});}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_3c3){this.node=dojo.byId(node);if(!_3c3){_3c3={};}this.creator=_3c3.creator||null;this.skipForm=_3c3.skipForm;this.parent=_3c3.dropParent&&dojo.byId(_3c3.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_3c3&&_3c3._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_3d3,_3d4){if(!this.parent.firstChild){_3d4=null;}else{if(_3d3){if(!_3d4){_3d4=this.parent.firstChild;}}else{if(_3d4){_3d4=_3d4.nextSibling;}}}if(_3d4){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_3d4);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_3d7,node){_3d7._skipStartup=true;return new dojo.dnd.Container(node,_3d7);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_3e0){var _3e1="dojoDnd"+type;var _3e2=type.toLowerCase()+"State";dojo.removeClass(this.node,_3e1+this[_3e2]);dojo.addClass(this.node,_3e1+_3e0);this[_3e2]=_3e0;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _3e9=node.parentNode;_3e9;node=_3e9,_3e9=node.parentNode){if(_3e9==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){var n=dojo.doc.createElement(tag);n.innerHTML=text;return n;};};dojo.dnd._createTrTd=function(text){var tr=dojo.doc.createElement("tr");var td=dojo.doc.createElement("td");td.innerHTML=text;tr.appendChild(td);return tr;};dojo.dnd._createSpan=function(text){var n=dojo.doc.createElement("span");n.innerHTML=text;return n;};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _3fa=item&&dojo.isObject(item),data,type,n;if(_3fa&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_3fa&&item.data)?item.data:item;type=(_3fa&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}n.id=dojo.dnd.getUniqueId();return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(node,_3ff){if(!_3ff){_3ff={};}this.singular=_3ff.singular;this.autoSync=_3ff.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo._destroyElement(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_411,data,_413,_414){var _415=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_415.call(this,item,hint);if(_411){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,data,_413,_414);this._normalizedCreator=_415;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_419,node){_419._skipStartup=true;return new dojo.dnd.Selector(node,_419);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;dojo.stopEvent(e);return;}if(!this.singular&&e.shiftKey){if(!dojo.dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_424){this.manager=_424;this.construct();},construct:function(){var a=dojo.doc.createElement("table");a.className="dojoDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dojo.doc.createElement("tbody");var tr=dojo.doc.createElement("tr");tr.className="dojoDndAvatarHeader";var td=dojo.doc.createElement("td");td.innerHTML=this._generateText();tr.appendChild(td);dojo.style(tr,"opacity",0.9);b.appendChild(tr);var k=Math.min(5,this.manager.nodes.length);var _42a=this.manager.source,node;for(var i=0;i<k;++i){tr=dojo.doc.createElement("tr");tr.className="dojoDndAvatarItem";td=dojo.doc.createElement("td");if(_42a.creator){node=_42a._normalizedCreator(_42a.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _42d=dojo.doc.createElement("table"),_42e=dojo.doc.createElement("tbody");_42e.appendChild(node);_42d.appendChild(_42e);node=_42d;}}node.id="";td.appendChild(node);tr.appendChild(td);dojo.style(tr,"opacity",(9-i)/10);b.appendChild(tr);}a.appendChild(b);this.node=a;},destroy:function(){dojo._destroyElement(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");dojo.query("tr.dojoDndAvatarHeader td",this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_430){if(this.avatar){this.target=(_430&&_430.targetState!="Disabled")?_430:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_430]);},outSource:function(_431){if(this.avatar){if(this.target==_431){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_432,_433,copy){this.source=_432;this.nodes=_433;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_432,_433,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _437=Boolean(this.target&&flag);if(this.canDropFlag!=_437){this.canDropFlag=_437;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),"dojoDndCopy");dojo.removeClass(dojo.body(),"dojoDndMove");dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar&&(!("mouseButton" in this.source)||(dojo.isSafari&&dojo.dnd._isMac&&this.source.mouseButton==2?e.button==0:this.source.mouseButton==e.button))){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e))),_43e=[this.source,this.nodes,copy,this.target];dojo.publish("/dnd/drop/before",_43e);dojo.publish("/dnd/drop",_43e);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.removeClass(dojo.body(),"dojoDnd"+(this.copy?"Move":"Copy"));dojo.addClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],constructor:function(node,_445){dojo.mixin(this,dojo.mixin({},_445));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_448,_449){if(this==_448){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_449.length;++i){var type=_448.getItem(_449[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_44e,self){if(_44e){return true;}if(arguments.length<2){self=this==dojo.dnd.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_450,node){_450._skipStartup=true;return new dojo.dnd.Source(node,_450);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(this.isDragging){var _454=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox={xy:dojo.coords(this.current,true),w:this.current.offsetWidth,h:this.current.offsetHeight};}if(this.horizontal){_454=(e.pageX-this.targetBox.xy.x)<(this.targetBox.w/2);}else{_454=(e.pageY-this.targetBox.xy.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_454!=this.before){this._markTargetAnchor(_454);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _455=this.getSelectedNodes();if(_455.length){m.startDrag(this,_455,this.copyState(dojo.dnd.getCopyKeyState(e),true));}}}},onMouseDown:function(e){if(this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_458){if(this!=_458){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_45a,_45b,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_45a?(copy?"Copied":"Moved"):"");}var _45d=this.accept&&this.checkAcceptance(_45a,_45b);this._changeState("Target",_45d?"":"Disabled");if(this==_45a){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_45e,_45f,copy,_461){if(this==_461){this.onDrop(_45e,_45f,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_462,_463,copy){if(this!=_462){this.onDropExternal(_462,_463,copy);}else{this.onDropInternal(_463,copy);}},onDropExternal:function(_465,_466,copy){var _468=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _468.call(this,_465.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_465.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_465.getItem(node.id);_465.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_465.selectNone();}this.insertNodes(true,_466,this.before,this.current);if(!copy&&this.creator){_465.deleteSelectedNodes();}this._normalizedCreator=_468;},onDropInternal:function(_472,copy){var _474=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _474.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_472,this.before,this.current);this._normalizedCreator=_474;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_47e){if(this.current==this.targetAnchor&&this.before==_47e){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_47e;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!this.withHandles){return true;}for(var node=e.target;node;node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}if(dojo.hasClass(node,"dojoDndItem")){break;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_483){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_484,node){_484._skipStartup=true;return new dojo.dnd.Target(node,_484);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_487){this.autoSync=true;},markupFactory:function(_488,node){_488._skipStartup=true;return new dojo.dnd.AutoSource(node,_488);}});}if(!dojo._hasResource["dojox.grid._View"]){dojo._hasResource["dojox.grid._View"]=true;dojo.provide("dojox.grid._View");(function(){var _48a="gridRowIndex";var _48b="gridView";var _48c=function(td){return td.cellIndex>=0?td.cellIndex:dojo.indexOf(td.parentNode.cells,td);};var _48e=function(tr){return tr.rowIndex>=0?tr.rowIndex:dojo.indexOf(tr.parentNode.childNodes,tr);};var _490=function(_491,_492){return _491&&((_491.rows||0)[_492]||_491.childNodes[_492]);};var _493=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _496=function(_497,_498){for(var n=_497;n&&_498(n);n=n.parentNode){}return n;};var _49a=function(_49b){var name=_49b.toUpperCase();return function(node){return node.tagName!=name;};};var _49e=function(_49f,_4a0){return _49f.style.cssText==undefined?_49f.getAttribute("style"):_49f.style.cssText;};var _4a1=function(view){if(view){this.view=view;this.grid=view.grid;}};dojo.extend(_4a1,{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"wairole:presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_4a4,_4a5,_4a6,_4a7){var _4a8=[],html;if(_4a7){html=["<th tabIndex=\"-1\" role=\"wairole:columnheader\""];}else{html=["<td tabIndex=\"-1\" role=\"wairole:gridcell\""];}_4a4.colSpan&&html.push(" colspan=\"",_4a4.colSpan,"\"");_4a4.rowSpan&&html.push(" rowspan=\"",_4a4.rowSpan,"\"");html.push(" class=\"dojoxGridCell ");_4a4.classes&&html.push(_4a4.classes," ");_4a6&&html.push(_4a6," ");_4a8.push(html.join(""));_4a8.push("");html=["\" idx=\"",_4a4.index,"\" style=\""];if(_4a5&&_4a5[_4a5.length-1]!=";"){_4a5+=";";}html.push(_4a4.styles,_4a5||"",_4a4.hidden?"display:none;":"");_4a4.unitWidth&&html.push("width:",_4a4.unitWidth,";");_4a8.push(html.join(""));_4a8.push("");html=["\""];_4a4.attrs&&html.push(" ",_4a4.attrs);html.push(">");_4a8.push(html.join(""));_4a8.push("");_4a8.push("</td>");return _4a8;},isCellNode:function(_4aa){return Boolean(_4aa&&_4aa!=dojo.doc&&dojo.attr(_4aa,"idx"));},getCellNodeIndex:function(_4ab){return _4ab?Number(dojo.attr(_4ab,"idx")):-1;},getCellNode:function(_4ac,_4ad){for(var i=0,row;row=_490(_4ac.firstChild,i);i++){for(var j=0,cell;cell=row.cells[j];j++){if(this.getCellNodeIndex(cell)==_4ad){return cell;}}}},findCellTarget:function(_4b2,_4b3){var n=_4b2;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_48b in n.offsetParent.parentNode&&n.offsetParent.parentNode[_48b]!=this.view.id))&&(n!=_4b3)){n=n.parentNode;}return n!=_4b3?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_4b6,_4b7){var n=_4b6;while(n&&(n!=this.domNode)&&(!(_4b7 in n)||(_48b in n&&n[_48b]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_4b9){return this.findTarget(_4b9,_48a);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&dojo.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);}});var _4c1=function(view){_4a1.call(this,view);};_4c1.prototype=new _4a1();dojo.extend(_4c1,{update:function(){this.prepareHtml();},prepareHtml:function(){var _4c3=this.grid.get,_4c4=this.view.structure.cells;for(var j=0,row;(row=_4c4[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_4c3;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);}}},generateHtml:function(_4c9,_4ca){var html=this.getTableArray(),v=this.view,_4cd=v.structure.cells,item=this.grid.getItem(_4ca);dojox.grid.util.fire(this.view,"onBeforeRow",[_4ca,_4cd]);for(var j=0,row;(row=_4cd[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup,cc=cell.customClasses=[],cs=cell.customStyles=[];m[5]=cell.format(_4ca,item);m[1]=cc.join(" ");m[3]=cs.join(";");html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_48a];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});var _4d7=null;var _4d8=function(view){_4a1.call(this,view);};_4d8.prototype=new _4a1();dojo.extend(_4d8,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){this.tableMap=new _4da(this.view.structure.cells);},generateHtml:function(_4db,_4dc){var html=this.getTableArray(),_4de=this.view.structure.cells;dojox.grid.util.fire(this.view,"onBeforeRow",[-1,_4de]);for(var j=0,row;(row=_4de[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_4e3;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn'")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_4e3=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_4e3[5]=(_4dc!=undefined?_4dc:_4db(cell));_4e3[3]=cell.customStyles.join(";");_4e3[1]=cell.customClasses.join(" ");html.push(_4e3.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var x=e.layerX;if(dojo.isMoz){var n=_496(e.target,_49a("th"));x-=(n&&n.offsetLeft)||0;var t=e.sourceView.getScrollbarWidth();if(!dojo._isBodyLtr()&&e.sourceView.headerNode.scrollLeft<t){x-=t;}}var n=_496(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=_48c(e.cellNode);e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&!cell.canResize();},overLeftResizeArea:function(e){if(dojo._isBodyLtr()){return (e.cellIndex>0)&&(e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(dojo._isBodyLtr()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!_4d7){var c=(this.overRightResizeArea(e)?"e-resize":(this.overLeftResizeArea(e)?"w-resize":""));if(c&&!this.canResize(e)){c="not-allowed";}if(dojo.isIE){var t=e.sourceView.headerNode.scrollLeft;e.sourceView.headerNode.style.cursor=c||"";e.sourceView.headerNode.scrollLeft=t;}else{e.sourceView.headerNode.style.cursor=c||"";}if(c){dojo.stopEvent(e);}}},domousedown:function(e){if(!_4d7){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){dojo.stopEvent(e);return true;}},beginColumnResize:function(e){this.moverDiv=document.createElement("div");dojo.style(this.moverDiv,{position:"absolute",left:0});dojo.body().appendChild(this.moverDiv);var m=_4d7=new dojo.dnd.Moveable(this.moverDiv);var _4f8=[],_4f9=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_4f9[i]);i++){_4f8.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=dojo._isBodyLtr()?1:-1;var _4fe=e.grid.views.views;var _4ff=[];for(var i=view.idx+adj,_500;(_500=_4fe[i]);i=i+adj){_4ff.push({node:_500.headerNode,left:window.parseInt(_500.headerNode.style.left)});}var _501=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:dojo.contentBox(e.cellNode).w,vw:dojo.contentBox(view.headerNode).w,table:_501,tw:dojo.contentBox(_501).w,spanners:_4f8,followers:_4ff};m.onMove=dojo.hitch(this,"doResizeColumn",drag);dojo.connect(m,"onMoveStop",dojo.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}_4d7.destroy();delete _4d7;_4d7=null;}));view.convertColPctToFixed();if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_503,_504,_505){var _506=dojo._isBodyLtr();var _507=_506?_505.l:-_505.l;var w=_503.w+_507;var vw=_503.vw+_507;var tw=_503.tw+_507;if(w>=this.minColWidth){for(var i=0,s,sw;(s=_503.spanners[i]);i++){sw=s.width+_507;s.node.style.width=sw+"px";_503.view.setColWidth(s.index,sw);}for(var i=0,f,fl;(f=_503.followers[i]);i++){fl=f.left+_507;f.node.style.left=fl+"px";}_503.node.style.width=w+"px";_503.view.setColWidth(_503.index,w);_503.view.headerNode.style.width=vw+"px";_503.view.setColumnsWidth(tw);if(!_506){_503.view.headerNode.scrollLeft=_503.scrollLeft+_507;}}if(_503.view.flexCells&&!_503.view.testFlexCells()){var t=_493(_503.node);t&&(t.style.width="");}},endResizeColumn:function(_511){dojo._destroyElement(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;var conn=dojo.connect(_511.view,"update",this,function(){dojo.disconnect(conn);this._skipBogusClicks=false;});setTimeout(dojo.hitch(_511.view,"update"),50);}});var _4da=function(rows){this.mapRows(rows);};dojo.extend(_4da,{map:null,mapRows:function(_514){var _515=_514.length;if(!_515){return;}this.map=[];for(var j=0,row;(row=_514[j]);j++){this.map[j]=[];}for(var j=0,row;(row=_514[j]);j++){for(var i=0,x=0,cell,_51b,_51c;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_51c=cell.rowSpan||1;_51b=cell.colSpan||1;for(var y=0;y<_51c;y++){for(var s=0;s<_51b;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_51b;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_524,_525){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_525&&cell.r==_524){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_52a,_52b,_52c){var row=_52a&&_52a.rows[_52b];return row&&row.cells[_52c];},_findOverlappingNodes:function(_52e,_52f,_530){var _531=[];var m=this.getMapCoords(_52f,_530);var row=this.map[m.j];for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_52e,rw.r,rw.c):null);if(n){_531.push(n);}}return _531;},findOverlappingNodes:function(_537){return this._findOverlappingNodes(_493(_537),_48e(_537.parentNode),_48c(_537));}});dojo.declare("dojox.grid._View",[dijit._Widget,dijit._Templated],{defaultWidth:"18em",viewWidth:"",templateString:"<div class=\"dojoxGridView\">\r\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\">\r\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\">\r\n\t\t\t<div dojoAttachPoint=\"headerContentNode\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" />\r\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" />\r\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\">\r\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\"></div>\r\n\t</div>\r\n</div>\r\n",themeable:false,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,postMixInProperties:function(){this.rowNodes=[];},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");dojox.grid.util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);dojox.grid.util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new _4c1(this);this.header=new _4d8(this);if(!dojo._isBodyLtr()){this.headerNodeContainer.style.width="";}},destroy:function(){dojo._destroyElement(this.headerNode);delete this.headerNode;dojo.forEach(this.rowNodes,dojo._destroyElement);this.rowNodes=[];if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(dojo.isSafari||dojo.isOpera){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_538){var vs=this.structure=_538;if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this.onBeforeRow=vs.onBeforeRow;this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _53e=this.hasVScrollbar();var _53f=dojo.style(this.scrollboxNode,"overflow");if(this.noscroll||!_53f||_53f=="hidden"){_53e=false;}else{if(_53f=="scroll"){_53e=true;}}return (_53e?dojox.html.metrics.getScrollbar().w:0);},getColumnsWidth:function(){return this.headerContentNode.firstChild.offsetWidth;},setColumnsWidth:function(_540){this.headerContentNode.firstChild.style.width=_540+"px";if(this.viewWidth){this.viewWidth=_540+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,dojo._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _541=this.grid.layout.cells;var _542=dojo.hitch(this,function(node,_544){var inc=_544?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_541[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_541[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}this.source=new dojo.dnd.Source(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,onMouseDown:dojo.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!_4d7){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(dojo.isIE?1:0)){dojo.dnd.Source.prototype.onMouseDown.call(this.source,e);}}}),_markTargetAnchor:dojo.hitch(this,function(_549){var src=this.source;if(src.current==src.targetAnchor&&src.before==_549){return;}if(src.targetAnchor&&_542(src.targetAnchor,src.before)){src._removeItemClass(_542(src.targetAnchor,src.before),src.before?"After":"Before");}dojo.dnd.Source.prototype._markTargetAnchor.call(src,_549);if(src.targetAnchor&&_542(src.targetAnchor,src.before)){src._addItemClass(_542(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:dojo.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_542(src.targetAnchor,src.before)){src._removeItemClass(_542(src.targetAnchor,src.before),src.before?"After":"Before");}dojo.dnd.Source.prototype._unmarkTargetAnchor.call(src);}),destroy:dojo.hitch(this,function(){dojo.disconnect(this._source_conn);dojo.unsubscribe(this._source_sub);dojo.dnd.Source.prototype.destroy.call(this.source);})});this._source_conn=dojo.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=dojo.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_onDndDropBefore:function(_54c,_54d,copy){if(dojo.dnd.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _54f=this.grid.views.views;var _550=_54f[_54c.viewIndex];var _551=_54f[this.index];if(_551!=_550){var s=_550.convertColPctToFixed();var t=_551.convertColPctToFixed();if(s||t){setTimeout(function(){_550.update();_551.update();},50);}}},_onDndDrop:function(_554,_555,copy){if(dojo.dnd.manager().target!==this.source){if(dojo.dnd.manager().source===this.source){this._removingColumn=true;}return;}var _557=function(n){return n?dojo.attr(n,"idx"):null;};var w=dojo.marginBox(_555[0]).w;if(_554.viewIndex!==this.index){var _55a=this.grid.views.views;var _55b=_55a[_554.viewIndex];var _55c=_55a[this.index];if(_55b.viewWidth&&_55b.viewWidth!="auto"){_55b.setColumnsWidth(_55b.getColumnsWidth()-w);}if(_55c.viewWidth&&_55c.viewWidth!="auto"){_55c.setColumnsWidth(_55c.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;var _55f=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;window.setTimeout(function(){_55f.moveColumn(_554.viewIndex,idx,_557(_555[0]),_557(stn),stb);},1);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}},_getHeaderContent:function(_561){var n=_561.name||_561.grid.getCellName(_561);var ret=["<div class=\"dojoxGridSortNode"];if(_561.index!=_561.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_561.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_561.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\"></div>"]);}ret=ret.concat([n,"</div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_564){if(this._hasHScroll==undefined||_564){if(this.noscroll){this._hasHScroll=false;}else{var _565=dojo.style(this.scrollboxNode,"overflow");if(_565=="hidden"){this._hasHScroll=false;}else{if(_565=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth<this.contentNode.offsetWidth);}}}}return this._hasHScroll;},hasVScrollbar:function(_566){if(this._hasVScroll==undefined||_566){if(this.noscroll){this._hasVScroll=false;}else{var _567=dojo.style(this.scrollboxNode,"overflow");if(_567=="hidden"){this._hasVScroll=false;}else{if(_567=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.offsetHeight<this.contentNode.offsetHeight);}}}}return this._hasVScroll;},convertColPctToFixed:function(){var _568=false;var _569=dojo.query("th",this.headerContentNode);var _56a=dojo.map(_569,function(c){var w=c.style.width;if(w&&w.slice(-1)=="%"){_568=true;return dojo.contentBox(c).w;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return -1;});if(_568){dojo.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var vIdx=cell.layoutIndex;this.setColWidth(idx,_56a[vIdx]);_569[vIdx].style.width=cell.unitWidth;}},this);return true;}return false;},adaptHeight:function(_570){if(!this.grid._autoHeight){var h=this.domNode.clientHeight;if(_570){h-=dojox.html.metrics.getScrollbar().h;}dojox.grid.util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_578){var _579=this.createRowNode(_578);this.buildRow(_578,_579);this.grid.edit.restore(this,_578);if(this._pendingUpdate){window.clearTimeout(this._pendingUpdate);}this._pendingUpdate=window.setTimeout(dojo.hitch(this,function(){window.clearTimeout(this._pendingUpdate);delete this._pendingUpdate;this.grid._resize();}),50);return _579;},createRowNode:function(_57a){var node=document.createElement("div");node.className=this.classTag+"Row";node[_48b]=this.id;node[_48a]=_57a;this.rowNodes[_57a]=node;return node;},buildRow:function(_57c,_57d){this.buildRowContent(_57c,_57d);this.styleRow(_57c,_57d);},buildRowContent:function(_57e,_57f){_57f.innerHTML=this.content.generateHtml(_57e,_57e);if(this.flexCells&&this.contentWidth){_57f.firstChild.style.width=this.contentWidth;}},rowRemoved:function(_580){this.grid.edit.save(this,_580);delete this.rowNodes[_580];},getRowNode:function(_581){return this.rowNodes[_581];},getCellNode:function(_582,_583){var row=this.getRowNode(_582);if(row){return this.content.getCellNode(row,_583);}},getHeaderCellNode:function(_585){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_585);}},styleRow:function(_586,_587){_587._style=_49e(_587);this.styleRowNode(_586,_587);},styleRowNode:function(_588,_589){if(_589){this.doStyleRowNode(_588,_589);}},doStyleRowNode:function(_58a,_58b){this.grid.styleRowNode(_58a,_58b);},updateRow:function(_58c){var _58d=this.getRowNode(_58c);if(_58d){_58d.style.height="";this.buildRow(_58c,_58d);}return _58d;},updateRowStyles:function(_58e){this.styleRowNode(_58e,this.getRowNode(_58e));},lastTop:0,firstScroll:0,doscroll:function(_58f){var _590=dojo._isBodyLtr();if(this.firstScroll<2){if((!_590&&this.firstScroll==1)||(_590&&this.firstScroll==0)){var s=dojo.marginBox(this.headerNodeContainer);if(dojo.isIE){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(dojo.isMoz){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_590?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!=this.lastTop){this.grid.scrollTo(top);}},setScrollTop:function(_593){this.lastTop=_593;this.scrollboxNode.scrollTop=_593;return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_598,_599){this.grid.setCellWidth(_598,_599+"px");},update:function(){var left=this.scrollboxNode.scrollLeft;this.content.update();this.grid.update();this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});dojo.declare("dojox.grid._GridAvatar",dojo.dnd.Avatar,{construct:function(){var dd=dojo.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _5a1=this.manager.source,node;if(_5a1.creator){node=_5a1._normailzedCreator(_5a1.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _5a3=dd.createElement("table"),_5a4=dd.createElement("tbody");_5a4.appendChild(node);_5a3.appendChild(_5a4);node=_5a3;}else{if(node.tagName.toLowerCase()=="th"){var _5a3=dd.createElement("table"),_5a4=dd.createElement("tbody"),r=dd.createElement("tr");_5a3.cellPadding=_5a3.cellSpacing="0";r.appendChild(node);_5a4.appendChild(r);_5a3.appendChild(_5a4);node=_5a3;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);dojo.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=dojo.dnd.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){dojo.dnd.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _5a7=dojo.dnd.manager().makeAvatar;dojo.dnd.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined){return new dojox.grid._GridAvatar(this);}return _5a7.call(dojo.dnd.manager());};})();}if(!dojo._hasResource["dojox.grid._RowSelector"]){dojo._hasResource["dojox.grid._RowSelector"]=true;dojo.provide("dojox.grid._RowSelector");dojo.declare("dojox.grid._RowSelector",dojox.grid._View,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_5a9,_5aa){var w=this.contentNode.offsetWidth-this.padBorderWidth;_5aa.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"wairole:presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){},doStyleRowNode:function(_5ac,_5ad){var n=["dojoxGridRowbar"];if(this.grid.rows.isOver(_5ac)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_5ac)){n.push("dojoxGridRowbarSelected");}_5ad.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});}if(!dojo._hasResource["dojox.grid._Layout"]){dojo._hasResource["dojox.grid._Layout"]=true;dojo.provide("dojox.grid._Layout");dojo.declare("dojox.grid._Layout",null,{constructor:function(_5b1){this.grid=_5b1;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_5b2,_5b3,_5b4,_5b5,_5b6){var _5b7=this.structure[_5b2].cells[0];var _5b8=this.structure[_5b3].cells[0];var cell=null;var _5ba=0;var _5bb=0;for(var i=0,c;c=_5b7[i];i++){if(c.index==_5b4){_5ba=i;break;}}cell=_5b7.splice(_5ba,1)[0];cell.view=this.grid.views.views[_5b3];for(i=0,c=null;c=_5b8[i];i++){if(c.index==_5b5){_5bb=i;break;}}if(!_5b6){_5bb+=1;}_5b8.splice(_5bb,0,cell);var _5be=this.grid.getCell(this.grid.getSortIndex());if(_5be){_5be._currentlySorted=this.grid.getSortAsc();}this.cells=[];var _5b4=0;for(var i=0,v;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0,c;c=cs[k];k++){c.index=_5b4;this.cells.push(c);if("_currentlySorted" in c){var si=_5b4+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_5b4++;}}}this.grid.setupHeaderMenu();},setColumnVisibility:function(_5c4,_5c5){var cell=this.cells[_5c4];if(cell.hidden==_5c5){cell.hidden=!_5c5;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=dojo.marginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_5c9,_5ca,_5cb){var self=this;var _5cd=function(_5ce){var w=0;if(_5ce.colSpan>1){w=0;}else{if(!isNaN(_5ce.width)){w=_5ce.width+"em";}else{w=_5ce.width||self.defaultWidth;}}return w;};var _5d0={grid:this.grid,subrow:_5c9,layoutIndex:_5ca,index:this.cells.length};if(_5cb&&_5cb instanceof dojox.grid.cells._Base){var _5d1=dojo.clone(_5cb);_5d0.unitWidth=_5cd(_5d1._props);_5d1=dojo.mixin(_5d1,this._defaultCellProps,_5cb._props,_5d0);return _5d1;}var _5d2=_5cb.type||this._defaultCellProps.type||dojox.grid.cells.Cell;_5d0.unitWidth=_5cd(_5cb);return new _5d2(dojo.mixin({},this._defaultCellProps,_5cb,_5d0));},addRowDef:function(_5d3,_5d4){var _5d5=[];var _5d6=0,_5d7=0,_5d8=true;for(var i=0,def,cell;(def=_5d4[i]);i++){cell=this.addCellDef(_5d3,i,def);_5d5.push(cell);this.cells.push(cell);if(_5d8&&cell.relWidth){_5d6+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_5d7+=window.parseInt(w,10);}else{if(w=="auto"){_5d8=false;}}}}}if(_5d6&&_5d8){dojo.forEach(_5d5,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_5d6)*(100-_5d7))+"%";}});}return _5d5;},addRowsDef:function(_5de){var _5df=[];if(dojo.isArray(_5de)){if(dojo.isArray(_5de[0])){for(var i=0,row;_5de&&(row=_5de[i]);i++){_5df.push(this.addRowDef(i,row));}}else{_5df.push(this.addRowDef(0,_5de));}}return _5df;},addViewDef:function(_5e2){this._defaultCellProps=_5e2.defaultCell||{};return dojo.mixin({},_5e2,{cells:this.addRowsDef(_5e2.rows||_5e2.cells)});},setStructure:function(_5e3){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:dojox._scopeName+".grid._RowSelector"};if(dojo.isString(this.grid.rowSelector)){var _5e6=this.grid.rowSelector;if(_5e6=="false"){sel=null;}else{if(_5e6!="true"){sel["width"]=_5e6;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _5e7=function(def){return ("name" in def||"field" in def||"get" in def);};var _5e9=function(def){if(dojo.isArray(def)){if(dojo.isArray(def[0])||_5e7(def[0])){return true;}}return false;};var _5eb=function(def){return (def!=null&&dojo.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_5e7(def))));};if(dojo.isArray(_5e3)){var _5ed=false;for(var i=0,st;(st=_5e3[i]);i++){if(_5eb(st)){_5ed=true;break;}}if(!_5ed){s.push(this.addViewDef({cells:_5e3}));}else{for(var i=0,st;(st=_5e3[i]);i++){if(_5e9(st)){s.push(this.addViewDef({cells:st}));}else{if(_5eb(st)){s.push(this.addViewDef(st));}}}}}else{if(_5eb(_5e3)){s.push(this.addViewDef(_5e3));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});}if(!dojo._hasResource["dojox.grid._ViewManager"]){dojo._hasResource["dojox.grid._ViewManager"]=true;dojo.provide("dojox.grid._ViewManager");dojo.declare("dojox.grid._ViewManager",null,{constructor:function(_5f0){this.grid=_5f0;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_5f1){_5f1.idx=this.views.length;this.views.push(_5f1);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _5f4=[];for(var i=0,v;v=this.views[i];i++){_5f4.push(v.contentNode);}return _5f4;},forEach:function(_5f7){for(var i=0,v;v=this.views[i];i++){_5f7(v,i);}},onEach:function(_5fa,_5fb){_5fb=_5fb||[];for(var i=0,v;v=this.views[i];i++){if(_5fa in v){v[_5fa].apply(v,_5fb);}}},normalizeHeaderNodeHeight:function(){var _5fe=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_5fe.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_5fe);},normalizeRowNodeHeights:function(_601){var h=0;for(var i=0,n,o;(n=_601[i]);i++){h=Math.max(h,dojo.marginBox(n.firstChild).h);}h=(h>=0?h:0);for(var i=0,n;(n=_601[i]);i++){dojo.marginBox(n.firstChild,{h:h});}if(_601&&_601[0]&&_601[0].parentNode){_601[0].parentNode.offsetHeight;}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_609){var _60a=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_609));i++){n.firstChild.style.height="";_60a.push(n);}this.normalizeRowNodeHeights(_60a);},getViewWidth:function(_60e){return this.views[_60e].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_60f){_60f.headerContentNode.style.height="";});var h=0;this.forEach(function(_611){h=Math.max(_611.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_613){h=Math.max(_613.domNode.offsetHeight,h);});return h;},findClient:function(_614){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length;var c=(w<=0?len:this.findClient());var _61f=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!dojo._isBodyLtr()){ds.right=l+"px";hs.right=l+"px";}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_61f(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_61f(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_61f(v,l);}return l;},renderRow:function(_626,_627){var _628=[];for(var i=0,v,n,_62c;(v=this.views[i])&&(n=_627[i]);i++){_62c=v.renderRow(_626);n.appendChild(_62c);_628.push(_62c);}this.normalizeRowNodeHeights(_628);},rowRemoved:function(_62d){this.onEach("rowRemoved",[_62d]);},updateRow:function(_62e){for(var i=0,v;v=this.views[i];i++){v.updateRow(_62e);}this.renormalizeRow(_62e);},updateRowStyles:function(_631){this.onEach("updateRowStyles",[_631]);},setScrollTop:function(_632){var top=_632;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_632);}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}}});}if(!dojo._hasResource["dojox.grid._RowManager"]){dojo._hasResource["dojox.grid._RowManager"]=true;dojo.provide("dojox.grid._RowManager");(function(){var _638=function(_639,_63a){if(_639.style.cssText==undefined){_639.setAttribute("style",_63a);}else{_639.style.cssText=_63a;}};dojo.declare("dojox.grid._RowManager",null,{constructor:function(_63b){this.grid=_63b;},linesToEms:2,overRow:-2,prepareStylingRow:function(_63c,_63d){return {index:_63c,node:_63d,odd:Boolean(_63c&1),selected:this.grid.selection.isSelected(_63c),over:this.isOver(_63c),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_63e,_63f){var row=this.prepareStylingRow(_63e,_63f);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_641){var i=_641;i.node.className=i.customClasses;var h=i.node.style.height;_638(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_644){this.grid.updateRowStyles(_644);},setOverRow:function(_645){var last=this.overRow;this.overRow=_645;if((last!=this.overRow)&&(last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_647){return (this.overRow==_647);}});})();}if(!dojo._hasResource["dojox.grid._FocusManager"]){dojo._hasResource["dojox.grid._FocusManager"]=true;dojo.provide("dojox.grid._FocusManager");dojo.declare("dojox.grid._FocusManager",null,{constructor:function(_648){this.grid=_648;this.cell=null;this.rowIndex=-1;this._connects=[];this._connects.push(dojo.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(dojo.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView();this._initColumnHeaders();},isFocusCell:function(_649,_64a){return (this.cell==_649)&&(this.rowIndex==_64a);},isLastFocusCell:function(){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);},isFirstFocusCell:function(){return (this.rowIndex==0)&&(this.cell.index==0);},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return dojo.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_64b){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){dojo.toggleClass(n,this.focusClass,_64b);if(_64b){var sl=this.scrollIntoView();try{if(!this.grid.edit.isEditing()){dojox.grid.util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_initColumnHeaders:function(){this._connects.push(dojo.connect(this.grid.viewsHeaderNode,"onblur",this,"doBlurHeader"));var _64e=this._findHeaderCells();for(var i=0;i<_64e.length;i++){this._connects.push(dojo.connect(_64e[i],"onfocus",this,"doColHeaderFocus"));this._connects.push(dojo.connect(_64e[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _650=dojo.query("th",this.grid.viewsHeaderNode);var _651=[];for(var i=0;i<_650.length;i++){var _653=_650[i];var _654=dojo.hasAttr(_653,"tabindex");var _655=dojo.attr(_653,"tabindex");if(_654&&_655<0){_651.push(_653);}}return _651;},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}return info.s.scrollLeft;},_scrollInfo:function(cell,_659){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_659?_659:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_65e){var info=null;if(this._colHeadNode){info=this._scrollInfo(this.grid.getCell(_65e),this._colHeadNode);}if(info){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}},styleRow:function(_660){return;},setFocusIndex:function(_661,_662){this.setFocusCell(this.grid.getCell(_662),_661);},setFocusCell:function(_663,_664){if(_663&&!this.isFocusCell(_663,_664)){this.tabbingOut=false;this._colHeadNode=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_663;this.rowIndex=_664;this._focusifyCellNode(true);}if(dojo.isOpera){setTimeout(dojo.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}this.setFocusIndex(row,col);},previous:function(){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}this.setFocusIndex(row,col);},move:function(_66b,_66c){if(this.isNavHeader()){var _66d=this._findHeaderCells();var _66e=dojo.indexOf(_66d,this._colHeadNode);_66e+=_66c;if((_66e>=0)&&(_66e<_66d.length)){this._colHeadNode=_66d[_66e];this._colHeadNode.focus();this._scrollHeader(_66e);}}else{var rc=this.grid.rowCount-1,cc=this.grid.layout.cellCount-1,r=this.rowIndex,i=this.cell.index,row=Math.min(rc,Math.max(0,r+_66b)),col=Math.min(cc,Math.max(0,i+_66c));this.setFocusIndex(row,col);if(_66b){this.grid.updateRow(r);}}},previousKey:function(e){if(!this.isNavHeader()){this.focusHeader();dojo.stopEvent(e);}else{if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.previous();}else{this.tabOut(this.grid.domNode);}}},nextKey:function(e){if(e.target===this.grid.domNode){this.focusHeader();dojo.stopEvent(e);}else{if(this.isNavHeader()){this._colHeadNode=null;if(this.isNoFocusCell()){this.setFocusIndex(0,0);}else{if(this.cell){this.focusGrid();}}}else{if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_677){this.tabbingOut=true;_677.focus();},focusGridView:function(){dojox.grid.util.fire(this.focusView,"focus");},focusGrid:function(_678){this.focusGridView();this._focusifyCellNode(true);},focusHeader:function(){var _679=this._findHeaderCells();if(this.isNoFocusCell()){this._colHeadNode=_679[0];}else{this._colHeadNode=_679[this.cell.index];}if(this._colHeadNode){this._colHeadNode.focus();this._focusifyCellNode(false);}},doFocus:function(e){if(e&&e.target!=e.currentTarget){dojo.stopEvent(e);return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;dojo.stopEvent(e);},doBlur:function(e){dojo.stopEvent(e);},doBlurHeader:function(e){dojo.stopEvent(e);},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{this._focusifyCellNode(true);}this.tabbingOut=false;dojo.stopEvent(e);},doLastNodeBlur:function(e){dojo.stopEvent(e);},doColHeaderFocus:function(e){dojo.toggleClass(e.target,this.focusClass,true);},doColHeaderBlur:function(e){dojo.toggleClass(e.target,this.focusClass,false);}});}if(!dojo._hasResource["dojox.grid._EditManager"]){dojo._hasResource["dojox.grid._EditManager"]=true;dojo.provide("dojox.grid._EditManager");dojo.declare("dojox.grid._EditManager",null,{constructor:function(_681){this.grid=_681;this.connections=[];if(dojo.isIE){this.connections.push(dojo.connect(document.body,"onfocus",dojo.hitch(this,"_boomerangFocus")));}},info:{},destroy:function(){dojo.forEach(this.connections,dojo.disconnect);},cellFocus:function(_682,_683){if(this.grid.singleClickEdit||this.isEditRow(_683)){this.setEditCell(_682,_683);}else{this.apply();}if(this.isEditing()||(_682&&_682.editable&&_682.alwaysEditing)){this._focusEditor(_682,_683);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_685){if(_685.index==this.info.rowIndex){_685.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_689,_68a){return (this.info.rowIndex===_689)&&(this.info.cell.index==_68a);},isEditRow:function(_68b){return this.info.rowIndex===_68b;},setEditCell:function(_68c,_68d){if(!this.isEditCell(_68d,_68c.index)&&this.grid.canEdit&&this.grid.canEdit(_68c,_68d)){this.start(_68c,_68d,this.isEditRow(_68d)||_68c.editable);}},_focusEditor:function(_68e,_68f){dojox.grid.util.fire(_68e,"focus",[_68f]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(dojo.isIE){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_690,_691,_692){this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_691)){this.applyRowEdit();this.grid.updateRow(_691);}if(_692){this.info={cell:_690,rowIndex:_691};this.grid.doStartEdit(_690,_691);this.grid.updateRow(_691);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_690,_691);this._doCatchBoomerang();},_editorDo:function(_693){var c=this.info.cell;c&&c.editable&&c[_693](this.info.rowIndex);},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_695,_696,_697){if(this.grid.canEdit(_696,_697)){this.grid.doApplyCellEdit(_695,_697,_696.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_698,_699){var c=this.info.cell;if(this.isEditRow(_698)&&(!_699||c.view==_699)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_69b,_69c){var c=this.info.cell;if(this.isEditRow(_69c)&&c.view==_69b&&c.editable){c.restore(c,this.info.rowIndex);}}});}if(!dojo._hasResource["dojox.grid.Selection"]){dojo._hasResource["dojox.grid.Selection"]=true;dojo.provide("dojox.grid.Selection");dojo.declare("dojox.grid.Selection",null,{constructor:function(_69e){this.grid=_69e;this.selected=[];this.setMode(_69e.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_6a0){return this.grid.onCanSelect(_6a0);},onCanDeselect:function(_6a1){return this.grid.onCanDeselect(_6a1);},onSelected:function(_6a2){},onDeselected:function(_6a3){},onChanging:function(){},onChanged:function(){},isSelected:function(_6a4){if(this.mode=="none"){return false;}return this.selected[_6a4];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_6a7){if(this.mode=="none"){return -1;}for(var i=_6a7+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _6aa=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_6aa.push(i);}}return _6aa;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating==0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating==0){this.onChanged();}},select:function(_6af){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_6af);this.addToSelection(_6af);}else{this.toggleSelect(_6af);}},addToSelection:function(_6b0){if(this.mode=="none"){return;}_6b0=Number(_6b0);if(this.selected[_6b0]){this.selectedIndex=_6b0;}else{if(this.onCanSelect(_6b0)!==false){this.selectedIndex=_6b0;this._beginUpdate();this.selected[_6b0]=true;this.onSelected(_6b0);this._endUpdate();}}},deselect:function(_6b1){if(this.mode=="none"){return;}_6b1=Number(_6b1);if(this.selectedIndex==_6b1){this.selectedIndex=-1;}if(this.selected[_6b1]){if(this.onCanDeselect(_6b1)===false){return;}this._beginUpdate();delete this.selected[_6b1];this.onDeselected(_6b1);this._endUpdate();}},setSelected:function(_6b2,_6b3){this[(_6b3?"addToSelection":"deselect")](_6b2);},toggleSelect:function(_6b4){this.setSelected(_6b4,!this.selected[_6b4]);},_range:function(_6b5,inTo,func){var s=(_6b5>=0?_6b5:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_6bb,inTo){this._range(_6bb,inTo,dojo.hitch(this,"addToSelection"));},deselectRange:function(_6bd,inTo){this._range(_6bd,inTo,dojo.hitch(this,"deselect"));},insert:function(_6bf){this.selected.splice(_6bf,0,false);if(this.selectedIndex>=_6bf){this.selectedIndex++;}},remove:function(_6c0){this.selected.splice(_6c0,1);if(this.selectedIndex>=_6c0){this.selectedIndex--;}},deselectAll:function(_6c1){for(var i in this.selected){if((i!=_6c1)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_6c3,_6c4,_6c5){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_6c3);}else{var _6c6=this.selectedIndex;if(!_6c4){this.deselectAll(_6c3);}if(_6c5){this.selectRange(_6c6,_6c3);}else{if(_6c4){this.toggleSelect(_6c3);}else{this.addToSelection(_6c3);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,e.ctrlKey,e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});}if(!dojo._hasResource["dojox.grid._Events"]){dojo._hasResource["dojox.grid._Events"]=true;dojo.provide("dojox.grid._Events");dojo.declare("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_6cb){var i=_6cb;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_6cb);this.edit.styleRow(_6cb);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var dk=dojo.keys;switch(e.keyCode){case dk.ESCAPE:this.edit.cancel();break;case dk.ENTER:if(!e.shiftKey){var _6cf=this.edit.isEditing();this.edit.apply();if(!_6cf){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}break;case dk.SPACE:if(!this.edit.isEditing()){var _6d0=this.focus.getHeaderIndex();if(_6d0>=0){this.setSortIndex(_6d0);}else{this.selection.clickSelect(this.focus.rowIndex,e.ctrlKey,e.shiftKey);}dojo.stopEvent(e);}break;case dk.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case dk.LEFT_ARROW:case dk.RIGHT_ARROW:if(!this.edit.isEditing()){dojo.stopEvent(e);var _6d1=(e.keyCode==dk.LEFT_ARROW)?1:-1;if(dojo._isBodyLtr()){_6d1*=-1;}this.focus.move(0,_6d1);}break;case dk.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!=0){dojo.stopEvent(e);this.focus.move(-1,0);}break;case dk.DOWN_ARROW:if(!this.edit.isEditing()&&this.store&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);this.focus.move(1,0);}break;case dk.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!=0){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case dk.PAGE_DOWN:if(!this.edit.isEditing()&&this.store&&this.focus.rowIndex+1!=this.store.count){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}this.onRowClick(e);},onCellDblClick:function(e){if(dojo.isIE){this.edit.setEditCell(this._click[1].cell,this._click[1].rowIndex);}else{if(this._click[0].rowIndex!=this._click[1].rowIndex){this.edit.setEditCell(this._click[0].cell,this._click[0].rowIndex);}else{this.edit.setEditCell(e.cell,e.rowIndex);}}this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_6de,_6df){this.edit.cellFocus(_6de,_6df);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){dojo.stopEvent(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){dojo.stopEvent(e);}},onStartEdit:function(_6f1,_6f2){},onApplyCellEdit:function(_6f3,_6f4,_6f5){},onCancelEdit:function(_6f6){},onApplyEdit:function(_6f7){},onCanSelect:function(_6f8){return true;},onCanDeselect:function(_6f9){return true;},onSelected:function(_6fa){this.updateRowStyles(_6fa);},onDeselected:function(_6fb){this.updateRowStyles(_6fb);},onSelectionChanged:function(){}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _6fe=dijit.byId(id);return _6fe.isContainer?_6fe:null;}}return null;},_getSibling:function(_6ff){var node=this.domNode;do{node=node[_6ff+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_703,_704){var _705=this.containerNode;if(_704&&typeof _704=="number"){var _706=dojo.query("> [widgetId]",_705);if(_706&&_706.length>=_704){_705=_706[_704-1];_704="after";}}dojo.place(_703.domNode,_705,_704);if(this._started&&!_703._started){_703.startup();}},removeChild:function(_707){if(typeof _707=="number"&&_707>0){_707=this.getChildren()[_707];}if(!_707||!_707.domNode){return;}var node=_707.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return !!this._firstElement(this.containerNode);},destroyDescendants:function(_70b){dojo.forEach(this.getChildren(),function(_70c){_70c.destroyRecursive(_70b);});},_getSiblingOfChild:function(_70d,dir){var node=_70d.domNode;var _710=(dir>0?"nextSibling":"previousSibling");do{node=node[_710];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;},getIndexOfChild:function(_711){var _712=this.getChildren();for(var i=0,c;c=_712[i];i++){if(c==_711){return i;}}return -1;}});dojo.declare("dijit._KeyNavContainer",[dijit._Container],{_keyNavCodes:{},connectKeyNavHandlers:function(_715,_716){var _717=this._keyNavCodes={};var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_715,function(code){_717[code]=prev;});dojo.forEach(_716,function(code){_717[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_71c,_71d){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_71c);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusNext:function(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return;}var _71e=this._getNextFocusableChild(this.focusedChild,1);if(_71e.getFocalNodes){this.focusChild(_71e,_71e.getFocalNodes()[0]);}else{this.focusChild(_71e);}},focusPrev:function(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return;}var _71f=this._getNextFocusableChild(this.focusedChild,-1);if(_71f.getFocalNodes){var _720=_71f.getFocalNodes();this.focusChild(_71f,_720[_720.length-1]);}else{this.focusChild(_71f);}},focusChild:function(_721,node){if(_721){if(this.focusedChild&&_721!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_721;if(node&&_721.focusFocalNode){_721.focusFocalNode(node);}else{_721.focus();}}},_startupChild:function(_723){if(_723.getFocalNodes){dojo.forEach(_723.getFocalNodes(),function(node){dojo.attr(node,"tabindex",-1);this._connectNode(node);},this);}else{var node=_723.focusNode||_723.domNode;if(_723.isFocusable()){dojo.attr(node,"tabindex",-1);}this._connectNode(node);}},_connectNode:function(node){this.connect(node,"onfocus","_onNodeFocus");this.connect(node,"onblur","_onNodeBlur");},_onContainerFocus:function(evt){if(evt.target===this.domNode){this.focusFirstChild();}},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onNodeFocus:function(evt){dojo.attr(this.domNode,"tabindex",-1);var _72b=dijit.getEnclosingWidget(evt.target);if(_72b&&_72b.isFocusable()){this.focusedChild=_72b;}dojo.stopEvent(evt);},_onNodeBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex);}dojo.stopEvent(evt);},_onChildBlur:function(_72d){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_72e,dir){if(_72e){_72e=this._getSiblingOfChild(_72e,dir);}var _730=this.getChildren();for(var i=0;i<_730.length;i++){if(!_72e){_72e=_730[(dir>0)?0:(_730.length-1)];}if(_72e.isFocusable()){return _72e;}_72e=this._getSiblingOfChild(_72e,dir);}return null;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit.Menu",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{constructor:function(){this._bindings=[];},templateString:"<table class=\"dijit dijitMenu dijitReset dijitMenuTable\" waiRole=\"menu\" dojoAttachEvent=\"onkeypress:_onKeyPress\">"+"<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>"+"</table>",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,parentMenu:null,popupDelay:500,_contextMenuWithMouse:false,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}this.connectKeyNavHandlers([dojo.keys.UP_ARROW],[dojo.keys.DOWN_ARROW]);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_732){_732.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_733){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case dojo.keys.RIGHT_ARROW:this._moveToPopup(evt);dojo.stopEvent(evt);break;case dojo.keys.LEFT_ARROW:if(this.parentMenu){this.onCancel(false);}else{dojo.stopEvent(evt);}break;}},onItemHover:function(item){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}},_onChildBlur:function(item){dijit.popup.close(item.popup);item._blur();this._stopPopupTimer();},onItemUnhover:function(item){},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(item.disabled){return false;}if(item.popup){if(!this.is_open){this._openPopup();}}else{this.onExecute();item.onClick(evt);}},_iframeContentWindow:function(_73c){var win=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(_73c))||dijit.Menu._iframeContentDocument(_73c)["__parent__"]||(_73c.name&&dojo.doc.frames[_73c.name])||null;return win;},_iframeContentDocument:function(_73e){var doc=_73e.contentDocument||(_73e.contentWindow&&_73e.contentWindow.document)||(_73e.name&&dojo.doc.frames[_73e.name]&&dojo.doc.frames[_73e.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var win=dijit.getDocumentWindow(node.ownerDocument);if(node.tagName.toLowerCase()=="iframe"){win=this._iframeContentWindow(node);node=dojo.withGlobal(win,dojo.body);}var cn=(node==dojo.body()?dojo.doc:node);node[this.id]=this._bindings.push([dojo.connect(cn,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,"_openMyself"),dojo.connect(cn,"onkeydown",this,"_contextKey"),dojo.connect(cn,"onmousedown",this,"_contextMouse")]);},unBindDomNode:function(_743){var node=dojo.byId(_743);if(node){var bid=node[this.id]-1,b=this._bindings[bid];dojo.forEach(b,dojo.disconnect);delete this._bindings[bid];}},_contextKey:function(e){this._contextMenuWithMouse=false;if(e.keyCode==dojo.keys.F10){dojo.stopEvent(e);if(e.shiftKey&&e.type=="keydown"){var _e={target:e.target,pageX:e.pageX,pageY:e.pageY};_e.preventDefault=_e.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(_e);}),1);}}},_contextMouse:function(e){this._contextMenuWithMouse=true;},_openMyself:function(e){if(this.leftClickToOpen&&e.button>0){return;}dojo.stopEvent(e);var x,y;if(dojo.isSafari||this._contextMenuWithMouse){x=e.pageX;y=e.pageY;}else{var _74d=dojo.coords(e.target,true);x=_74d.x+10;y=_74d.y+10;}var self=this;var _74f=dijit.getFocus(this);function closeAndRestoreFocus(){dijit.focus(_74f);dijit.popup.close(self);};dijit.popup.open({popup:this,x:x,y:y,onExecute:closeAndRestoreFocus,onCancel:closeAndRestoreFocus,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},onOpen:function(e){this.isShowingNow=true;},onClose:function(){this._stopPopupTimer();this.parentMenu=null;this.isShowingNow=false;this.currentPopup=null;if(this.focusedChild){this._onChildBlur(this.focusedChild);this.focusedChild=null;}},_openPopup:function(){this._stopPopupTimer();var _751=this.focusedChild;var _752=_751.popup;if(_752.isShowingNow){return;}_752.parentMenu=this;var self=this;dijit.popup.open({parent:this,popup:_752,around:_751.domNode,orient:this.isLeftToRight()?{"TR":"TL","TL":"TR"}:{"TL":"TR","TR":"TL"},onCancel:function(){dijit.popup.close(_752);_751.focus();self.currentPopup=null;}});this.currentPopup=_752;if(_752.focus){_752.focus();}},uninitialize:function(){dojo.forEach(this.targetNodeIds,this.unBindDomNode,this);this.inherited(arguments);}});dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\""+"dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">"+"<td class=\"dijitReset\" waiRole=\"presentation\"><div class=\"dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\"></div></td>"+"<td class=\"dijitReset dijitMenuItemLabel\" dojoAttachPoint=\"containerNode\"></td>"+"<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">"+"<div dojoAttachPoint=\"arrowWrapper\" style=\"display: none\">"+"<div class=\"dijitMenuExpand\"></div>"+"<span class=\"dijitMenuExpandA11y\">+</span>"+"</div>"+"</td>"+"</tr>",attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",disabled:false,_fillContent:function(_754){if(_754&&!("label" in this.params)){this.attr("label",_754.innerHTML);}},postCreate:function(){dojo.setSelectable(this.domNode,false);dojo.attr(this.containerNode,"id",this.id+"_text");dijit.setWaiState(this.domNode,"labelledby",this.id+"_text");},_onHover:function(){this.getParent().onItemHover(this);},_onUnhover:function(){this.getParent().onItemUnhover(this);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");try{dijit.focus(this.focusNode);}catch(e){}},_blur:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover");},setLabel:function(_757){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_757);},setDisabled:function(_758){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_758);},_setDisabledAttr:function(_759){this.disabled=_759;dojo[_759?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",_759?"true":"false");}});dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _75a=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_75a[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";dojo.style(this.arrowWrapper,"display","");dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){this.popup.destroyRecursive();delete this.popup;}this.inherited(arguments);}});dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitMenuSeparator\"><td colspan=3>"+"<div class=\"dijitMenuSeparatorTop\"></div>"+"<div class=\"dijitMenuSeparatorBottom\"></div>"+"</td></tr>",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitemcheckbox\" tabIndex=\"-1\""+"dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">"+"<td class=\"dijitReset\" waiRole=\"presentation\"><div class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\">"+"<div class=\"dijitCheckedMenuItemIconChar\">&#10003;</div>"+"</div></td>"+"<td class=\"dijitReset dijitMenuItemLabel\" dojoAttachPoint=\"containerNode,labelNode\"></td>"+"<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">"+"<div dojoAttachPoint=\"arrowWrapper\" style=\"display: none\">"+"<div class=\"dijitMenuExpand\"></div>"+"<span class=\"dijitMenuExpandA11y\">+</span>"+"</div>"+"</td>"+"</tr>",checked:false,_setCheckedAttr:function(_75c){dojo.toggleClass(this.iconNode,"dijitCheckedMenuItemIconChecked",_75c);dijit.setWaiState(this.domNode,"checked",_75c);this.checked=_75c;},onChange:function(_75d){},_onClick:function(e){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_75f,_760,_761){_761=dojo.i18n.normalizeLocale(_761);var _762=_761.split("-");var _763=[_75f,"nls",_760].join(".");var _764=dojo._loadedModules[_763];if(_764){var _765;for(var i=_762.length;i>0;i--){var loc=_762.slice(0,i).join("_");if(_764[loc]){_765=_764[loc];break;}}if(!_765){_765=_764.ROOT;}if(_765){var _768=function(){};_768.prototype=_765;return new _768();}}throw new Error("Bundle not found: "+_760+" in "+_75f+" , locale="+_761);};dojo.i18n.normalizeLocale=function(_769){var _76a=_769?_769.toLowerCase():dojo.locale;if(_76a=="root"){_76a="ROOT";}return _76a;};dojo.i18n._requireLocalization=function(_76b,_76c,_76d,_76e){var _76f=dojo.i18n.normalizeLocale(_76d);var _770=[_76b,"nls",_76c].join(".");var _771="";if(_76e){var _772=_76e.split(",");for(var i=0;i<_772.length;i++){if(_76f["indexOf"](_772[i])==0){if(_772[i].length>_771.length){_771=_772[i];}}}if(!_771){_771="ROOT";}}var _774=_76e?_771:_76f;var _775=dojo._loadedModules[_770];var _776=null;if(_775){if(dojo.config.localizationComplete&&_775._built){return;}var _777=_774.replace(/-/g,"_");var _778=_770+"."+_777;_776=dojo._loadedModules[_778];}if(!_776){_775=dojo["provide"](_770);var syms=dojo._getModuleSymbols(_76b);var _77a=syms.concat("nls").join("/");var _77b;dojo.i18n._searchLocalePath(_774,_76e,function(loc){var _77d=loc.replace(/-/g,"_");var _77e=_770+"."+_77d;var _77f=false;if(!dojo._loadedModules[_77e]){dojo["provide"](_77e);var _780=[_77a];if(loc!="ROOT"){_780.push(loc);}_780.push(_76c);var _781=_780.join("/")+".js";_77f=dojo._loadPath(_781,null,function(hash){var _783=function(){};_783.prototype=_77b;_775[_77d]=new _783();for(var j in hash){_775[_77d][j]=hash[j];}});}else{_77f=true;}if(_77f&&_775[_77d]){_77b=_775[_77d];}else{_775[_77d]=_77b;}if(_76e){return true;}});}if(_76e&&_76f!=_771){_775[_76f.replace(/-/g,"_")]=_775[_771.replace(/-/g,"_")];}};(function(){var _785=dojo.config.extraLocale;if(_785){if(!_785 instanceof Array){_785=[_785];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_789,_78a){req(m,b,_789,_78a);if(_789){return;}for(var i=0;i<_785.length;i++){req(m,b,_785[i],_78a);}};}})();dojo.i18n._searchLocalePath=function(_78c,down,_78e){_78c=dojo.i18n.normalizeLocale(_78c);var _78f=_78c.split("-");var _790=[];for(var i=_78f.length;i>0;i--){_790.push(_78f.slice(0,i).join("-"));}_790.push(false);if(down){_790.reverse();}for(var j=_790.length-1;j>=0;j--){var loc=_790[j]||"ROOT";var stop=_78e(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_795,_796){function preload(_797){_797=dojo.i18n.normalizeLocale(_797);dojo.i18n._searchLocalePath(_797,true,function(loc){for(var i=0;i<_796.length;i++){if(_796[i]==loc){dojo["require"](_795+"_"+loc);return true;}}return false;});};preload();var _79a=dojo.config.extraLocale||[];for(var i=0;i<_79a.length;i++){preload(_79a[i]);}};}if(!dojo._hasResource["dojox.grid._Grid"]){dojo._hasResource["dojox.grid._Grid"]=true;dojo.provide("dojox.grid._Grid");(function(){var jobs={cancel:function(_79d){if(_79d){clearTimeout(_79d);}},jobs:[],job:function(_79e,_79f,_7a0){jobs.cancelJob(_79e);var job=function(){delete jobs.jobs[_79e];_7a0();};jobs.jobs[_79e]=setTimeout(job,_79f);},cancelJob:function(_7a2){jobs.cancel(jobs.jobs[_7a2]);}};dojo.declare("dojox.grid._Grid",[dijit._Widget,dijit._Templated,dojox.grid._Events],{templateString:"<div class=\"dojoxGrid\" hidefocus=\"hidefocus\" role=\"wairole:grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\r\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" tabindex=\"-1\"></div>\r\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\"></div>\r\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\r\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\r\n</div>\r\n",classTag:"dojoxGrid",get:function(_7a3){},rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,autoHeight:"",autoRender:true,defaultHeight:"15em",height:"",structure:"",elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",sortInfo:0,themeable:true,_placeholders:null,buildRendering:function(){this.inherited(arguments);if(this.get==dojox.grid._Grid.prototype.get){this.get=null;}if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");dojox.html.metrics.initOnFontResize();this.connect(dojox.html.metrics,"onFontResize","textSizeChanged");dojox.grid.util.funnelEvents(this.domNode,this,"doKeyEvent",dojox.grid.util.keyEvents);this.connect(this,"onShow","renderOnIdle");},postMixInProperties:function(){this.inherited(arguments);var _7a4=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_7a4);this.errorMessage=dojo.string.substitute(this.errorMessage,_7a4);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);},postCreate:function(){this.styleChanged=this._styleChanged;this._placeholders=[];this.setHeaderMenu(this.headerMenu);this.setStructure(this.structure);this._click=[];},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.scroller){this.scroller.destroy();delete this.scroller;}if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_7a7){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.rowCount);}else{this._autoHeight=false;}}if(this._started&&!_7a7){this.render();}},styleChanged:function(){this.setStyledClass(this.domNode,"");},_styleChanged:function(){this.styleChanged();this.update();},textSizeChanged:function(){setTimeout(dojo.hitch(this,"_textSizeChanged"),1);},_textSizeChanged:function(){if(this.domNode){this.views.forEach(function(v){v.content.update();});this.render();}},sizeChange:function(){jobs.job(this.id+"SizeChange",50,dojo.hitch(this,"update"));},renderOnIdle:function(){setTimeout(dojo.hitch(this,"render"),1);},createManagers:function(){this.rows=new dojox.grid._RowManager(this);this.focus=new dojox.grid._FocusManager(this);this.edit=new dojox.grid._EditManager(this);},createSelection:function(){this.selection=new dojox.grid.Selection(this);},createScroller:function(){this.scroller=new dojox.grid._Scroller();this.scroller.grid=this;this.scroller._pageIdPrefix=this.id+"-";this.scroller.renderRow=dojo.hitch(this,"renderRow");this.scroller.removeRow=dojo.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new dojox.grid._Layout(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.render();this._resize();},createViews:function(){this.views=new dojox.grid._ViewManager(this);this.views.createView=dojo.hitch(this,"createView");},createView:function(_7a9,idx){var c=dojo.getObject(_7a9);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||dojox._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},setStructure:function(_7af){var s=_7af;if(s&&dojo.isString(s)){s=dojo.getObject(s);}if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},getColumnTogglingItems:function(){return dojo.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new dijit.CheckedMenuItem({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_7b4){if(self.layout.setColumnVisibility(this._gridCell.index,_7b4)){var _7b5=this._gridCell.menuItems;if(_7b5.length>1){dojo.forEach(_7b5,function(item){if(item!==this){item.setAttribute("checked",_7b4);}},this);}var _7b4=dojo.filter(self.layout.cells,function(c){if(c.menuItems.length>1){dojo.forEach(c.menuItems,"item.attr('disabled', false);");}else{c.menuItems[0].attr("disabled",false);}return !c.hidden;});if(_7b4.length==1){dojo.forEach(_7b4[0].menuItems,"item.attr('disabled', true);");}}},destroy:function(){var _7b8=dojo.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_7b8,1);delete this._gridCell;dijit.CheckedMenuItem.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);return item;},this);},setHeaderMenu:function(menu){if(this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_7bc){this.setScrollTop(0);},getItem:function(_7bd){return null;},showMessage:function(_7be){if(_7be){this.messagesNode.innerHTML=_7be;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_7bf,_7c0){var _7c1={};dojo.mixin(_7c1,_7c0||{});dojo.mixin(_7c1,_7bf||{});this._sizeBox=_7c1;this._resize();this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||dojo._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(){var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _7c5=this._getPadBorder();if(this._autoHeight){this.domNode.style.height="auto";this.viewsNode.style.height="";}else{if(typeof this.autoHeight=="number"){var h=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.flex>0){}else{if(this.domNode.clientHeight<=_7c5.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}}if(this._sizeBox){dojo.contentBox(this.domNode,this._sizeBox);}else{if(this.fitTo=="parent"){var h=dojo._getContentBox(pn).h;dojo.marginBox(this.domNode,{h:Math.max(0,h)});}}var h=dojo._getContentBox(this.domNode).h;if(h==0&&!this._autoHeight){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";this._getHeaderHeight();}this.adaptWidth();this.adaptHeight();this.postresize();},adaptWidth:function(){var w=this.autoWidth?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(this.autoWidth){this.domNode.style.width=vw+"px";}},adaptHeight:function(){var t=this._getHeaderHeight();var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _7cb=0,_7cc=0;var _7cd=dojo.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_7cb++;}else{_7cc++;}return (!has);});if(_7cb>0&&_7cc>0){dojo.forEach(_7cd,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.rowCount)){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);this.render();},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.rowCount,this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.constructor.prototype.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();dojo.setSelectable(this.domNode,false);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_7d2,_7d3){this.views.renderRow(_7d2,_7d3);},rowRemoved:function(_7d4){this.views.rowRemoved(_7d4);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=null;},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}var _7d7=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(_7d7);this.postrender();},update:function(){this.render();},updateRow:function(_7d8){_7d8=Number(_7d8);if(this.updating){this.invalidated[_7d8]=true;}else{this.views.updateRow(_7d8);this.scroller.rowHeightChanged(_7d8);}},updateRows:function(_7d9,_7da){_7d9=Number(_7d9);_7da=Number(_7da);if(this.updating){for(var i=0;i<_7da;i++){this.invalidated[i+_7d9]=true;}}else{for(var i=0;i<_7da;i++){this.views.updateRow(i+_7d9);}this.scroller.rowHeightChanged(_7d9);}},updateRowCount:function(_7dc){if(this.updating){this.invalidated.rowCount=_7dc;}else{this.rowCount=_7dc;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_7dc);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_7dd){this.views.updateRowStyles(_7dd);},rowHeightChanged:function(_7de){this.views.renormalizeRow(_7de);this.scroller.rowHeightChanged(_7de);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(dojo.isIE?100:50),scrollTo:function(_7df){if(!this.fastScroll){this.setScrollTop(_7df);return;}var _7e0=Math.abs(this.lastScrollTop-_7df);this.lastScrollTop=_7df;if(_7e0>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_7df;this.views.setScrollTop(_7df);jobs.job("dojoxGridScroll",200,dojo.hitch(this,"finishScrollJob"));}else{this.setScrollTop(_7df);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_7e1){this.scroller.scroll(this.views.setScrollTop(_7e1));},scrollToRow:function(_7e2){this.setScrollTop(this.scroller.findScrollTop(_7e2)+1);},styleRowNode:function(_7e3,_7e4){if(_7e4){this.rows.styleRowNode(_7e3,_7e4);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_7e6){return this.layout.cells[_7e6];},setCellWidth:function(_7e7,_7e8){this.getCell(_7e7).unitWidth=_7e8;},getCellName:function(_7e9){return "Cell "+_7e9.index;},canSort:function(_7ea){},sort:function(){},getSortAsc:function(_7eb){_7eb=_7eb==undefined?this.sortInfo:_7eb;return Boolean(_7eb>0);},getSortIndex:function(_7ec){_7ec=_7ec==undefined?this.sortInfo:_7ec;return Math.abs(_7ec)-1;},setSortIndex:function(_7ed,_7ee){var si=_7ed+1;if(_7ee!=undefined){si*=(_7ee?1:-1);}else{if(this.getSortIndex()==_7ed){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_7f0){if(this.canSort(_7f0)){this.sortInfo=_7f0;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_7fe,_7ff){this.onStartEdit(_7fe,_7ff);},doApplyCellEdit:function(_800,_801,_802){this.onApplyCellEdit(_800,_801,_802);},doCancelEdit:function(_803){this.onCancelEdit(_803);},doApplyEdit:function(_804){this.onApplyEdit(_804);},addRow:function(){this.updateRowCount(this.rowCount+1);},removeSelectedRows:function(){this.updateRowCount(Math.max(0,this.rowCount-this.selection.getSelected().length));this.selection.clear();}});dojox.grid._Grid.markupFactory=function(_805,node,ctor,_808){var d=dojo;var _80a=function(n){var w=d.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w)+"px";}return w;};if(!_805.structure&&node.nodeName.toLowerCase()=="table"){_805.structure=d.query("> colgroup",node).map(function(cg){var sv=d.attr(cg,"span");var v={noscroll:(d.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv):1),cells:[]};if(d.hasAttr(cg,"width")){v.width=_80a(cg);}return v;});if(!_805.structure.length){_805.structure.push({__span:Infinity,cells:[]});}d.query("thead > tr",node).forEach(function(tr,_811){var _812=0;var _813=0;var _814;var _815=null;d.query("> th",tr).map(function(th){if(!_815){_814=0;_815=_805.structure[0];}else{if(_812>=(_814+_815.__span)){_813++;_814+=_815.__span;lastView=_815;_815=_805.structure[_813];}}var cell={name:d.trim(d.attr(th,"name")||th.innerHTML),colSpan:parseInt(d.attr(th,"colspan")||1,10),type:d.trim(d.attr(th,"cellType")||"")};_812+=cell.colSpan;var _818=d.attr(th,"rowspan");if(_818){cell.rowSpan=_818;}if(d.hasAttr(th,"width")){cell.width=_80a(th);}if(d.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(dojo.attr(th,"relWidth"),10);}if(d.hasAttr(th,"hidden")){cell.hidden=d.attr(th,"hidden")=="true";}if(_808){_808(th,cell);}cell.type=cell.type?dojo.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_815.cells[_811]){_815.cells[_811]=[];}_815.cells[_811].push(cell);});});}return new ctor(_805,node);};})();}if(!dojo._hasResource["dojox.grid.DataSelection"]){dojo._hasResource["dojox.grid.DataSelection"]=true;dojo.provide("dojox.grid.DataSelection");dojo.declare("dojox.grid.DataSelection",dojox.grid.Selection,{getFirstSelected:function(){var idx=dojox.grid.Selection.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_81a){var _81b=this.grid.getItemIndex(_81a);var idx=dojox.grid.Selection.prototype.getNextSelected.call(this,_81b);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _81d=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_81d.push(this.grid.getItem(i));}}return _81d;},addToSelection:function(_820){if(this.mode=="none"){return;}var idx=null;if(typeof _820=="number"||typeof _820=="string"){idx=_820;}else{idx=this.grid.getItemIndex(_820);}dojox.grid.Selection.prototype.addToSelection.call(this,idx);},deselect:function(_822){if(this.mode=="none"){return;}var idx=null;if(typeof _822=="number"||typeof _822=="string"){idx=_822;}else{idx=this.grid.getItemIndex(_822);}dojox.grid.Selection.prototype.deselect.call(this,idx);},deselectAll:function(_824){var idx=null;if(_824||typeof _824=="number"){if(typeof _824=="number"||typeof _824=="string"){idx=_824;}else{idx=this.grid.getItemIndex(_824);}dojox.grid.Selection.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});}if(!dojo._hasResource["dojox.grid.DataGrid"]){dojo._hasResource["dojox.grid.DataGrid"]=true;dojo.provide("dojox.grid.DataGrid");dojo.declare("dojox.grid.DataGrid",dojox.grid._Grid,{store:null,query:null,queryOptions:null,fetchText:"...",items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},createSelection:function(){this.selection=new dojox.grid.DataSelection(this);},get:function(_826,_827){return (!_827?this.defaultValue:(!this.field?this.value:this.grid.store.getValue(_827,this.field)));},_onSet:function(item,_829,_82a,_82b){var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_addItem:function(item,_82e,_82f){var idty=this._hasIdentity?this.store.getIdentity(item):dojo.toJson(this.query)+":idx:"+_82e+":sort:"+dojo.toJson(this.getSortProps());var o={idty:idty,item:item};dojox.grid.util.arrayInsert(this._by_idx,_82e,o);this._by_idty[idty]=o;if(!_82f){this.updateRow(_82e);}},_onNew:function(item,_833){var _834=this.rowCount;if(_833!=undefined&&_833.index!=undefined){_834=_833.index;}this.updateRowCount(this.rowCount+1);this._addItem(item,_834);this.updateRows(_834+1,this.rowCount-_834);this.showMessage();},_onDelete:function(item){var idx=this._getItemIndex(item,true);if(idx>=0){var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.rowCount-1);if(this.rowCount===0){this.showMessage(this.noDataMessage);}}},_onRevert:function(){this._refresh();},setStore:function(_838,_839,_83a){this._setQuery(_839,_83a);this._setStore(_838);this._refresh(true);},setQuery:function(_83b,_83c){this._setQuery(_83b,_83c);this._refresh(true);},setItems:function(_83d){this.items=_83d;this._setStore(this.store);this._refresh(true);},_setQuery:function(_83e,_83f){this.query=_83e||this.query;this.queryOptions=_83f||this.queryOptions;},_setStore:function(_840){if(this.store&&this._store_connects){dojo.forEach(this._store_connects,function(arr){dojo.forEach(arr,dojo.disconnect);});}this.store=_840;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.prerender();}this.updateRowCount(size);}},_onFetchComplete:function(_846,req){if(_846&&_846.length>0){dojo.forEach(_846,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_846.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;if(!_846||!_846.length){this.showMessage(this.noDataMessage);}else{this.showMessage();}}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_84e,_84f){var _84e=_84e||0;if(this.store&&!this._pending_requests[_84e]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_84e]=true;try{if(this.items){var _850=this.items;var _851=this.store;this.rowsPerPage=_850.length;var req={start:_84e,count:this.rowsPerPage,isRender:_84f};this._onFetchBegin(_850.length,req);var _853=0;dojo.forEach(_850,function(i){if(!_851.isItemLoaded(i)){_853++;}});if(_853===0){this._onFetchComplete(_850,req);}else{var _855=function(item){_853--;if(_853===0){this._onFetchComplete(_850,req);}};dojo.forEach(_850,function(i){if(!_851.isItemLoaded(i)){_851.loadItem({item:i,onItem:_855,scope:this});}},this);}}else{this.store.fetch({start:_84e,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_84f,onBegin:dojo.hitch(this,"_onFetchBegin"),onComplete:dojo.hitch(this,"_onFetchComplete"),onError:dojo.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e);}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_85c){if(!_85c&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_861,_862){this.query=_861;if(_862){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.rowCount,this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_866){return this._pending_requests[_866];},_rowToPage:function(_867){return (this.rowsPerPage?Math.floor(_867/this.rowsPerPage):_867);},_pageToRow:function(_868){return (this.rowsPerPage?this.rowsPerPage*_868:_868);},_preparePage:function(_869){if(_869<this._bop||_869>=this._eop){var _86a=this._rowToPage(_869);this._needPage(_86a);this._bop=_86a*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.rowCount);}},_needPage:function(_86b){if(!this._pages[_86b]){this._pages[_86b]=true;this._requestPage(_86b);}},_requestPage:function(_86c){var row=this._pageToRow(_86c);var _86e=Math.min(this.rowsPerPage,this.rowCount-row);if(_86e>0){this._requests++;if(!this._requestsPending(row)){setTimeout(dojo.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_86f){return _86f.field;},_refresh:function(_870){this._clearData();this._fetch(0,_870);},sort:function(){this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_874){if(this.store&&this.store.getState){var _875=this.store.getState(_874.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_875[s]){c=" dojoxGridRow-"+s;break;}}_874.customClasses+=c;}},onStyleRow:function(_87a){this.styleRowState(_87a);this.inherited(arguments);},canEdit:function(_87b,_87c){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _880={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_882,_883){if(!this._cache[_883]){this._cache[_883]=this._copyAttr(_883,_882.field);}this.onStartEdit(_882,_883);},doApplyCellEdit:function(_884,_885,_886){this.store.fetchItemByIdentity({identity:this._by_idx[_885].idty,onItem:dojo.hitch(this,function(item){this.store.setValue(item,_886,_884);this.onApplyCellEdit(_884,_885,_886);})});},doCancelEdit:function(_888){var _889=this._cache[_888];if(_889){this.updateRow(_888);delete this._cache[_888];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_88a,_88b){var _88c=this._cache[_88a];this.onApplyEdit(_88a);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var _88d=this.selection.getSelected();if(_88d.length){dojo.forEach(_88d,this.store.deleteItem,this.store);this.selection.clear();}}}});dojox.grid.DataGrid.markupFactory=function(_88e,node,ctor,_891){return dojox.grid._Grid.markupFactory(_88e,node,ctor,function(node,_893){var _894=dojo.trim(dojo.attr(node,"field")||"");if(_894){_893.field=_894;}_893.field=_893.field||_893.name;if(_891){_891(node,_893);}});};}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),_setDisabledAttr:function(_895){this.disabled=_895;dojo.attr(this.focusNode,"disabled",_895);dijit.setWaiState(this.focusNode,"disabled",_895);if(_895){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_896){dojo.deprecated("setDisabled("+_896+") is deprecated. Use attr('disabled',"+_896+") instead.","","2.0");this.attr("disabled",_896);},_onFocus:function(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_898){var _899=_898.currentTarget;if(_899&&_899.getAttribute){this.stateModifier=_899.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_898.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _89a=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_89a);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _89b=this.baseClass.split(" ");function multiply(_89c){_89b=_89b.concat(dojo.map(_89b,function(c){return c+_89c;}),"dijit"+_89c);};if(this.checked){multiply("Checked");}if(this.state){multiply(this.state);}if(this.selected){multiply("Selected");}if(this.disabled){multiply("Disabled");}else{if(this.readOnly){multiply("ReadOnly");}else{if(this._active){multiply(this.stateModifier+"Active");}else{if(this._focused){multiply("Focused");}if(this._hovering){multiply(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_89f={};dojo.forEach(tn.className.split(" "),function(c){_89f[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _89f[c];});}dojo.forEach(_89b,function(c){_89f[c]=true;});var _8a3=[];for(var c in _89f){_8a3.push(c);}tn.className=_8a3.join(" ");this._stateClasses=_89b;},compare:function(val1,val2){if((typeof val1=="number")&&(typeof val2=="number")){return (isNaN(val1)&&isNaN(val2))?0:(val1-val2);}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_8a7){},_onChangeActive:false,_handleOnChange:function(_8a8,_8a9){this._lastValue=_8a8;if(this._lastValueReported==undefined&&(_8a9===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_8a8;}if((this.intermediateChanges||_8a9||_8a9===undefined)&&((typeof _8a8!=typeof this._lastValueReported)||this.compare(_8a8,this._lastValueReported)!=0)){this._lastValueReported=_8a8;if(this._onChangeActive){this.onChange(_8a8);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function(_8aa){dojo.deprecated("dijit.form._FormWidget:setValue("+_8aa+") is deprecated.  Use attr('value',"+_8aa+") instead.","","2.0");this.attr("value",_8aa);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var node=this.domNode;var old=node.style.opacity;node.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;node.style.opacity=old;}),0);}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{value:""}),postCreate:function(){if(dojo.isIE||dojo.isSafari){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_8ad,_8ae){this.value=_8ad;this._handleOnChange(_8ad,_8ae);},_getValueAttr:function(_8af){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_valueChanged:function(){var v=this.attr("value");var lv=this._lastValueReported;return ((v!==null&&(v!==undefined)&&v.toString)?v.toString():"")!==((lv!==null&&(lv!==undefined)&&lv.toString)?lv.toString():"");},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(dojo.isSafari){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}},_onKeyPress:function(e){if(e.charOrCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey&&this._valueChanged()){this.undo();dojo.stopEvent(e);return false;}else{if(this.intermediateChanges){var _8b5=this;setTimeout(function(){_8b5._handleOnChange(_8b5.attr("value"),false);},0);}}return true;}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\r\n\t><span class=\"dijitReset dijitRight dijitInline\"\r\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\" \r\n\t\t\t\tname=\"${name}\" type=\"${type}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" \r\n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span \r\n\t\t\t\t></span \r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\" \r\n\t\t\t\t\tid=\"${id}_label\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\r\n\t\t\t\t></span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n",attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled||this.readOnly){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(e.type!="click"){dojo.stopEvent(e);}if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _8b9=dijit.byNode(node);if(_8b9&&typeof _8b9._onSubmit=="function"){_8b9._onSubmit(e);break;}}}}},_fillContent:function(_8ba){if(_8ba&&!("label" in this.params)){this.attr("label",_8ba.innerHTML);}},postCreate:function(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone");}dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_8bd){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_8bd);},_setLabelAttr:function(_8be){this.containerNode.innerHTML=this.label=_8be;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey\"\r\n\t><span class='dijitReset dijitRight dijitInline'\r\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\" \r\n\t\t\t\ttype=\"${type}\" name=\"${name}\"\r\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" \r\n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" \r\n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode,popupStateNode\" \r\n\t\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n",_fillContent:function(){if(this.srcNodeRef){var _8bf=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_8bf[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _8c0=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_8c0);delete this.dropDownContainer;}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}this.inherited(arguments);},_onArrowClick:function(e){if(this.disabled||this.readOnly){return;}this._toggleDropDown();},_onDropDownClick:function(e){var _8c3=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!_8c3||e.detail!=0||this._seenKeydown){this._onArrowClick(e);}this._seenKeydown=false;},_onDropDownKeydown:function(e){this._seenKeydown=true;},_onDropDownBlur:function(e){this._seenKeydown=false;},_onKey:function(e){if(this.disabled||this.readOnly){return;}if(e.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(e);this._toggleDropDown();}}},_onBlur:function(){this._closeDropDown();this.inherited(arguments);},_toggleDropDown:function(){if(this.disabled||this.readOnly){return;}dijit.focus(this.popupStateNode);var _8c7=this.dropDown;if(!_8c7){return;}if(!this._opened){if(_8c7.href&&!_8c7.isLoaded){var self=this;var _8c9=dojo.connect(_8c7,"onLoad",function(){dojo.disconnect(_8c9);self._openDropDown();});_8c7._loadCheck(true);return;}else{this._openDropDown();}}else{this._closeDropDown();}},_openDropDown:function(){var _8ca=this.dropDown;var _8cb=_8ca.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_8ca,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function(){self._closeDropDown(true);},onCancel:function(){self._closeDropDown(true);},onClose:function(){_8ca.domNode.style.width=_8cb;self.popupStateNode.removeAttribute("popupActive");self._opened=false;}});if(this.domNode.offsetWidth>_8ca.domNode.offsetWidth){var _8cd=null;if(!this.isLeftToRight()){_8cd=_8ca.domNode.parentNode;var _8ce=_8cd.offsetLeft+_8cd.offsetWidth;}dojo.marginBox(_8ca.domNode,{w:this.domNode.offsetWidth});if(_8cd){_8cd.style.left=_8ce-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_8ca.focus){_8ca.focus();}},_closeDropDown:function(_8cf){if(this._opened){dijit.popup.close(this.dropDown);if(_8cf){this.focus();}this._opened=false;}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\r\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\r\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\"\r\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"  dojoAttachPoint=\"titleNode\"\r\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\r\n\t\t></td\r\n\t\t><td class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\r\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\r\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse\"\r\n\t\t\tstateModifier=\"DownArrow\"\r\n\t\t\ttitle=\"${optionsTitle}\" name=\"${name}\"\r\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n",attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",name:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){if(dojo.isIE){this.connect(node,"onactivate",this._onNodeFocus);this.connect(node,"ondeactivate",this._onNodeBlur);}else{this.connect(node,"onfocus",this._onNodeFocus);this.connect(node,"onblur",this._onNodeBlur);}}));},focusFocalNode:function(node){this._focusedNode=node;dijit.focus(node);},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1];},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode);},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0];},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode);},getFocalNodes:function(){return this._focalNodes;},_onNodeFocus:function(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function(){this.inherited(arguments);this._focusedNode=null;}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function(_8d7){this.checked=_8d7;dojo.attr(this.focusNode||this.domNode,"checked",_8d7);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_8d7);this._setStateClass();this._handleOnChange(_8d7,true);},setChecked:function(_8d8){dojo.deprecated("setChecked("+_8d8+") is deprecated. Use attr('checked',"+_8d8+") instead.","","2.0");this.attr("checked",_8d8);},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_8d9,node){return new dojo.dnd.move.constrainedMoveable(node,_8d9);},constructor:function(node,_8dc){if(!_8dc){_8dc={};}this.constraints=_8dc.constraints;this.within=_8dc.within;},onFirstMove:function(_8dd){var c=this.constraintBox=this.constraints.call(this,_8dd);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_8dd.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_8e0,_8e1){var c=this.constraintBox,s=_8e0.node.style;s.left=(_8e1.l<c.l?c.l:c.r<_8e1.l?c.r:_8e1.l)+"px";s.top=(_8e1.t<c.t?c.t:c.b<_8e1.t?c.b:_8e1.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_8e4,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_8e4);},constructor:function(node,_8e7){var box=_8e7&&_8e7.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_8e9,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_8e9);},constructor:function(node,_8ec){var area=_8ec&&_8ec.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function(fun,_8f3){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _8f4=function(node,e,_8f7){dojo.dnd.Mover.call(this,node,e,_8f7);};dojo.extend(_8f4,dojo.dnd.Mover.prototype);dojo.extend(_8f4,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_8f3){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _8f4;};dojo.dnd.move.boxConstrainedMover=function(box,_900){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_900);};dojo.dnd.move.parentConstrainedMover=function(area,_902){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_902);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_909){return str.replace(/([\.$?*!=:|{}\(\)\[\]\\\/^])/g,function(ch){if(_909&&_909.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_90d){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_90d);};dojo.regexp.group=function(_910,_911){return "("+(_911?"?:":"")+_910+")";};}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_912,_913){_913=dojo.mixin({},_913||{});var _914=dojo.i18n.normalizeLocale(_913.locale);var _915=dojo.i18n.getLocalization("dojo.cldr","number",_914);_913.customs=_915;var _916=_913.pattern||_915[(_913.type||"decimal")+"Format"];if(isNaN(_912)){return null;}return dojo.number._applyPattern(_912,_916,_913);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_917,_918,_919){_919=_919||{};var _91a=_919.customs.group;var _91b=_919.customs.decimal;var _91c=_918.split(";");var _91d=_91c[0];_918=_91c[(_917<0)?1:0]||("-"+_91d);if(_918.indexOf("%")!=-1){_917*=100;}else{if(_918.indexOf("‰")!=-1){_917*=1000;}else{if(_918.indexOf("¤")!=-1){_91a=_919.customs.currencyGroup||_91a;_91b=_919.customs.currencyDecimal||_91b;_918=_918.replace(/\u00a4{1,3}/,function(_91e){var prop=["symbol","currency","displayName"][_91e.length-1];return _919[prop]||_919.currency||"";});}else{if(_918.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _920=dojo.number._numberPatternRE;var _921=_91d.match(_920);if(!_921){throw new Error("unable to find a number expression in pattern: "+_918);}if(_919.fractional===false){_919.places=0;}return _918.replace(_920,dojo.number._formatAbsolute(_917,_921[0],{decimal:_91b,group:_91a,places:_919.places,round:_919.round}));};dojo.number.round=function(_922,_923,_924){var _925=String(_922).split(".");var _926=(_925[1]&&_925[1].length)||0;if(_926>_923){var _927=Math.pow(10,_923);if(_924>0){_927*=10/_924;_923++;}_922=Math.round(_922*_927)/_927;_925=String(_922).split(".");_926=(_925[1]&&_925[1].length)||0;if(_926>_923){_925[1]=_925[1].substr(0,_923);_922=Number(_925.join("."));}}return _922;};dojo.number._formatAbsolute=function(_928,_929,_92a){_92a=_92a||{};if(_92a.places===true){_92a.places=0;}if(_92a.places===Infinity){_92a.places=6;}var _92b=_929.split(".");var _92c=(_92a.places>=0)?_92a.places:(_92b[1]&&_92b[1].length)||0;if(!(_92a.round<0)){_928=dojo.number.round(_928,_92c,_92a.round);}var _92d=String(Math.abs(_928)).split(".");var _92e=_92d[1]||"";if(_92a.places){var _92f=dojo.isString(_92a.places)&&_92a.places.indexOf(",");if(_92f){_92a.places=_92a.places.substring(_92f+1);}_92d[1]=dojo.string.pad(_92e.substr(0,_92a.places),_92a.places,"0",true);}else{if(_92b[1]&&_92a.places!==0){var pad=_92b[1].lastIndexOf("0")+1;if(pad>_92e.length){_92d[1]=dojo.string.pad(_92e,pad,"0",true);}var _931=_92b[1].length;if(_931<_92e.length){_92d[1]=_92e.substr(0,_931);}}else{if(_92d[1]){_92d.pop();}}}var _932=_92b[0].replace(",","");pad=_932.indexOf("0");if(pad!=-1){pad=_932.length-pad;if(pad>_92d[0].length){_92d[0]=dojo.string.pad(_92d[0],pad);}if(_932.indexOf("#")==-1){_92d[0]=_92d[0].substr(_92d[0].length-pad);}}var _933=_92b[0].lastIndexOf(",");var _934,_935;if(_933!=-1){_934=_92b[0].length-_933-1;var _936=_92b[0].substr(0,_933);_933=_936.lastIndexOf(",");if(_933!=-1){_935=_936.length-_933-1;}}var _937=[];for(var _938=_92d[0];_938;){var off=_938.length-_934;_937.push((off>0)?_938.substr(off):_938);_938=(off>0)?_938.slice(0,off):"";if(_935){_934=_935;delete _935;}}_92d[0]=_937.reverse().join(_92a.group||",");return _92d.join(_92a.decimal||".");};dojo.number.regexp=function(_93a){return dojo.number._parseInfo(_93a).regexp;};dojo.number._parseInfo=function(_93b){_93b=_93b||{};var _93c=dojo.i18n.normalizeLocale(_93b.locale);var _93d=dojo.i18n.getLocalization("dojo.cldr","number",_93c);var _93e=_93b.pattern||_93d[(_93b.type||"decimal")+"Format"];var _93f=_93d.group;var _940=_93d.decimal;var _941=1;if(_93e.indexOf("%")!=-1){_941/=100;}else{if(_93e.indexOf("‰")!=-1){_941/=1000;}else{var _942=_93e.indexOf("¤")!=-1;if(_942){_93f=_93d.currencyGroup||_93f;_940=_93d.currencyDecimal||_940;}}}var _943=_93e.split(";");if(_943.length==1){_943.push("-"+_943[0]);}var re=dojo.regexp.buildGroupRE(_943,function(_945){_945="(?:"+dojo.regexp.escapeString(_945,".")+")";return _945.replace(dojo.number._numberPatternRE,function(_946){var _947={signed:false,separator:_93b.strict?_93f:[_93f,""],fractional:_93b.fractional,decimal:_940,exponent:false};var _948=_946.split(".");var _949=_93b.places;if(_948.length==1||_949===0){_947.fractional=false;}else{if(_949===undefined){_949=_93b.pattern?_948[1].lastIndexOf("0")+1:Infinity;}if(_949&&_93b.fractional==undefined){_947.fractional=true;}if(!_93b.places&&(_949<_948[1].length)){_949+=","+_948[1].length;}_947.places=_949;}var _94a=_948[0].split(",");if(_94a.length>1){_947.groupSize=_94a.pop().length;if(_94a.length>1){_947.groupSize2=_94a.pop().length;}}return "("+dojo.number._realNumberRegexp(_947)+")";});},true);if(_942){re=re.replace(/(\s*)(\u00a4{1,3})(\s*)/g,function(_94b,_94c,_94d,_94e){var prop=["symbol","currency","displayName"][_94d.length-1];var _950=dojo.regexp.escapeString(_93b[prop]||_93b.currency||"");_94c=_94c?"\\s":"";_94e=_94e?"\\s":"";if(!_93b.strict){if(_94c){_94c+="*";}if(_94e){_94e+="*";}return "(?:"+_94c+_950+_94e+")?";}return _94c+_950+_94e;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_93f,decimal:_940,factor:_941};};dojo.number.parse=function(_951,_952){var info=dojo.number._parseInfo(_952);var _954=(new RegExp("^"+info.regexp+"$")).exec(_951);if(!_954){return NaN;}var _955=_954[1];if(!_954[1]){if(!_954[2]){return NaN;}_955=_954[2];info.factor*=-1;}_955=_955.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return Number(_955)*info.factor;};dojo.number._realNumberRegexp=function(_956){_956=_956||{};if(!("places" in _956)){_956.places=Infinity;}if(typeof _956.decimal!="string"){_956.decimal=".";}if(!("fractional" in _956)||/^0/.test(_956.places)){_956.fractional=[true,false];}if(!("exponent" in _956)){_956.exponent=[true,false];}if(!("eSigned" in _956)){_956.eSigned=[true,false];}var _957=dojo.number._integerRegexp(_956);var _958=dojo.regexp.buildGroupRE(_956.fractional,function(q){var re="";if(q&&(_956.places!==0)){re="\\"+_956.decimal;if(_956.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_956.places+"}";}}return re;},true);var _95b=dojo.regexp.buildGroupRE(_956.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_956.eSigned})+")";}return "";});var _95d=_957+_958;if(_958){_95d="(?:(?:"+_95d+")|(?:"+_958+"))";}return _95d+_95b;};dojo.number._integerRegexp=function(_95e){_95e=_95e||{};if(!("signed" in _95e)){_95e.signed=[true,false];}if(!("separator" in _95e)){_95e.separator="";}else{if(!("groupSize" in _95e)){_95e.groupSize=3;}}var _95f=dojo.regexp.buildGroupRE(_95e.signed,function(q){return q?"[-+]":"";},true);var _961=dojo.regexp.buildGroupRE(_95e.separator,function(sep){if(!sep){return "(?:0|[1-9]\\d*)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_95e.groupSize,grp2=_95e.groupSize2;if(grp2){var _965="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_965+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_965;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _95f+_961;};}if(!dojo._hasResource["dijit.form.Slider"]){dojo._hasResource["dijit.form.Slider"]=true;dojo.provide("dijit.form.Slider");dojo.declare("dijit.form.HorizontalSlider",[dijit.form._FormValueWidget,dijit._Container],{templateString:"<table class=\"dijit dijitReset dijitSlider\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress\"\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\r\n\t\t><td dojoAttachPoint=\"containerNode,topDecoration\" class=\"dijitReset\" style=\"text-align:center;width:100%;\"></td\r\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\r\n\t></tr\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\r\n\t\t\t><div class=\"dijitSliderDecrementIconH\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\r\n\t\t></td\r\n\t\t><td class=\"dijitReset\"\r\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div\r\n\t\t></td\r\n\t\t><td class=\"dijitReset\"\r\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" name=\"${name}\"\r\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" waiRole=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\r\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"\r\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\" \r\n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" dojoAttachEvent=\"onmousedown:_onHandleClick\" waiRole=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\r\n\t\t\t\t\t></div\r\n\t\t\t\t></div\r\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"></div\r\n\t\t\t></div\r\n\t\t></td\r\n\t\t><td class=\"dijitReset\"\r\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div\r\n\t\t></td\r\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\" style=\"right:0px;\"\r\n\t\t\t><div class=\"dijitSliderIncrementIconH\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\r\n\t\t></td\r\n\t></tr\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\r\n\t\t><td dojoAttachPoint=\"containerNode,bottomDecoration\" class=\"dijitReset\" style=\"text-align:center;\"></td\r\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\r\n\t></tr\r\n></table>\r\n",value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:dijit.defaultDuration,widgetsInTemplate:true,attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{id:"",name:"valueNode"}),baseClass:"dijitSlider",_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyPress:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey){return;}switch(e.charOrCode){case dojo.keys.HOME:this._setValueAttr(this.minimum,true);break;case dojo.keys.END:this._setValueAttr(this.maximum,true);break;case ((this._descending||this.isLeftToRight())?dojo.keys.RIGHT_ARROW:dojo.keys.LEFT_ARROW):case (this._descending===false?dojo.keys.DOWN_ARROW:dojo.keys.UP_ARROW):case (this._descending===false?dojo.keys.PAGE_DOWN:dojo.keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?dojo.keys.LEFT_ARROW:dojo.keys.RIGHT_ARROW):case (this._descending===false?dojo.keys.UP_ARROW:dojo.keys.DOWN_ARROW):case (this._descending===false?dojo.keys.PAGE_UP:dojo.keys.PAGE_DOWN):this.decrement(e);break;default:this.inherited(arguments);return;}dojo.stopEvent(e);},_onHandleClick:function(e){if(this.disabled||this.readOnly){return;}if(!dojo.isIE){dijit.focus(this.sliderHandle);}dojo.stopEvent(e);},_isReversed:function(){return !this.isLeftToRight();},_onBarClick:function(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}dijit.focus(this.sliderHandle);dojo.stopEvent(e);var _969=dojo.coords(this.sliderBarContainer,true);var _96a=e[this._mousePixelCoord]-_969[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_969[this._pixelCount]-_96a):_96a,_969[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function(_96b,_96c,_96d){if(this.disabled||this.readOnly){return;}_96b=_96b<0?0:_96c<_96b?_96c:_96b;var _96e=this.discreteValues;if(_96e<=1||_96e==Infinity){_96e=_96c;}_96e--;var _96f=_96c/_96e;var _970=Math.round(_96b/_96f);this._setValueAttr((this.maximum-this.minimum)*_970/_96e+this.minimum,_96d);},_setValueAttr:function(_971,_972){this.valueNode.value=this.value=_971;dijit.setWaiState(this.focusNode,"valuenow",_971);this.inherited(arguments);var _973=(_971-this.minimum)/(this.maximum-this.minimum);var _974=(this._descending===false)?this.remainingBar:this.progressBar;var _975=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_972&&this.slideDuration>0&&_974.style[this._progressPixelSize]){var _976=this;var _977={};var _978=parseFloat(_974.style[this._progressPixelSize]);var _979=this.slideDuration*(_973-_978/100);if(_979==0){return;}if(_979<0){_979=0-_979;}_977[this._progressPixelSize]={start:_978,end:_973*100,units:"%"};this._inProgressAnim=dojo.animateProperty({node:_974,duration:_979,onAnimate:function(v){_975.style[_976._progressPixelSize]=(100-parseFloat(v[_976._progressPixelSize]))+"%";},onEnd:function(){delete _976._inProgressAnim;},properties:_977});this._inProgressAnim.play();}else{_974.style[this._progressPixelSize]=(_973*100)+"%";_975.style[this._progressPixelSize]=((1-_973)*100)+"%";}},_bumpValue:function(_97b){if(this.disabled||this.readOnly){return;}var s=dojo.getComputedStyle(this.sliderBarContainer);var c=dojo._getContentBox(this.sliderBarContainer,s);var _97e=this.discreteValues;if(_97e<=1||_97e==Infinity){_97e=c[this._pixelCount];}_97e--;var _97f=(this.value-this.minimum)*_97e/(this.maximum-this.minimum)+_97b;if(_97f<0){_97f=0;}if(_97f>_97e){_97f=_97e;}_97f=_97f*(this.maximum-this.minimum)/_97e+this.minimum;this._setValueAttr(_97f,true);},_onClkBumper:function(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function(evt){dojo.stopEvent(evt);var _984=!dojo.isMozilla;var _985=evt[(_984?"wheelDelta":"detail")]*(_984?1:-1);this[(_985<0?"decrement":"increment")](evt);},startup:function(){dojo.forEach(this.getChildren(),function(_986){if(this[_986.container]!=this.containerNode){this[_986.container].appendChild(_986.domNode);}},this);},_typematicCallback:function(_987,_988,e){if(_987==-1){return;}this[(_988==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);},postCreate:function(){if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";this._connects.push(dijit.typematic.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(dijit.typematic.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,!dojo.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var _98a=this;var _98b=function(){dijit.form._SliderMover.apply(this,arguments);this.widget=_98a;};dojo.extend(_98b,dijit.form._SliderMover.prototype);this._movable=new dojo.dnd.Moveable(this.sliderHandle,{mover:_98b});var _98c=dojo.query("label[for=\""+this.id+"\"]");if(_98c.length){_98c[0].id=(this.id+"_label");dijit.setWaiState(this.focusNode,"labelledby",_98c[0].id);}dijit.setWaiState(this.focusNode,"valuemin",this.minimum);dijit.setWaiState(this.focusNode,"valuemax",this.maximum);this.inherited(arguments);},destroy:function(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this.inherited(arguments);}});dojo.declare("dijit.form.VerticalSlider",dijit.form.HorizontalSlider,{templateString:"<table class=\"dijitReset dijitSlider\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress\"\r\n><tbody class=\"dijitReset\"\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td class=\"dijitReset\"></td\r\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV\"\r\n\t\t\t><div class=\"dijitSliderIncrementIconV\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\r\n\t\t></td\r\n\t\t><td class=\"dijitReset\"></td\r\n\t></tr\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td class=\"dijitReset\"></td\r\n\t\t><td class=\"dijitReset\"\r\n\t\t\t><center><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper dijitSliderTopBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div></center\r\n\t\t></td\r\n\t\t><td class=\"dijitReset\"></td\r\n\t></tr\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td dojoAttachPoint=\"leftDecoration\" class=\"dijitReset\" style=\"text-align:center;height:100%;\"></td\r\n\t\t><td class=\"dijitReset\" style=\"height:100%;\"\r\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" name=\"${name}\"\r\n\t\t\t/><center class=\"dijitReset dijitSliderBarContainerV\" waiRole=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\r\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV\" dojoAttachEvent=\"onmousedown:_onBarClick\"><!--#5629--></div\r\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV\" dojoAttachEvent=\"onmousedown:_onBarClick\"\r\n\t\t\t\t\t><div class=\"dijitSliderMoveable\" style=\"vertical-align:top;\" \r\n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleV\" dojoAttachEvent=\"onmousedown:_onHandleClick\" waiRole=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\r\n\t\t\t\t\t></div\r\n\t\t\t\t></div\r\n\t\t\t></center\r\n\t\t></td\r\n\t\t><td dojoAttachPoint=\"containerNode,rightDecoration\" class=\"dijitReset\" style=\"text-align:center;height:100%;\"></td\r\n\t></tr\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td class=\"dijitReset\"></td\r\n\t\t><td class=\"dijitReset\"\r\n\t\t\t><center><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper dijitSliderBottomBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div></center\r\n\t\t></td\r\n\t\t><td class=\"dijitReset\"></td\r\n\t></tr\r\n\t><tr class=\"dijitReset\"\r\n\t\t><td class=\"dijitReset\"></td\r\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV\"\r\n\t\t\t><div class=\"dijitSliderDecrementIconV\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\r\n\t\t></td\r\n\t\t><td class=\"dijitReset\"></td\r\n\t></tr\r\n></tbody></table>\r\n",_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_startingPixelCount:"t",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:true,startup:function(){if(this._started){return;}if(!this.isLeftToRight()&&dojo.isMoz){if(this.leftDecoration){this._rtlRectify(this.leftDecoration);}if(this.rightDecoration){this._rtlRectify(this.rightDecoration);}}this.inherited(arguments);},_isReversed:function(){return this._descending;},_rtlRectify:function(_98d){var _98e=[];while(_98d.firstChild){_98e.push(_98d.firstChild);_98d.removeChild(_98d.firstChild);}for(var i=_98e.length-1;i>=0;i--){if(_98e[i]){_98d.appendChild(_98e[i]);}}}});dojo.declare("dijit.form._SliderMover",dojo.dnd.Mover,{onMouseMove:function(e){var _991=this.widget;var _992=_991._abspos;if(!_992){_992=_991._abspos=dojo.coords(_991.sliderBarContainer,true);_991._setPixelValue_=dojo.hitch(_991,"_setPixelValue");_991._isReversed_=_991._isReversed();}var _993=e[_991._mousePixelCoord]-_992[_991._startingPixelCoord];_991._setPixelValue_(_991._isReversed_?(_992[_991._pixelCount]-_993):_993,_992[_991._pixelCount],false);},destroy:function(e){dojo.dnd.Mover.prototype.destroy.apply(this,arguments);var _995=this.widget;_995._abspos=null;_995._setValueAttr(_995.value,true);}});dojo.declare("dijit.form.HorizontalRule",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH\"></div>",count:3,container:"containerNode",ruleStyle:"",_positionPrefix:"<div class=\"dijitRuleMark dijitRuleMarkH\" style=\"left:",_positionSuffix:"%;",_suffix:"\"></div>",_genHTML:function(pos,ndx){return this._positionPrefix+pos+this._positionSuffix+this.ruleStyle+this._suffix;},_isHorizontal:true,postCreate:function(){var _998;if(this.count==1){_998=this._genHTML(50,0);}else{var i;var _99a=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){_998=this._genHTML(0,0);for(i=1;i<this.count-1;i++){_998+=this._genHTML(_99a*i,i);}_998+=this._genHTML(100,this.count-1);}else{_998=this._genHTML(100,0);for(i=1;i<this.count-1;i++){_998+=this._genHTML(100-_99a*i,i);}_998+=this._genHTML(0,this.count-1);}}this.domNode.innerHTML=_998;}});dojo.declare("dijit.form.VerticalRule",dijit.form.HorizontalRule,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerV\"></div>",_positionPrefix:"<div class=\"dijitRuleMark dijitRuleMarkV\" style=\"top:",_isHorizontal:false});dojo.declare("dijit.form.HorizontalRuleLabels",dijit.form.HorizontalRule,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH\"></div>",labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:"<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerH\" style=\"left:",_labelPrefix:"\"><span class=\"dijitRuleLabel dijitRuleLabelH\">",_suffix:"</span></div>",_calcPosition:function(pos){return pos;},_genHTML:function(pos,ndx){return this._positionPrefix+this._calcPosition(pos)+this._positionSuffix+this.labelStyle+this._labelPrefix+this.labels[ndx]+this._suffix;},getLabels:function(){var _99e=this.labels;if(!_99e.length){_99e=dojo.query("> li",this.srcNodeRef).map(function(node){return String(node.innerHTML);});}this.srcNodeRef.innerHTML="";if(!_99e.length&&this.count>1){var _9a0=this.minimum;var inc=(this.maximum-_9a0)/(this.count-1);for(var i=0;i<this.count;i++){_99e.push((i<this.numericMargin||i>=(this.count-this.numericMargin))?"":dojo.number.format(_9a0,this.constraints));_9a0+=inc;}}return _99e;},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length;}});dojo.declare("dijit.form.VerticalRuleLabels",dijit.form.HorizontalRuleLabels,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerV dijitRuleLabelsContainer dijitRuleLabelsContainerV\"></div>",_positionPrefix:"<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerV\" style=\"top:",_labelPrefix:"\"><span class=\"dijitRuleLabel dijitRuleLabelV\">",_calcPosition:function(pos){return 100-pos;},_isHorizontal:false});}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_9a5,_9a6){var c=document.cookie;if(arguments.length==1){var _9a8=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _9a8?decodeURIComponent(_9a8[1]):undefined;}else{_9a6=_9a6||{};var exp=_9a6.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_9a6.expires=d;}if(exp&&exp.toUTCString){_9a6.expires=exp.toUTCString();}_9a5=encodeURIComponent(_9a5);var _9ab=name+"="+_9a5,_9ac;for(_9ac in _9a6){_9ab+="; "+_9ac;var _9ad=_9a6[_9ac];if(_9ad!==true){_9ab+="="+_9ad;}}document.cookie=_9ab;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.Tree"]){dojo._hasResource["dijit.Tree"]=true;dojo.provide("dijit.Tree");dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained],{item:null,isTreeNode:true,label:"",isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:"<div class=\"dijitTreeNode\" waiRole=\"presentation\"\r\n\t><div dojoAttachPoint=\"rowNode\" class=\"dijitTreeRow\" waiRole=\"presentation\"\r\n\t\t><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" waiRole=\"presentation\"\r\n\t\t><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" waiRole=\"presentation\"\r\n\t\t></span\r\n\t\t><span dojoAttachPoint=\"contentNode\" dojoAttachEvent=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave\"\r\n\t\t\tclass=\"dijitTreeContent\" waiRole=\"presentation\">\r\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"iconNode\" class=\"dijitTreeIcon\" waiRole=\"presentation\"\r\n\t\t\t><span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" wairole=\"treeitem\" tabindex=\"-1\" waiState=\"selected-false\" dojoAttachEvent=\"onfocus:_onNodeFocus\"></span>\r\n\t\t</span\r\n\t></div>\r\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitTreeContainer\" waiRole=\"presentation\" style=\"display: none;\"></div>\r\n</div>\r\n",postCreate:function(){this.setLabelNode(this.label);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){dijit.setWaiState(this.labelNode,"expanded",this.isExpanded);}},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_9b0=tree.model;if(tree._v10Compat&&item===_9b0.root){item=null;}this.iconNode.className="dijitTreeIcon "+tree.getIconClass(item,this.isExpanded);this.labelNode.className="dijitTreeLabel "+tree.getLabelClass(item,this.isExpanded);},_updateLayout:function(){var _9b1=this.getParent();if(!_9b1||_9b1.rowNode.style.display=="none"){dojo.addClass(this.domNode,"dijitTreeIsRoot");}else{dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_9b2){var _9b3=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];var _9b4=["*","-","+","*"];var idx=_9b2?0:(this.isExpandable?(this.isExpanded?1:2):3);dojo.forEach(_9b3,function(s){dojo.removeClass(this.expandoNode,s);},this);dojo.addClass(this.expandoNode,_9b3[idx]);this.expandoNodeText.innerHTML=_9b4[idx];},expand:function(){if(this.isExpanded){return;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;dijit.setWaiState(this.labelNode,"expanded","true");dijit.setWaiRole(this.containerNode,"group");this.contentNode.className="dijitTreeContent dijitTreeContentExpanded";this._setExpando();this._updateItemClasses(this.item);if(!this._wipeIn){this._wipeIn=dojo.fx.wipeIn({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeIn.play();},collapse:function(){if(!this.isExpanded){return;}this._wipeIn&&this._wipeIn.stop();this.isExpanded=false;dijit.setWaiState(this.labelNode,"expanded","false");this.contentNode.className="dijitTreeContent";this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeOut.play();},setLabelNode:function(_9b7){this.labelNode.innerHTML="";this.labelNode.appendChild(dojo.doc.createTextNode(_9b7));},setChildItems:function(_9b8){var tree=this.tree,_9ba=tree.model;this.getChildren().forEach(function(_9bb){dijit._Container.prototype.removeChild.call(this,_9bb);},this);this.state="LOADED";if(_9b8&&_9b8.length>0){this.isExpandable=true;dojo.forEach(_9b8,function(item){var id=_9ba.getIdentity(item),_9be=tree._itemNodeMap[id],node=(_9be&&!_9be.getParent())?_9be:this.tree._createTreeNode({item:item,tree:tree,isExpandable:_9ba.mayHaveChildren(item),label:tree.getLabel(item)});this.addChild(node);tree._itemNodeMap[id]=node;if(this.tree.persist){if(tree._openedItemIds[id]){tree._expandNode(node);}}},this);dojo.forEach(this.getChildren(),function(_9c0,idx){_9c0._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0],_9c3=fc?fc.labelNode:this.domNode;_9c3.setAttribute("tabIndex","0");tree.lastFocused=fc;}},removeChild:function(node){this.inherited(arguments);var _9c5=this.getChildren();if(_9c5.length==0){this.isExpandable=false;this.collapse();}dojo.forEach(_9c5,function(_9c6){_9c6._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},_onNodeFocus:function(evt){var node=dijit.getEnclosingWidget(evt.target);this.tree._onTreeFocus(node);},_onMouseEnter:function(evt){dojo.addClass(this.contentNode,"dijitTreeNodeHover");},_onMouseLeave:function(evt){dojo.removeClass(this.contentNode,"dijitTreeNodeHover");}});dojo.declare("dijit.Tree",[dijit._Widget,dijit._Templated],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],openOnClick:false,openOnDblClick:false,templateString:"<div class=\"dijitTreeContainer\" waiRole=\"tree\"\r\n\tdojoAttachEvent=\"onclick:_onClick,onkeypress:_onKeyPress,ondblclick:_onDblClick\">\r\n</div>\r\n",isExpandable:true,isTree:true,persist:true,dndController:null,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:0,_publish:function(_9cb,_9cc){dojo.publish(this.id,[dojo.mixin({tree:this,event:_9cb},_9cc||{})]);},postMixInProperties:function(){this.tree=this;this._itemNodeMap={};if(!this.cookieName){this.cookieName=this.id+"SaveStateCookie";}},postCreate:function(){if(this.persist){var _9cd=dojo.cookie(this.cookieName);this._openedItemIds={};if(_9cd){dojo.forEach(_9cd.split(","),function(item){this._openedItemIds[item]=true;},this);}}if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(dojo.isString(this.dndController)){this.dndController=dojo.getObject(this.dndController);}var _9cf={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_9cf[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_9cf);}},_store2model:function(){this._v10Compat=true;dojo.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _9d1={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_9d1.mayHaveChildren=dojo.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_9d1.getChildren=dojo.hitch(this,function(item,_9d3,_9d4){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_9d3,_9d4);});}this.model=new dijit.tree.ForestStoreModel(_9d1);this.showRoot=Boolean(this.label);},_load:function(){this.model.getRoot(dojo.hitch(this,function(item){var rn=this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item)});if(!this.showRoot){rn.rowNode.style.display="none";}this.domNode.appendChild(rn.domNode);this._itemNodeMap[this.model.getIdentity(item)]=rn;rn._updateLayout();this._expandNode(rn);}),function(err){console.error(this,": error loading root: ",err);});},mayHaveChildren:function(item){},getItemChildren:function(_9d9,_9da){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_9dd){return (!item||this.model.mayHaveChildren(item))?(_9dd?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(item,_9df){},_onKeyPress:function(e){if(e.altKey){return;}var dk=dojo.keys;var _9e2=dijit.getEnclosingWidget(e.target);if(!_9e2){return;}var key=e.charOrCode;if(typeof key=="string"){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){this._onLetterKeyNav({node:_9e2,key:key.toLowerCase()});dojo.stopEvent(e);}}else{var map=this._keyHandlerMap;if(!map){map={};map[dk.ENTER]="_onEnterKey";map[this.isLeftToRight()?dk.LEFT_ARROW:dk.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?dk.RIGHT_ARROW:dk.LEFT_ARROW]="_onRightArrow";map[dk.UP_ARROW]="_onUpArrow";map[dk.DOWN_ARROW]="_onDownArrow";map[dk.HOME]="_onHomeKey";map[dk.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){this[this._keyHandlerMap[key]]({node:_9e2,item:_9e2.item});dojo.stopEvent(e);}}},_onEnterKey:function(_9e5){this._publish("execute",{item:_9e5.item,node:_9e5.node});this.onClick(_9e5.item,_9e5.node);},_onDownArrow:function(_9e6){var node=this._getNextNode(_9e6.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_9e8){var node=_9e8.node;var _9ea=node.getPreviousSibling();if(_9ea){node=_9ea;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _9eb=node.getChildren();node=_9eb[_9eb.length-1];}}else{var _9ec=node.getParent();if(!(!this.showRoot&&_9ec===this.rootNode)){node=_9ec;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_9ed){var node=_9ed.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_9ef){var node=_9ef.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _9f1=node.getParent();if(_9f1&&_9f1.isTreeNode&&!(!this.showRoot&&_9f1===this.rootNode)){this.focusNode(_9f1);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(_9f3){var node=this;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},_onLetterKeyNav:function(_9f6){var node=_9f6.node,_9f8=node,key=_9f6.key;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==_9f8&&(node.label.charAt(0).toLowerCase()!=key));if(node&&node.isTreeNode){if(node!==_9f8){this.focusNode(node);}}},_onClick:function(e){var _9fb=e.target;var _9fc=dijit.getEnclosingWidget(_9fb);if(!_9fc||!_9fc.isTreeNode){return;}if((this.openOnClick&&_9fc.isExpandable)||(_9fb==_9fc.expandoNode||_9fb==_9fc.expandoNodeText)){if(_9fc.isExpandable){this._onExpandoClick({node:_9fc});}}else{this._publish("execute",{item:_9fc.item,node:_9fc});this.onClick(_9fc.item,_9fc);this.focusNode(_9fc);}dojo.stopEvent(e);},_onDblClick:function(e){var _9fe=e.target;var _9ff=dijit.getEnclosingWidget(_9fe);if(!_9ff||!_9ff.isTreeNode){return;}if((this.openOnDblClick&&_9ff.isExpandable)||(_9fe==_9ff.expandoNode||_9fe==_9ff.expandoNodeText)){if(_9ff.isExpandable){this._onExpandoClick({node:_9ff});}}else{this._publish("execute",{item:_9ff.item,node:_9ff});this.onDblClick(_9ff.item,_9ff);this.focusNode(_9ff);}dojo.stopEvent(e);},_onExpandoClick:function(_a00){var node=_a00.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(item,node){},onDblClick:function(item,node){},onOpen:function(item,node){},onClose:function(item,node){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _a0b=node.getNextSibling();if(_a0b){return _a0b;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();this.onClose(node.item,node);if(this.persist&&node.item){delete this._openedItemIds[this.model.getIdentity(node.item)];this._saveState();}}},_expandNode:function(node){if(!node.isExpandable){return;}var _a0e=this.model,item=node.item;switch(node.state){case "LOADING":return;case "UNCHECKED":node.markProcessing();var _a10=this;_a0e.getChildren(item,function(_a11){node.unmarkProcessing();node.setChildItems(_a11);_a10._expandNode(node);},function(err){console.error(_a10,": error loading root children: ",err);});break;default:node.expand();this.onOpen(node.item,node);if(this.persist&&item){this._openedItemIds[_a0e.getIdentity(item)]=true;this._saveState();}}},blurNode:function(){var node=this.lastFocused;if(!node){return;}var _a14=node.labelNode;dojo.removeClass(_a14,"dijitTreeLabelFocused");_a14.setAttribute("tabIndex","-1");dijit.setWaiState(_a14,"selected",false);this.lastFocused=null;},focusNode:function(node){node.labelNode.focus();},_onBlur:function(){this.inherited(arguments);if(this.lastFocused){var _a16=this.lastFocused.labelNode;dojo.removeClass(_a16,"dijitTreeLabelFocused");}},_onTreeFocus:function(node){if(node){if(node!=this.lastFocused){this.blurNode();}var _a18=node.labelNode;_a18.setAttribute("tabIndex","0");dijit.setWaiState(_a18,"selected",true);dojo.addClass(_a18,"dijitTreeLabelFocused");this.lastFocused=node;}},_onItemDelete:function(item){var _a1a=this.model.getIdentity(item);var node=this._itemNodeMap[_a1a];if(node){var _a1c=node.getParent();if(_a1c){_a1c.removeChild(node);}delete this._itemNodeMap[_a1a];node.destroyRecursive();}},_onItemChange:function(item){var _a1e=this.model,_a1f=_a1e.getIdentity(item),node=this._itemNodeMap[_a1f];if(node){node.setLabelNode(this.getLabel(item));node._updateItemClasses(item);}},_onItemChildrenChange:function(_a21,_a22){var _a23=this.model,_a24=_a23.getIdentity(_a21),_a25=this._itemNodeMap[_a24];if(_a25){_a25.setChildItems(_a22);}},_onItemDelete:function(item){var _a27=this.model,_a28=_a27.getIdentity(item),node=this._itemNodeMap[_a28];if(node){node.destroyRecursive();delete this._itemNodeMap[_a28];}},_saveState:function(){if(!this.persist){return;}var ary=[];for(var id in this._openedItemIds){ary.push(id);}dojo.cookie(this.cookieName,ary.join(","),{expires:365});},destroy:function(){if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!dojo.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},_createTreeNode:function(args){return new dijit._TreeNode(args);}});dojo.declare("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],labelAttr:"",root:null,query:null,constructor:function(args){dojo.mixin(this,args);this.connects=[];var _a2e=this.store;if(!_a2e.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_a2e.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([dojo.connect(_a2e,"onNew",this,"_onNewItem"),dojo.connect(_a2e,"onDelete",this,"_onDeleteItem"),dojo.connect(_a2e,"onSet",this,"_onSetItem")]);}},destroy:function(){dojo.forEach(this.connects,dojo.disconnect);},getRoot:function(_a2f,_a30){if(this.root){_a2f(this.root);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_a31){if(_a31.length!=1){throw new Error(this.declaredClass+": query "+dojo.toJson(this.query)+" returned "+_a31.length+" items, but must return exactly one item");}this.root=_a31[0];_a2f(this.root);}),onError:_a30});}},mayHaveChildren:function(item){return dojo.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_a34,_a35,_a36){var _a37=this.store;var _a38=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_a37.getValues(_a34,this.childrenAttrs[i]);_a38=_a38.concat(vals);}var _a3b=0;dojo.forEach(_a38,function(item){if(!_a37.isItemLoaded(item)){_a3b++;}});if(_a3b==0){_a35(_a38);}else{var _a3d=function _a3d(item){if(--_a3b==0){_a35(_a38);}};dojo.forEach(_a38,function(item){if(!_a37.isItemLoaded(item)){_a37.loadItem({item:item,onItem:_a3d,onError:_a36});}});}},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_a43){var _a44={parent:_a43,attribute:this.childrenAttrs[0]};return this.store.newItem(args,_a44);},pasteItem:function(_a45,_a46,_a47,_a48){var _a49=this.store,_a4a=this.childrenAttrs[0];if(_a46){dojo.forEach(this.childrenAttrs,function(attr){if(_a49.containsValue(_a46,attr,_a45)){if(!_a48){var _a4c=dojo.filter(_a49.getValues(_a46,attr),function(x){return x!=_a45;});_a49.setValues(_a46,attr,_a4c);}_a4a=attr;}});}if(_a47){_a49.setValues(_a47,_a4a,_a49.getValues(_a47,_a4a).concat(_a45));}},onChange:function(item){},onChildrenChange:function(_a4f,_a50){},onDelete:function(_a51,_a52){},_onNewItem:function(item,_a54){if(!_a54){return;}this.getChildren(_a54.item,dojo.hitch(this,function(_a55){this.onChildrenChange(_a54.item,_a55);}));},_onDeleteItem:function(item){this.onDelete(item);},_onSetItem:function(item,_a58,_a59,_a5a){if(dojo.indexOf(this.childrenAttrs,_a58)!=-1){this.getChildren(item,dojo.hitch(this,function(_a5b){this.onChildrenChange(item,_a5b);}));}else{this.onChange(item);}}});dojo.declare("dijit.tree.ForestStoreModel",dijit.tree.TreeStoreModel,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_a5c){this.root={store:this,root:true,id:_a5c.rootId,label:_a5c.rootLabel,children:_a5c.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_a5e,_a5f,_a60){if(_a5e===this.root){if(this.root.children){_a5f(this.root.children);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_a61){this.root.children=_a61;_a5f(_a61);}),onError:_a60});}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_a65){if(_a65===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(args){},pasteItem:function(_a67,_a68,_a69,_a6a){if(_a68===this.root){if(!_a6a){this.onLeaveRoot(_a67);}}dijit.tree.TreeStoreModel.prototype.pasteItem.call(this,_a67,_a68===this.root?null:_a68,_a69===this.root?null:_a69);if(_a69===this.root){this.onAddToRoot(_a67);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _a6d=this.root.children||[];this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_a6e){this.root.children=_a6e;if(_a6d.length!=_a6e.length||dojo.some(_a6d,function(item,idx){return _a6e[idx]!=item;})){this.onChildrenChange(this.root,_a6e);}})});},_onNewItem:function(item,_a72){this._requeryTop();this.inherited(arguments);},_onDeleteItem:function(item){if(dojo.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);}});}if(!dojo._hasResource["dojo.data.api.Request"]){dojo._hasResource["dojo.data.api.Request"]=true;dojo.provide("dojo.data.api.Request");dojo.declare("dojo.data.api.Request",null,{abort:function(){throw new Error("Unimplemented API: dojo.data.api.Request.abort");}});}if(!dojo._hasResource["dojo.data.api.Read"]){dojo._hasResource["dojo.data.api.Read"]=true;dojo.provide("dojo.data.api.Read");dojo.declare("dojo.data.api.Read",null,{getValue:function(item,_a75,_a76){var _a77=null;throw new Error("Unimplemented API: dojo.data.api.Read.getValue");return _a77;},getValues:function(item,_a79){var _a7a=[];throw new Error("Unimplemented API: dojo.data.api.Read.getValues");return _a7a;},getAttributes:function(item){var _a7c=[];throw new Error("Unimplemented API: dojo.data.api.Read.getAttributes");return _a7c;},hasAttribute:function(item,_a7e){throw new Error("Unimplemented API: dojo.data.api.Read.hasAttribute");return false;},containsValue:function(item,_a80,_a81){throw new Error("Unimplemented API: dojo.data.api.Read.containsValue");return false;},isItem:function(_a82){throw new Error("Unimplemented API: dojo.data.api.Read.isItem");return false;},isItemLoaded:function(_a83){throw new Error("Unimplemented API: dojo.data.api.Read.isItemLoaded");return false;},loadItem:function(_a84){if(!this.isItemLoaded(_a84.item)){throw new Error("Unimplemented API: dojo.data.api.Read.loadItem");}},fetch:function(_a85){var _a86=null;throw new Error("Unimplemented API: dojo.data.api.Read.fetch");return _a86;},getFeatures:function(){return {"dojo.data.api.Read":true};},close:function(_a87){throw new Error("Unimplemented API: dojo.data.api.Read.close");},getLabel:function(item){throw new Error("Unimplemented API: dojo.data.api.Read.getLabel");return undefined;},getLabelAttributes:function(item){throw new Error("Unimplemented API: dojo.data.api.Read.getLabelAttributes");return null;}});}if(!dojo._hasResource["dojo.data.api.Identity"]){dojo._hasResource["dojo.data.api.Identity"]=true;dojo.provide("dojo.data.api.Identity");dojo.declare("dojo.data.api.Identity",dojo.data.api.Read,{getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},getIdentity:function(item){throw new Error("Unimplemented API: dojo.data.api.Identity.getIdentity");var _a8b=null;return _a8b;},getIdentityAttributes:function(item){throw new Error("Unimplemented API: dojo.data.api.Identity.getIdentityAttributes");return null;},fetchItemByIdentity:function(_a8d){if(!this.isItemLoaded(_a8d.item)){throw new Error("Unimplemented API: dojo.data.api.Identity.fetchItemByIdentity");}}});}if(!dojo._hasResource["dijit._tree.dndContainer"]){dojo._hasResource["dijit._tree.dndContainer"]=true;dojo.provide("dijit._tree.dndContainer");dojo.declare("dijit._tree.dndContainer",null,{constructor:function(tree,_a8f){this.tree=tree;this.node=tree.domNode;dojo.mixin(this,_a8f);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_a8f&&_a8f._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",dojo,"stopEvent"),dojo.connect(this.node,"onselectstart",dojo,"stopEvent")];},getItem:function(key){return this.selection[key];},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.node=this.parent=this.current;},onMouseOver:function(e){var rt=e.relatedTarget;while(rt){if(rt==this.node){break;}try{rt=rt.parentNode;}catch(x){rt=null;}}if(!rt){this._changeState("Container","Over");this.onOverEvent();}var n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},_changeState:function(type,_a97){var _a98="dojoDnd"+type;var _a99=type.toLowerCase()+"State";dojo.removeClass(this.node,_a98+this[_a99]);dojo.addClass(this.node,_a98+_a97);this[_a99]=_a97;},_getChildByEvent:function(e){var node=e.target;if(node){for(var _a9c=node.parentNode;_a9c;node=_a9c,_a9c=node.parentNode){if(dojo.hasClass(node,"dijitTreeContent")){return node;}}}return null;},markupFactory:function(tree,_a9e){_a9e._skipStartup=true;return new dijit._tree.dndContainer(tree,_a9e);},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},onOverEvent:function(){},onOutEvent:function(){}});}if(!dojo._hasResource["dijit._tree.dndSelector"]){dojo._hasResource["dijit._tree.dndSelector"]=true;dojo.provide("dijit._tree.dndSelector");dojo.declare("dijit._tree.dndSelector",dijit._tree.dndContainer,{constructor:function(tree,_aa4){this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.tree.domNode,"onmousedown",this,"onMouseDown"),dojo.connect(this.tree.domNode,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedItems:function(){var _aa5=[];for(var i in this.selection){_aa5.push(dijit.getEnclosingWidget(this.selection[i]).item);}return _aa5;},getSelectedNodes:function(){return this.selection;},selectNone:function(){return this._removeSelection()._removeAnchor();},insertItems:function(item,_aa8){},destroy:function(){dijit._tree.dndSelector.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(!this.current){return;}var item=dijit.getEnclosingWidget(this.current).item;var id=this.tree.model.getIdentity(item);if(!this.current.id){this.current.id=id;}if(!this.current.type){this.current.type="data";}if(!this.singular&&!dojo.dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;dojo.stopEvent(e);return;}if(this.singular){if(this.anchor==this.current){if(dojo.dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=this.current;}}else{if(!this.singular&&e.shiftKey){if(dojo.dnd.getCopyKeyState(e)){}else{}}else{if(dojo.dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=this.current;}}}else{var item=dijit.getEnclosingWidget(this.current).item;var id=this.tree.model.getIdentity(item);if(!(id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[id]=this.current;}}}}dojo.stopEvent(e);},onMouseMove:function(){},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=this.current;}},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dijit._tree.dndSource"]){dojo._hasResource["dijit._tree.dndSource"]=true;dojo.provide("dijit._tree.dndSource");dojo.declare("dijit._tree.dndSource",dijit._tree.dndSelector,{isSource:true,copyOnly:false,skipForm:false,dragThreshold:0,accept:["text"],constructor:function(tree,_ab1){if(!_ab1){_ab1={};}dojo.mixin(this,_ab1);this.isSource=typeof _ab1.isSource=="undefined"?true:_ab1.isSource;var type=_ab1.accept instanceof Array?_ab1.accept:["text"];this.accept=null;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},startup:function(){},checkAcceptance:function(_ab4,_ab5){return true;},copyState:function(_ab6){return this.copyOnly||_ab6;},destroy:function(){this.inherited("destroy",arguments);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_ab7,node){_ab7._skipStartup=true;return new dijit._tree.dndSource(node,_ab7);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}this.inherited("onMouseMove",arguments);var m=dojo.dnd.manager();if(this.isDragging){if(this.allowBetween){var _abb=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox={xy:dojo.coords(this.current,true),w:this.current.offsetWidth,h:this.current.offsetHeight};}if(this.horizontal){_abb=(e.pageX-this.targetBox.xy.x)<(this.targetBox.w/2);}else{_abb=(e.pageY-this.targetBox.xy.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_abb!=this.before){this._markTargetAnchor(_abb);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>=this.dragThreshold||Math.abs(e.pageY-this._lastY)>=this.dragThreshold)){var n=this.getSelectedNodes();var _abd=[];for(var i in n){_abd.push(n[i]);}if(_abd.length){m.startDrag(this,_abd,this.copyState(dojo.dnd.getCopyKeyState(e)));}}}},onMouseDown:function(e){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;this.inherited("onMouseDown",arguments);},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;this.inherited("onMouseUp",arguments);}},onMouseOver:function(e){var rt=e.relatedTarget;while(rt){if(rt==this.node){break;}try{rt=rt.parentNode;}catch(x){rt=null;}}if(!rt){this._changeState("Container","Over");this.onOverEvent();}var n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}var m=dojo.dnd.manager();if(n){this._addItemClass(n,"Over");if(this.isDragging){if(this.checkItemAcceptance(n,m.source)){m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(n in this.selection)));}}}else{if(this.isDragging){m.canDrop(false);}}this.current=n;},checkItemAcceptance:function(node,_ac6){return true;},onDndSourceOver:function(_ac7){if(this!=_ac7){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(false);}}},onDndStart:function(_ac9,_aca,copy){if(this.isSource){this._changeState("Source",this==_ac9?(copy?"Copied":"Moved"):"");}var _acc=this.checkAcceptance(_ac9,_aca);this._changeState("Target",_acc?"":"Disabled");if(_acc){dojo.dnd.manager().overSource(this);}this.isDragging=true;},itemCreator:function(_acd){return dojo.map(_acd,function(node){return {"id":node.id,"name":node.textContent||node.innerText||""};});},onDndDrop:function(_acf,_ad0,copy){if(this.containerState=="Over"){var tree=this.tree,_ad3=tree.model,_ad4=this.current,_ad5=false;this.isDragging=false;var _ad6=dijit.getEnclosingWidget(_ad4),_ad7=(_ad6&&_ad6.item)||tree.item;var _ad8;if(_acf!=this){_ad8=this.itemCreator(_ad0,_ad4);}dojo.forEach(_ad0,function(node,idx){if(_acf==this){var _adb=dijit.getEnclosingWidget(node),_adc=_adb.item,_add=_adb.getParent().item;_ad3.pasteItem(_adc,_add,_ad7,copy);}else{_ad3.newItem(_ad8[idx],_ad7);}},this);this.tree._expandNode(_ad6);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onOverEvent:function(){this.inherited("onOverEvent",arguments);dojo.dnd.manager().overSource(this);},onOutEvent:function(){this.inherited("onOutEvent",arguments);dojo.dnd.manager().outSource(this);},_markTargetAnchor:function(_ade){if(this.current==this.targetAnchor&&this.before==_ade){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_ade;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");}});dojo.declare("dijit._tree.dndTarget",dijit._tree.dndSource,{constructor:function(node,_ae1){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_ae2,node){_ae2._skipStartup=true;return new dijit._tree.dndTarget(node,_ae2);}});}dojo.i18n._preloadLocalizations("dojo.nls.widgets_module",["he","nl","tr","no","ko","el","en","en-gb","ROOT","zh-cn","hu","es","fi-fi","pt-br","ca","fi","he-il","xx","ru","it","fr","cs","de-de","fr-fr","it-it","es-es","ja","sk","da","sl","pl","de","sv","pt","pt-pt","nl-nl","zh-tw","ko-kr","ar","en-us","zh","th","ja-jp"]);
