/*
	Copyright (c) 2004-2008, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.require("dojo.date.stamp");dojo.parser=new function(){var d=dojo;var _2=d._scopeName+"Type";var _3="["+_2+"]";var _4=0,_5={};var _6=function(_7,_8){var _9=_8||_5;if(dojo.isIE){var cn=_7["__dojoNameCache"];if(cn&&_9[cn]===_7){return cn;}}var _b;do{_b="__"+_4++;}while(_b in _9);_9[_b]=_7;return _b;};function val2type(_c){if(d.isString(_c)){return "string";}if(typeof _c=="number"){return "number";}if(typeof _c=="boolean"){return "boolean";}if(d.isFunction(_c)){return "function";}if(d.isArray(_c)){return "array";}if(_c instanceof Date){return "date";}if(_c instanceof d._Url){return "url";}return "object";};function str2obj(_d,_e){switch(_e){case "string":return _d;case "number":return _d.length?Number(_d):NaN;case "boolean":return typeof _d=="boolean"?_d:!(_d.toLowerCase()=="false");case "function":if(d.isFunction(_d)){_d=_d.toString();_d=d.trim(_d.substring(_d.indexOf("{")+1,_d.length-1));}try{if(_d.search(/[^\w\.]+/i)!=-1){_d=_6(new Function(_d),this);}return d.getObject(_d,false);}catch(e){return new Function();}case "array":return _d?_d.split(/\s*,\s*/):[];case "date":switch(_d){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_d);}case "url":return d.baseUrl+_d;default:return d.fromJson(_d);}};var _f={};function getClassInfo(_10){if(!_f[_10]){var cls=d.getObject(_10);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_10+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _12=cls.prototype;var _13={};for(var _14 in _12){if(_14.charAt(0)=="_"){continue;}var _15=_12[_14];_13[_14]=val2type(_15);}_f[_10]={cls:cls,params:_13};}return _f[_10];};this._functionFromScript=function(_16){var _17="";var _18="";var _19=_16.getAttribute("args");if(_19){d.forEach(_19.split(/\s*,\s*/),function(_1a,idx){_17+="var "+_1a+" = arguments["+idx+"]; ";});}var _1c=_16.getAttribute("with");if(_1c&&_1c.length){d.forEach(_1c.split(/\s*,\s*/),function(_1d){_17+="with("+_1d+"){";_18+="}";});}return new Function(_17+_16.innerHTML+_18);};this.instantiate=function(_1e){var _1f=[];d.forEach(_1e,function(_20){if(!_20){return;}var _21=_20.getAttribute(_2);if(!_21||!_21.length){return;}var _22=getClassInfo(_21),_23=_22.cls,ps=_23._noScript||_23.prototype._noScript;var _25={},_26=_20.attributes;for(var _27 in _22.params){var _28=_26.getNamedItem(_27);if(!_28||(!_28.specified&&(!dojo.isIE||_27.toLowerCase()!="value"))){continue;}var _29=_28.value;switch(_27){case "class":_29=_20.className;break;case "style":_29=_20.style&&_20.style.cssText;}var _2a=_22.params[_27];_25[_27]=str2obj(_29,_2a);}if(!ps){var _2b=[],_2c=[];d.query("> script[type^='dojo/']",_20).orphan().forEach(function(_2d){var _2e=_2d.getAttribute("event"),_21=_2d.getAttribute("type"),nf=d.parser._functionFromScript(_2d);if(_2e){if(_21=="dojo/connect"){_2b.push({event:_2e,func:nf});}else{_25[_2e]=nf;}}else{_2c.push(nf);}});}var _30=_23["markupFactory"];if(!_30&&_23["prototype"]){_30=_23.prototype["markupFactory"];}var _31=_30?_30(_25,_20,_23):new _23(_25,_20);_1f.push(_31);var _32=_20.getAttribute("jsId");if(_32){d.setObject(_32,_31);}if(!ps){d.forEach(_2b,function(_33){d.connect(_31,_33.event,null,_33.func);});d.forEach(_2c,function(_34){_34.call(_31);});}});d.forEach(_1f,function(_35){if(_35&&_35.startup&&!_35._started&&(!_35.getParent||!_35.getParent())){_35.startup();}});return _1f;};this.parse=function(_36){var _37=d.query(_3,_36);var _38=this.instantiate(_37);return _38;};}();(function(){var _39=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_39);}else{dojo._loaders.unshift(_39);}})();}