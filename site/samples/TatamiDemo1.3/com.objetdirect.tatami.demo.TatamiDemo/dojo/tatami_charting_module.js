/*
	Copyright (c) 2004-2008, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(_3,_4){return ((" "+_3.getAttribute("className")+" ").indexOf(" "+_4+" ")>=0);};g._addClass=function(_5,_6){var _7=_5.getAttribute("className");if((" "+_7+" ").indexOf(" "+_6+" ")<0){_5.setAttribute("className",_7+(_7?" ":"")+_6);}};g._removeClass=function(_8,_9){_8.setAttribute("className",_8.getAttribute("className").replace(new RegExp("(^|\\s+)"+_9+"(\\s+|$)"),"$1$2"));};b._getFontMeasurements=function(){var _a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var _b=dojo.doc.createElement("div");_b.style.position="absolute";_b.style.left="-100px";_b.style.top="0";_b.style.width="30px";_b.style.height="1000em";_b.style.border="0";_b.style.margin="0";_b.style.padding="0";_b.style.outline="0";_b.style.lineHeight="1";_b.style.overflow="hidden";dojo.body().appendChild(_b);for(var p in _a){_b.style.fontSize=p;_a[p]=Math.round(_b.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(_b);_b=null;return _a;};var _d=null;b._getCachedFontMeasurements=function(_e){if(_e||!_d){_d=b._getFontMeasurements();}return _d;};var _f=null,_10={};b._getTextBox=function(_11,_12,_13){var m;if(!_f){m=_f=dojo.doc.createElement("div");m.style.position="absolute";m.style.left="-10000px";m.style.top="0";dojo.body().appendChild(m);}else{m=_f;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_12){for(var i in _12){if(i in _10){continue;}m.style[i]=_12[i];}}if(arguments.length>2&&_13){m.className=_13;}m.innerHTML=_11;return dojo.marginBox(m);};var _16=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_16);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},normalizeColor:function(_18){return (_18 instanceof dojo.Color)?_18:new dojo.Color(_18);},normalizeParameters:function(_19,_1a){if(_1a){var _1b={};for(var x in _19){if(x in _1a&&!(x in _1b)){_19[x]=_1a[x];}}}return _19;},makeParameters:function(_1d,_1e){if(!_1e){return dojo.clone(_1d);}var _1f={};for(var i in _1d){if(!(i in _1f)){_1f[i]=dojo.clone((i in _1e)?_1e[i]:_1d[i]);}}return _1f;},formatNumber:function(x,_22){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _24=val.indexOf(".");if(_24>=0&&val.length-_24>5){val=x.toFixed(4);}}if(x<0){return val;}return _22?" "+val:val;},makeFontString:function(_25){return _25.style+" "+_25.variant+" "+_25.weight+" "+_25.size+" "+_25.family;},splitFontString:function(str){var _27=dojo.clone(dojox.gfx.defaultFont);var t=str.split(/\s+/);do{if(t.length<5){break;}_27.style=t[0];_27.varian=t[1];_27.weight=t[2];var i=t[3].indexOf("/");_27.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;break;}if(t[4].substr(0,1)=="/"){j=5;break;}}if(j+3>t.length){break;}_27.size=t[j];_27.family=t[j+1];}while(false);return _27;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _2e=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_2e;case "in":return val*72*_2e;case "pc":return val*12*_2e;case "mm":return val*dojox.gfx.mm_in_pt*_2e;case "cm":return val*dojox.gfx.cm_in_pt*_2e;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;}});}if(!dojo._hasResource["dojox.gfx.shape"]){dojo._hasResource["dojox.gfx.shape"]=true;dojo.provide("dojox.gfx.shape");dojo.declare("dojox.gfx.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix();var r=[];var g=dojox.gfx.matrix;r.push(g.multiplyPoint(m,b.x,b.y));r.push(g.multiplyPoint(m,b.x+b.width,b.y));r.push(g.multiplyPoint(m,b.x+b.width,b.y+b.height));r.push(g.multiplyPoint(m,b.x,b.y+b.height));return r;},getEventSource:function(){return this.rawNode;},setShape:function(_36){this.shape=dojox.gfx.makeParameters(this.shape,_36);this.bbox=null;return this;},setFill:function(_37){if(!_37){this.fillStyle=null;return this;}var f=null;if(typeof (_37)=="object"&&"type" in _37){switch(_37.type){case "linear":f=dojox.gfx.makeParameters(dojox.gfx.defaultLinearGradient,_37);break;case "radial":f=dojox.gfx.makeParameters(dojox.gfx.defaultRadialGradient,_37);break;case "pattern":f=dojox.gfx.makeParameters(dojox.gfx.defaultPattern,_37);break;}}else{f=dojox.gfx.normalizeColor(_37);}this.fillStyle=f;return this;},setStroke:function(_39){if(!_39){this.strokeStyle=null;return this;}if(typeof _39=="string"||dojo.isArray(_39)||_39 instanceof dojo.Color){_39={color:_39};}var s=this.strokeStyle=dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_39);s.color=dojox.gfx.normalizeColor(s.color);return this;},setTransform:function(_3b){this.matrix=dojox.gfx.matrix.clone(_3b?dojox.gfx.matrix.normalize(_3b):dojox.gfx.matrix.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_3e){return _3e?this.setTransform([this.matrix,_3e]):this;},applyLeftTransform:function(_3f){return _3f?this.setTransform([_3f,this.matrix]):this;},applyTransform:function(_40){return _40?this.setTransform([this.matrix,_40]):this;},removeShape:function(_41){if(this.parent){this.parent.remove(this,_41);}return this;},_setParent:function(_42,_43){this.parent=_42;return this._updateParentMatrix(_43);},_updateParentMatrix:function(_44){this.parentMatrix=_44?dojox.gfx.matrix.clone(_44):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=dojox.gfx.matrix.multiply(p.matrix,m);}p=p.parent;}return m;}});dojox.gfx.shape._eventsProcessing={connect:function(_47,_48,_49){return arguments.length>2?dojo.connect(this.getEventSource(),_47,_48,_49):dojo.connect(this.getEventSource(),_47,_48);},disconnect:function(_4a){dojo.disconnect(_4a);}};dojo.extend(dojox.gfx.Shape,dojox.gfx.shape._eventsProcessing);dojox.gfx.shape.Container={_init:function(){this.children=[];},add:function(_4b){var _4c=_4b.getParent();if(_4c){_4c.remove(_4b,true);}this.children.push(_4b);return _4b._setParent(this,this._getRealMatrix());},remove:function(_4d,_4e){for(var i=0;i<this.children.length;++i){if(this.children[i]==_4d){if(_4e){}else{_4d.parent=null;_4d.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(){this.children=[];return this;},_moveChildToFront:function(_50){for(var i=0;i<this.children.length;++i){if(this.children[i]==_50){this.children.splice(i,1);this.children.push(_50);break;}}return this;},_moveChildToBack:function(_52){for(var i=0;i<this.children.length;++i){if(this.children[i]==_52){this.children.splice(i,1);this.children.unshift(_52);break;}}return this;}};dojo.declare("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){dojo.forEach(this._nodes,dojo._destroyElement);this._nodes=[];dojo.forEach(this._events,dojo.disconnect);this._events=[];this.rawNode=null;if(dojo.isIE){while(this._parent.lastChild){dojo._destroyElement(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_54){},whenLoaded:function(_55,_56){var f=dojo.hitch(_55,_56);if(this.isLoaded){f(this);}else{var h=dojo.connect(this,"onLoad",function(_59){dojo.disconnect(h);f(_59);});}}});dojo.extend(dojox.gfx.shape.Surface,dojox.gfx.shape._eventsProcessing);dojo.declare("dojox.gfx.Point",null,{});dojo.declare("dojox.gfx.Rectangle",null,{});dojo.declare("dojox.gfx.shape.Rect",dojox.gfx.Shape,{constructor:function(_5a){this.shape=dojo.clone(dojox.gfx.defaultRect);this.rawNode=_5a;},getBoundingBox:function(){return this.shape;}});dojo.declare("dojox.gfx.shape.Ellipse",dojox.gfx.Shape,{constructor:function(_5b){this.shape=dojo.clone(dojox.gfx.defaultEllipse);this.rawNode=_5b;},getBoundingBox:function(){if(!this.bbox){var _5c=this.shape;this.bbox={x:_5c.cx-_5c.rx,y:_5c.cy-_5c.ry,width:2*_5c.rx,height:2*_5c.ry};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Circle",dojox.gfx.Shape,{constructor:function(_5d){this.shape=dojo.clone(dojox.gfx.defaultCircle);this.rawNode=_5d;},getBoundingBox:function(){if(!this.bbox){var _5e=this.shape;this.bbox={x:_5e.cx-_5e.r,y:_5e.cy-_5e.r,width:2*_5e.r,height:2*_5e.r};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Line",dojox.gfx.Shape,{constructor:function(_5f){this.shape=dojo.clone(dojox.gfx.defaultLine);this.rawNode=_5f;},getBoundingBox:function(){if(!this.bbox){var _60=this.shape;this.bbox={x:Math.min(_60.x1,_60.x2),y:Math.min(_60.y1,_60.y2),width:Math.abs(_60.x2-_60.x1),height:Math.abs(_60.y2-_60.y1)};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Polyline",dojox.gfx.Shape,{constructor:function(_61){this.shape=dojo.clone(dojox.gfx.defaultPolyline);this.rawNode=_61;},setShape:function(_62,_63){if(_62&&_62 instanceof Array){dojox.gfx.Shape.prototype.setShape.call(this,{points:_62});if(_63&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{dojox.gfx.Shape.prototype.setShape.call(this,_62);}return this;},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var _67={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(_67.l>t.x){_67.l=t.x;}if(_67.r<t.x){_67.r=t.x;}if(_67.t>t.y){_67.t=t.y;}if(_67.b<t.y){_67.b=t.y;}}this.bbox={x:_67.l,y:_67.t,width:_67.r-_67.l,height:_67.b-_67.t};}return this.bbox;}});dojo.declare("dojox.gfx.shape.Image",dojox.gfx.Shape,{constructor:function(_69){this.shape=dojo.clone(dojox.gfx.defaultImage);this.rawNode=_69;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});dojo.declare("dojox.gfx.shape.Text",dojox.gfx.Shape,{constructor:function(_6a){this.fontStyle=null;this.shape=dojo.clone(dojox.gfx.defaultText);this.rawNode=_6a;},getFont:function(){return this.fontStyle;},setFont:function(_6b){this.fontStyle=typeof _6b=="string"?dojox.gfx.splitFontString(_6b):dojox.gfx.makeParameters(dojox.gfx.defaultFont,_6b);this._setFont();return this;}});dojox.gfx.shape.Creator={createShape:function(_6c){switch(_6c.type){case dojox.gfx.defaultPath.type:return this.createPath(_6c);case dojox.gfx.defaultRect.type:return this.createRect(_6c);case dojox.gfx.defaultCircle.type:return this.createCircle(_6c);case dojox.gfx.defaultEllipse.type:return this.createEllipse(_6c);case dojox.gfx.defaultLine.type:return this.createLine(_6c);case dojox.gfx.defaultPolyline.type:return this.createPolyline(_6c);case dojox.gfx.defaultImage.type:return this.createImage(_6c);case dojox.gfx.defaultText.type:return this.createText(_6c);case dojox.gfx.defaultTextPath.type:return this.createTextPath(_6c);}return null;},createGroup:function(){return this.createObject(dojox.gfx.Group);},createRect:function(_6d){return this.createObject(dojox.gfx.Rect,_6d);},createEllipse:function(_6e){return this.createObject(dojox.gfx.Ellipse,_6e);},createCircle:function(_6f){return this.createObject(dojox.gfx.Circle,_6f);},createLine:function(_70){return this.createObject(dojox.gfx.Line,_70);},createPolyline:function(_71){return this.createObject(dojox.gfx.Polyline,_71);},createImage:function(_72){return this.createObject(dojox.gfx.Image,_72);},createText:function(_73){return this.createObject(dojox.gfx.Text,_73);},createPath:function(_74){return this.createObject(dojox.gfx.Path,_74);},createTextPath:function(_75){return this.createObject(dojox.gfx.TextPath,{}).setText(_75);},createObject:function(_76,_77){return null;}};}if(!dojo._hasResource["dojox.gfx.path"]){dojo._hasResource["dojox.gfx.path"]=true;dojo.provide("dojox.gfx.path");dojo.declare("dojox.gfx.path.Path",dojox.gfx.Shape,{constructor:function(_78){this.shape=dojo.clone(dojox.gfx.defaultPath);this.segments=[];this.absolute=true;this.last={};this.rawNode=_78;},setAbsoluteMode:function(_79){this.absolute=typeof _79=="string"?(_79=="absolute"):_79;return this;},getAbsoluteMode:function(){return this.absolute;},getBoundingBox:function(){return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},getLastPosition:function(){return "x" in this.last?this.last:null;},_updateBBox:function(x,y){if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_7c){var n=_7c.args,l=n.length;switch(_7c.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(var i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1]);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(var i=0;i<l;++i){this._updateBBox(n[i],this.last.y);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(var i=0;i<l;++i){this._updateBBox(this.last.x,n[i]);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _80=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1]);_80=2;}for(var i=_80;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1]);}this.absolute=false;break;case "l":case "t":for(var i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1]);}this.absolute=false;break;case "h":for(var i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y);}this.absolute=false;break;case "v":for(var i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i]);}this.absolute=false;break;case "c":for(var i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1]);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3]);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5]);}this.absolute=false;break;case "s":case "q":for(var i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1]);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3]);}this.absolute=false;break;case "A":for(var i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6]);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(var i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6]);}this.absolute=false;break;}var _81=[_7c.action];for(var i=0;i<l;++i){_81.push(dojox.gfx.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=_81.join("");}else{Array.prototype.push.apply(this.shape.path,_81);}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_82,_83){var _84=this._validSegments[_82.toLowerCase()];if(typeof _84=="number"){if(_84){if(_83.length>=_84){var _85={action:_82,args:_83.slice(0,_83.length-_83.length%_84)};this.segments.push(_85);this._updateWithSegment(_85);}}else{var _85={action:_82,args:[]};this.segments.push(_85);this._updateWithSegment(_85);}}},_collectArgs:function(_86,_87){for(var i=0;i<_87.length;++i){var t=_87[i];if(typeof t=="boolean"){_86.push(t?1:0);}else{if(typeof t=="number"){_86.push(t);}else{if(t instanceof Array){this._collectArgs(_86,t);}else{if("x" in t&&"y" in t){_86.push(t.x,t.y);}}}}}},moveTo:function(){var _8a=[];this._collectArgs(_8a,arguments);this._pushSegment(this.absolute?"M":"m",_8a);return this;},lineTo:function(){var _8b=[];this._collectArgs(_8b,arguments);this._pushSegment(this.absolute?"L":"l",_8b);return this;},hLineTo:function(){var _8c=[];this._collectArgs(_8c,arguments);this._pushSegment(this.absolute?"H":"h",_8c);return this;},vLineTo:function(){var _8d=[];this._collectArgs(_8d,arguments);this._pushSegment(this.absolute?"V":"v",_8d);return this;},curveTo:function(){var _8e=[];this._collectArgs(_8e,arguments);this._pushSegment(this.absolute?"C":"c",_8e);return this;},smoothCurveTo:function(){var _8f=[];this._collectArgs(_8f,arguments);this._pushSegment(this.absolute?"S":"s",_8f);return this;},qCurveTo:function(){var _90=[];this._collectArgs(_90,arguments);this._pushSegment(this.absolute?"Q":"q",_90);return this;},qSmoothCurveTo:function(){var _91=[];this._collectArgs(_91,arguments);this._pushSegment(this.absolute?"T":"t",_91);return this;},arcTo:function(){var _92=[];this._collectArgs(_92,arguments);this._pushSegment(this.absolute?"A":"a",_92);return this;},closePath:function(){this._pushSegment("Z",[]);return this;},_setPath:function(_93){var p=dojo.isArray(_93)?_93:_93.match(dojox.gfx.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _95="",_96=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_95){this._pushSegment(_95,_96);}_96=[];_95=t;}else{_96.push(x);}}this._pushSegment(_95,_96);},setShape:function(_9b){dojox.gfx.Shape.prototype.setShape.call(this,typeof _9b=="string"?{path:_9b}:_9b);var _9c=this.shape.path;this.shape.path=[];this._setPath(_9c);this.shape.path=this.shape.path.join("");return this;},_2PI:Math.PI*2});dojo.declare("dojox.gfx.path.TextPath",dojox.gfx.path.Path,{constructor:function(_9d){if(!("text" in this)){this.text=dojo.clone(dojox.gfx.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=dojo.clone(dojox.gfx.defaultFont);}},getText:function(){return this.text;},setText:function(_9e){this.text=dojox.gfx.makeParameters(this.text,typeof _9e=="string"?{text:_9e}:_9e);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_9f){this.fontStyle=typeof _9f=="string"?dojox.gfx.splitFontString(_9f):dojox.gfx.makeParameters(dojox.gfx.defaultFont,_9f);this._setFont();return this;}});}if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;m._degToRad=function(_a1){return Math.PI*_a1/180;};m._radToDeg=function(_a2){return _a2/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _a4=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_a4,r=dojox.gfx.matrix.normalize(arg[i]);_a4=new m.Matrix2D();_a4.xx=l.xx*r.xx+l.xy*r.yx;_a4.xy=l.xx*r.xy+l.xy*r.yy;_a4.yx=l.yx*r.xx+l.yy*r.yx;_a4.yy=l.yx*r.xy+l.yy*r.yy;_a4.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_a4.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_a4);}}else{dojo.mixin(this,arg);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_ac){var c=Math.cos(_ac);var s=Math.sin(_ac);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_af){return m.rotate(m._degToRad(_af));},skewX:function(_b0){return new m.Matrix2D({xy:Math.tan(_b0)});},skewXg:function(_b1){return m.skewX(m._degToRad(_b1));},skewY:function(_b2){return new m.Matrix2D({yx:Math.tan(_b2)});},skewYg:function(_b3){return m.skewY(m._degToRad(_b3));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_c0){return (_c0 instanceof m.Matrix2D)?_c0:new m.Matrix2D(_c0);},clone:function(_c1){var obj=new m.Matrix2D();for(var i in _c1){if(typeof (_c1[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_c1[i]){obj[i]=_c1[i];}}return obj;},invert:function(_c4){var M=m.normalize(_c4),D=M.xx*M.yy-M.xy*M.yx,M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_c7,x,y){return {x:_c7.xx*x+_c7.xy*y+_c7.dx,y:_c7.yx*x+_c7.yy*y+_c7.dy};},multiplyPoint:function(_ca,a,b){var M=m.normalize(_ca);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_ce){var M=m.normalize(_ce);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_d3,x,y){return m.multiply(m.translate(x,y),_d3,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_da,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_da),a,b);}return m._sandwich(m.rotate(_da),a.x,a.y);},rotategAt:function(_dd,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_dd),a,b);}return m._sandwich(m.rotateg(_dd),a.x,a.y);},skewXAt:function(_e0,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_e0),a,b);}return m._sandwich(m.skewX(_e0),a.x,a.y);},skewXgAt:function(_e3,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_e3),a,b);}return m._sandwich(m.skewXg(_e3),a.x,a.y);},skewYAt:function(_e6,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_e6),a,b);}return m._sandwich(m.skewY(_e6),a.x,a.y);},skewYgAt:function(_e9,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_e9),a,b);}return m._sandwich(m.skewYg(_e9),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,_ee,_ef;if(!gfx.renderer){var _f0=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,silverlight,canvas").split(",");var ua=navigator.userAgent,_f2=0,_f3=0;if(dojo.isSafari>=3){if(ua.indexOf("iPhone")>=0||ua.indexOf("iPod")>=0){_ef=ua.match(/Version\/(\d(\.\d)?(\.\d)?)\sMobile\/([^\s]*)\s?/);if(_ef){_f2=parseInt(_ef[4].substr(0,3),16);}}if(!_f2){_ef=ua.match(/Android\s+(\d+\.\d+)/);if(_ef){_f3=parseFloat(_ef[1]);}}}for(var i=0;i<_f0.length;++i){switch(_f0[i]){case "svg":if(!dojo.isIE&&(!_f2||_f2>=1521)&&!_f3){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){_ee=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_ee=true;}}}catch(e){_ee=false;}finally{sl=null;}if(_ee){dojox.gfx.renderer="silverlight";}break;case "canvas":if(!dojo.isIE){dojox.gfx.renderer="canvas";}break;}if(dojox.gfx.renderer){break;}}if(dojo.config.isDebug){}}});dojo.requireIf(dojox.gfx.renderer=="svg","dojox.gfx.svg");dojo.requireIf(dojox.gfx.renderer=="vml","dojox.gfx.vml");dojo.requireIf(dojox.gfx.renderer=="silverlight","dojox.gfx.silverlight");dojo.requireIf(dojox.gfx.renderer=="canvas","dojox.gfx.canvas");}if(!dojo._hasResource["dojox.lang.functional.lambda"]){dojo._hasResource["dojox.lang.functional.lambda"]=true;dojo.provide("dojox.lang.functional.lambda");(function(){var df=dojox.lang.functional;var _f6="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _fa=function(s){var _fc=[],_fd=_f6.call(s,/\s*->\s*/m);if(_fd.length>1){while(_fd.length){s=_fd.pop();_fc=_fd.pop().split(/\s*,\s*|\s+/m);if(_fd.length){_fd.push("(function("+_fc+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){_fc=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){_fc.push("$1");s="$1"+s;}if(r){_fc.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var t={};dojo.forEach(vars,function(v){if(!(v in t)){_fc.push(v);t[v]=1;}});}}}return {args:_fc,body:s};};var _103=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};dojo.mixin(df,{rawLambda:function(s){return _fa(s);},buildLambda:function(s){s=_fa(s);return "function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _103(s);}s=_fa(s);return new Function(s.args,"return ("+s.body+");");}});})();}if(!dojo._hasResource["dojox.lang.functional.array"]){dojo._hasResource["dojox.lang.functional.array"]=true;dojo.provide("dojox.lang.functional.array");(function(){var d=dojo,df=dojox.lang.functional,_10d={};d.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v;if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{for(var i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(var i in a){if(i in _10d){continue;}f.call(o,a[i],i,a);}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n;if(d.isArray(a)){t=new Array(n=a.length);for(var i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{t=[];for(var i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(var i in a){if(i in _10d){continue;}if(!f.call(o,a[i],i,a)){return false;}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(var i in a){if(i in _10d){continue;}if(f.call(o,a[i],i,a)){return true;}}}}return false;}});})();}if(!dojo._hasResource["dojox.lang.functional.object"]){dojo._hasResource["dojox.lang.functional.object"]=true;dojo.provide("dojox.lang.functional.object");(function(){var d=dojo,df=dojox.lang.functional,_12c={};d.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(i in _12c){continue;}t.push(i);}return t;},values:function(obj){var t=[];for(var i in obj){if(i in _12c){continue;}t.push(obj[i]);}return t;},filterIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},v;for(var i in obj){if(i in _12c){continue;}v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}return t;},forIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);for(var i in obj){if(i in _12c){continue;}f.call(o,obj[i],i,obj);}return o;},mapIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={};for(var i in obj){if(i in _12c){continue;}t[i]=f.call(o,obj[i],i,obj);}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional"]){dojo._hasResource["dojox.lang.functional"]=true;dojo.provide("dojox.lang.functional");}if(!dojo._hasResource["dojox.lang.functional.fold"]){dojo._hasResource["dojox.lang.functional.fold"]=true;dojo.provide("dojox.lang.functional.fold");(function(){var d=dojo,df=dojox.lang.functional,_144={};d.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(var i in a){if(i in _144){continue;}z=f.call(o,z,a[i],i,a);}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var z;if(d.isArray(a)){z=a[0];for(var i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(var i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _151=true;for(var i in a){if(i in _144){continue;}if(_151){z=a[i];_151=false;}else{z=f.call(o,z,a[i],i,a);}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,z=a[n-1];for(var i=n-1;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||d.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional.reversed"]){dojo._hasResource["dojox.lang.functional.reversed"]=true;dojo.provide("dojox.lang.functional.reversed");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v;for(var i=a.length-1;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n);for(var i=n-1,j=0;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});})();}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");(function(){var _184=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_189,obj){var m=_189.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1];if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){var a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2,a=[_184(m1,m2,H+1/3)*256,_184(m1,m2,H)*256,_184(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _197=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_197(t.r,0,255));t.g=Math.round(_197(t.g,0,255));t.b=Math.round(_197(t.b,0,255));t.a=_197(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.Color.named=dojo.mixin({aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]},dojo.Color.named);}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(cyan,_19f,_1a0){if(dojo.isArray(cyan)){_19f=cyan[1],_1a0=cyan[2],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_19f=cyan.m,_1a0=cyan.y,cyan=cyan.c;}}cyan/=100,_19f/=100,_1a0/=100;var r=1-cyan,g=1-_19f,b=1-_1a0;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_1a5,_1a6,_1a7){if(dojo.isArray(cyan)){_1a5=cyan[1],_1a6=cyan[2],_1a7=cyan[3],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_1a5=cyan.m,_1a6=cyan.y,_1a7=cyan.b,cyan=cyan.c;}}cyan/=100,_1a5/=100,_1a6/=100,_1a7/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_1a7)+_1a7);g=1-Math.min(1,_1a5*(1-_1a7)+_1a7);b=1-Math.min(1,_1a6*(1-_1a7)+_1a7);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_1ac,_1ad){if(dojo.isArray(hue)){_1ac=hue[1],_1ad=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_1ac=hue.s,_1ad=hue.l,hue=hue.h;}}_1ac/=100;_1ad/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_1ac*Math.min(r,1)+(1-_1ac);g=2*_1ac*Math.min(g,1)+(1-_1ac);b=2*_1ac*Math.min(b,1)+(1-_1ac);if(_1ad<0.5){r*=_1ad,g*=_1ad,b*=_1ad;}else{r=(1-_1ad)*r+2*_1ad-1;g=(1-_1ad)*g+2*_1ad-1;b=(1-_1ad)*b+2*_1ad-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_1b2,_1b3){if(dojo.isArray(hue)){_1b2=hue[1],_1b3=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_1b2=hue.s,_1b3=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_1b2/=100;_1b3/=100;var r,g,b;if(_1b2==0){r=_1b3,b=_1b3,g=_1b3;}else{var _1b7=hue/60,i=Math.floor(_1b7),f=_1b7-i;var p=_1b3*(1-_1b2);var q=_1b3*(1-(_1b2*f));var t=_1b3*(1-(_1b2*(1-f)));switch(i){case 0:r=_1b3,g=t,b=p;break;case 1:r=q,g=_1b3,b=p;break;case 2:r=p,g=_1b3,b=t;break;case 3:r=p,g=q,b=_1b3;break;case 4:r=t,g=p,b=_1b3;break;case 5:r=_1b3,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var cyan=1-(this.r/255),_1be=1-(this.g/255),_1bf=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_1be*100),y:Math.round(_1bf*100)};},toCmyk:function(){var cyan,_1c1,_1c2,_1c3;var r=this.r/255,g=this.g/255,b=this.b/255;_1c3=Math.min(1-r,1-g,1-b);cyan=(1-r-_1c3)/(1-_1c3);_1c1=(1-g-_1c3)/(1-_1c3);_1c2=(1-b-_1c3)/(1-_1c3);return {c:Math.round(cyan*100),m:Math.round(_1c1*100),y:Math.round(_1c2*100),b:Math.round(_1c3*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _1cc=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_1cc/((l<0.5)?(2*l):(2-2*l));}if(_1cc>0){if(max==r&&max!=g){h+=(g-b)/_1cc;}if(max==g&&max!=b){h+=(2+(b-r)/_1cc);}if(max==b&&max!=r){h+=(4+(r-g)/_1cc);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _1d5=max-min;var h=null,s=(max==0)?0:(_1d5/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_1d5;}else{if(g==max){h=120+60*(b-r)/_1d5;}else{h=240+60*(r-g)/_1d5;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["dojox.color.Palette"]){dojo._hasResource["dojox.color.Palette"]=true;dojo.provide("dojox.color.Palette");(function(){var dxc=dojox.color;dxc.Palette=function(base){this.colors=[];if(base instanceof dojox.color.Palette){this.colors=base.colors.slice(0);}else{if(base instanceof dojox.color.Color){this.colors=[null,null,base,null,null];}else{if(dojo.isArray(base)){this.colors=dojo.map(base.slice(0),function(item){if(dojo.isString(item)){return new dojox.color.Color(item);}return item;});}else{if(dojo.isString(base)){this.colors=[null,null,new dojox.color.Color(base),null,null];}}}}};function tRGBA(p,_1dc,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var r=(_1dc=="dr")?item.r+val:item.r,g=(_1dc=="dg")?item.g+val:item.g,b=(_1dc=="db")?item.b+val:item.b,a=(_1dc=="da")?item.a+val:item.a;ret.colors.push(new dojox.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;};function tCMY(p,_1e5,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmy(),c=(_1e5=="dc")?o.c+val:o.c,m=(_1e5=="dm")?o.m+val:o.m,y=(_1e5=="dy")?o.y+val:o.y;ret.colors.push(dojox.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function tCMYK(p,_1ee,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmyk(),c=(_1ee=="dc")?o.c+val:o.c,m=(_1ee=="dm")?o.m+val:o.m,y=(_1ee=="dy")?o.y+val:o.y,k=(_1ee=="dk")?o.b+val:o.b;ret.colors.push(dojox.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function tHSL(p,_1f8,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsl(),h=(_1f8=="dh")?o.h+val:o.h,s=(_1f8=="ds")?o.s+val:o.s,l=(_1f8=="dl")?o.l+val:o.l;ret.colors.push(dojox.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,_201,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsv(),h=(_201=="dh")?o.h+val:o.h,s=(_201=="ds")?o.s+val:o.s,v=(_201=="dv")?o.v+val:o.v;ret.colors.push(dojox.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function rangeDiff(val,low,high){return high-((high-val)*((high-low)/high));};dojo.extend(dxc.Palette,{transform:function(_20c){var fn=tRGBA;if(_20c.use){var use=_20c.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=tCMYK;}else{fn=tCMY;}}}}else{if("dc" in _20c||"dm" in _20c||"dy" in _20c){if("dk" in _20c){fn=tCMYK;}else{fn=tCMY;}}else{if("dh" in _20c||"ds" in _20c){if("dv" in _20c){fn=tHSV;}else{fn=tHSL;}}}}var _20f=this;for(var p in _20c){if(p=="use"){continue;}_20f=fn(_20f,p,_20c[p]);}return _20f;},clone:function(){return new dxc.Palette(this);}});dojo.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(dojo.map(h,function(hue,i){return dojox.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=rangeDiff(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v3),base,dojox.color.fromHsv(hsv.h,s1,v3),dojox.color.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,hsv.v),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h2,s2,v1),dojox.color.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=rangeDiff(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h1,s3,v2),dojox.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,_23d=args.da||30,hsv=base.toHsv();var _23f=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_23f-_23d+360)%360,h2=(_23f+_23d)%360,s1=Math.max(hsv.s-10,0),s2=rangeDiff(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v2),dojox.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v3),dojox.color.fromHsv(h3,s2,v2)]);},shades:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dojox.color.fromHsv(hsv.h,s,v1),new dojox.color.fromHsv(hsv.h,s,v2),base,new dojox.color.fromHsv(hsv.h,s,v3),new dojox.color.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(dojo.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});})();}if(!dojo._hasResource["dojox.charting.Theme"]){dojo._hasResource["dojox.charting.Theme"]=true;dojo.provide("dojox.charting.Theme");(function(){var dxc=dojox.charting;dxc.Theme=function(_25e){_25e=_25e||{};var def=dxc.Theme._def;dojo.forEach(["chart","plotarea","axis","series","marker"],function(n){this[n]=dojo.mixin(dojo.clone(def[n]),_25e[n]||{});},this);this.markers=dojo.mixin(dojo.clone(dxc.Theme.Markers),_25e.markers||{});this.colors=[];this.antiAlias=("antiAlias" in _25e)?_25e.antiAlias:true;this.assignColors=("assignColors" in _25e)?_25e.assignColors:true;this.assignMarkers=("assignMarkers" in _25e)?_25e.assignMarkers:true;_25e.colors=_25e.colors||def.colors;dojo.forEach(_25e.colors,function(item){this.colors.push(item);},this);this._current={color:0,marker:0};this._markers=[];this._buildMarkerArray();};dxc.Theme.Markers={CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"};dxc.Theme._def={chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},majorTick:{color:"#666",width:1,length:6,position:"center"},minorTick:{color:"#666",width:0.8,length:3,position:"center"},font:"normal normal normal 7pt Tahoma",fontColor:"#333"},series:{outline:{width:0.1,color:"#ccc"},stroke:{width:1.5,color:"#333"},fill:"#ccc",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:1},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:["#54544c","#858e94","#6e767a","#948585","#474747"]};dojo.extend(dxc.Theme,{defineColors:function(obj){var _263=obj||{};var c=[],n=_263.num||5;if(_263.colors){var l=_263.colors.length;for(var i=0;i<n;i++){c.push(_263.colors[i%l]);}this.colors=c;}else{if(_263.hue){var s=_263.saturation||100;var st=_263.low||30;var end=_263.high||90;var l=(end+st)/2;this.colors=dojox.color.Palette.generate(dojox.color.fromHsv(_263.hue,s,l),"monochromatic").colors;}else{if(_263.generator){this.colors=dojox.color.Palette.generate(_263.base,_263.generator).colors;}}}},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}this._current.marker=0;},_clone:function(){return new dxc.Theme({chart:this.chart,plotarea:this.plotarea,axis:this.axis,series:this.series,marker:this.marker,antiAlias:this.antiAlias,assignColors:this.assignColors,assignMarkers:this.assigneMarkers,colors:dojo.clone(this.colors)});},addMarker:function(name,_26d){this.markers[name]=_26d;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},next:function(type){if(type=="marker"){return this._markers[this._current.marker++%this._markers.length];}else{return this.colors[this._current.color++%this.colors.length];}},clear:function(){this._current={color:0,marker:0};}});})();}if(!dojo._hasResource["dojox.charting.Element"]){dojo._hasResource["dojox.charting.Element"]=true;dojo.provide("dojox.charting.Element");dojo.declare("dojox.charting.Element",null,{constructor:function(_270){this.chart=_270;this.group=null;this.htmlElements=[];this.dirty=true;},createGroup:function(_271){if(!_271){_271=this.chart.surface;}if(!this.group){this.group=_271.createGroup();}return this;},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.group.clear();this.group.removeShape();this.group=null;}this.dirty=true;return this;},cleanGroup:function(_272){this.destroyHtmlElements();if(!_272){_272=this.chart.surface;}if(this.group){this.group.clear();}else{this.group=_272.createGroup();}this.dirty=true;return this;},destroyHtmlElements:function(){if(this.htmlElements.length){dojo.forEach(this.htmlElements,dojo._destroyElement);this.htmlElements=[];}},destroy:function(){this.purgeGroup();}});}if(!dojo._hasResource["dojox.charting.Series"]){dojo._hasResource["dojox.charting.Series"]=true;dojo.provide("dojox.charting.Series");dojo.declare("dojox.charting.Series",dojox.charting.Element,{constructor:function(_273,data,_275){dojo.mixin(this,_275);if(typeof this.plot!="string"){this.plot="default";}this.data=data;this.dirty=true;this.clear();},clear:function(){this.dyn={};}});}if(!dojo._hasResource["dojox.charting.scaler.common"]){dojo._hasResource["dojox.charting.scaler.common"]=true;dojo.provide("dojox.charting.scaler.common");(function(){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};dojo.mixin(dojox.charting.scaler.common,{findString:function(val,text){val=val.toLowerCase();for(var i=0;i<text.length;++i){if(val==text[i]){return true;}}return false;},getNumericLabel:function(_27c,_27d,_27e){if(_27e.labels){var l=_27e.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_27c){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_27c)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_27c)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_27c)){return l[lo].text;}}return _27e.fixed?_27c.toFixed(_27d<0?-_27d:0):_27c.toString();}});})();}if(!dojo._hasResource["dojox.charting.scaler.linear"]){dojo._hasResource["dojox.charting.scaler.linear"]=true;dojo.provide("dojox.charting.scaler.linear");(function(){var _284=3,dc=dojox.charting,dcs=dc.scaler,dcsc=dcs.common,_288=dcsc.findString,_289=dcsc.getNumericLabel;var _28a=function(min,max,_28d,_28e,_28f,_290,span){_28d=dojo.clone(_28d);if(!_28e){if(_28d.fixUpper=="major"){_28d.fixUpper="minor";}if(_28d.fixLower=="major"){_28d.fixLower="minor";}}if(!_28f){if(_28d.fixUpper=="minor"){_28d.fixUpper="micro";}if(_28d.fixLower=="minor"){_28d.fixLower="micro";}}if(!_290){if(_28d.fixUpper=="micro"){_28d.fixUpper="none";}if(_28d.fixLower=="micro"){_28d.fixLower="none";}}var _292=_288(_28d.fixLower,["major"])?Math.floor(_28d.min/_28e)*_28e:_288(_28d.fixLower,["minor"])?Math.floor(_28d.min/_28f)*_28f:_288(_28d.fixLower,["micro"])?Math.floor(_28d.min/_290)*_290:_28d.min,_293=_288(_28d.fixUpper,["major"])?Math.ceil(_28d.max/_28e)*_28e:_288(_28d.fixUpper,["minor"])?Math.ceil(_28d.max/_28f)*_28f:_288(_28d.fixUpper,["micro"])?Math.ceil(_28d.max/_290)*_290:_28d.max;if(_28d.useMin){min=_292;}if(_28d.useMax){max=_293;}var _294=(!_28e||_28d.useMin&&_288(_28d.fixLower,["major"]))?min:Math.ceil(min/_28e)*_28e,_295=(!_28f||_28d.useMin&&_288(_28d.fixLower,["major","minor"]))?min:Math.ceil(min/_28f)*_28f,_296=(!_290||_28d.useMin&&_288(_28d.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_290)*_290,_297=!_28e?0:(_28d.useMax&&_288(_28d.fixUpper,["major"])?Math.round((max-_294)/_28e):Math.floor((max-_294)/_28e))+1,_298=!_28f?0:(_28d.useMax&&_288(_28d.fixUpper,["major","minor"])?Math.round((max-_295)/_28f):Math.floor((max-_295)/_28f))+1,_299=!_290?0:(_28d.useMax&&_288(_28d.fixUpper,["major","minor","micro"])?Math.round((max-_296)/_290):Math.floor((max-_296)/_290))+1,_29a=_28f?Math.round(_28e/_28f):0,_29b=_290?Math.round(_28f/_290):0,_29c=_28e?Math.floor(Math.log(_28e)/Math.LN10):0,_29d=_28f?Math.floor(Math.log(_28f)/Math.LN10):0,_29e=span/(max-min);if(!isFinite(_29e)){_29e=1;}return {bounds:{lower:_292,upper:_293,from:min,to:max,scale:_29e,span:span},major:{tick:_28e,start:_294,count:_297,prec:_29c},minor:{tick:_28f,start:_295,count:_298,prec:_29d},micro:{tick:_290,start:_296,count:_299,prec:0},minorPerMajor:_29a,microPerMinor:_29b,scaler:dcs.linear};};dojo.mixin(dojox.charting.scaler.linear,{buildScaler:function(min,max,span,_2a2){var h={fixUpper:"none",fixLower:"none",natural:false};if(_2a2){if("fixUpper" in _2a2){h.fixUpper=String(_2a2.fixUpper);}if("fixLower" in _2a2){h.fixLower=String(_2a2.fixLower);}if("natural" in _2a2){h.natural=Boolean(_2a2.natural);}}if("min" in _2a2){min=_2a2.min;}if("max" in _2a2){max=_2a2.max;}if(_2a2.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _2a2){min=_2a2.from;h.useMin=false;}if("to" in _2a2){max=_2a2.to;h.useMax=false;}if(max<=min){return _28a(min,max,h,0,0,0,span);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_2a5=_2a2&&("majorTickStep" in _2a2)?_2a2.majorTickStep:Math.pow(10,mag),_2a6=0,_2a7=0,_2a8;if(_2a2&&("minorTickStep" in _2a2)){_2a6=_2a2.minorTickStep;}else{do{_2a6=_2a5/10;if(!h.natural||_2a6>0.9){_2a8=_28a(min,max,h,_2a5,_2a6,0,span);if(_2a8.bounds.scale*_2a8.minor.tick>_284){break;}}_2a6=_2a5/5;if(!h.natural||_2a6>0.9){_2a8=_28a(min,max,h,_2a5,_2a6,0,span);if(_2a8.bounds.scale*_2a8.minor.tick>_284){break;}}_2a6=_2a5/2;if(!h.natural||_2a6>0.9){_2a8=_28a(min,max,h,_2a5,_2a6,0,span);if(_2a8.bounds.scale*_2a8.minor.tick>_284){break;}}return _28a(min,max,h,_2a5,0,0,span);}while(false);}if(_2a2&&("microTickStep" in _2a2)){_2a7=_2a2.microTickStep;_2a8=_28a(min,max,h,_2a5,_2a6,_2a7,span);}else{do{_2a7=_2a6/10;if(!h.natural||_2a7>0.9){_2a8=_28a(min,max,h,_2a5,_2a6,_2a7,span);if(_2a8.bounds.scale*_2a8.micro.tick>_284){break;}}_2a7=_2a6/5;if(!h.natural||_2a7>0.9){_2a8=_28a(min,max,h,_2a5,_2a6,_2a7,span);if(_2a8.bounds.scale*_2a8.micro.tick>_284){break;}}_2a7=_2a6/2;if(!h.natural||_2a7>0.9){_2a8=_28a(min,max,h,_2a5,_2a6,_2a7,span);if(_2a8.bounds.scale*_2a8.micro.tick>_284){break;}}_2a7=0;}while(false);}return _2a7?_2a8:_28a(min,max,h,_2a5,_2a6,0,span);},buildTicks:function(_2a9,_2aa){var step,next,tick,_2ae=_2a9.major.start,_2af=_2a9.minor.start,_2b0=_2a9.micro.start;if(_2aa.microTicks&&_2a9.micro.tick){step=_2a9.micro.tick,next=_2b0;}else{if(_2aa.minorTicks&&_2a9.minor.tick){step=_2a9.minor.tick,next=_2af;}else{if(_2a9.major.tick){step=_2a9.major.tick,next=_2ae;}else{return null;}}}var _2b1=1/_2a9.bounds.scale;if(_2a9.bounds.to<=_2a9.bounds.from||isNaN(_2b1)||!isFinite(_2b1)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _2b2=[],_2b3=[],_2b4=[];while(next<=_2a9.bounds.to+_2b1){if(Math.abs(_2ae-next)<step/2){tick={value:_2ae};if(_2aa.majorLabels){tick.label=_289(_2ae,_2a9.major.prec,_2aa);}_2b2.push(tick);_2ae+=_2a9.major.tick;_2af+=_2a9.minor.tick;_2b0+=_2a9.micro.tick;}else{if(Math.abs(_2af-next)<step/2){if(_2aa.minorTicks){tick={value:_2af};if(_2aa.minorLabels&&(_2a9.minMinorStep<=_2a9.minor.tick*_2a9.bounds.scale)){tick.label=_289(_2af,_2a9.minor.prec,_2aa);}_2b3.push(tick);}_2af+=_2a9.minor.tick;_2b0+=_2a9.micro.tick;}else{if(_2aa.microTicks){_2b4.push({value:_2b0});}_2b0+=_2a9.micro.tick;}}next+=step;}return {major:_2b2,minor:_2b3,micro:_2b4};},getTransformerFromModel:function(_2b5){var _2b6=_2b5.bounds.from,_2b7=_2b5.bounds.scale;return function(x){return (x-_2b6)*_2b7;};},getTransformerFromPlot:function(_2b9){var _2ba=_2b9.bounds.from,_2bb=_2b9.bounds.scale;return function(x){return x/_2bb+_2ba;};}});})();}if(!dojo._hasResource["dojox.charting.axis2d.common"]){dojo._hasResource["dojox.charting.axis2d.common"]=true;dojo.provide("dojox.charting.axis2d.common");(function(){var g=dojox.gfx;function clearNode(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};dojo.mixin(dojox.charting.axis2d.common,{createText:{gfx:function(_2bf,_2c0,x,y,_2c3,text,font,_2c6){return _2c0.createText({x:x,y:y,text:text,align:_2c3}).setFont(font).setFill(_2c6);},html:function(_2c7,_2c8,x,y,_2cb,text,font,_2ce){var p=dojo.doc.createElement("div"),s=p.style;clearNode(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_2ce;s.position="absolute";s.left="-10000px";dojo.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size),box=dojo.marginBox(p);dojo.body().removeChild(p);s.position="relative";switch(_2cb){case "middle":s.left=Math.floor(x-box.w/2)+"px";break;case "end":s.left=Math.floor(x-box.w)+"px";break;default:s.left=Math.floor(x)+"px";break;}s.top=Math.floor(y-size)+"px";var wrap=dojo.doc.createElement("div"),w=wrap.style;clearNode(w);w.width="0px";w.height="0px";wrap.appendChild(p);_2c7.node.insertBefore(wrap,_2c7.node.firstChild);return wrap;}}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Base"]){dojo._hasResource["dojox.charting.axis2d.Base"]=true;dojo.provide("dojox.charting.axis2d.Base");dojo.declare("dojox.charting.axis2d.Base",dojox.charting.Element,{constructor:function(_2d5,_2d6){this.vertical=_2d6&&_2d6.vertical;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_2db){return this;}});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_2e5,map,_2e7,_2e8){_2e8=_2e8||dojo.global;_2e7=(!_2e7)?function(v){return v;}:dojo.hitch(_2e8,_2e7);return _2e5.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_2ea,key,_2ec){var _2ed=dojo.getObject(key,false,map);if(_2ec){_2ed=dojo.getObject(_2ec,false,_2e8).call(_2e8,_2ed,key);}return _2e7(_2ed,key).toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojox.lang.utils"]){dojo._hasResource["dojox.lang.utils"]=true;dojo.provide("dojox.lang.utils");(function(){var _2f0={},du=dojox.lang.utils;dojo.mixin(du,{coerceType:function(_2f2,_2f3){switch(typeof _2f2){case "number":return Number(eval("("+_2f3+")"));case "string":return String(_2f3);case "boolean":return Boolean(eval("("+_2f3+")"));}return eval("("+_2f3+")");},updateWithObject:function(_2f4,_2f5,conv){if(!_2f5){return _2f4;}for(var x in _2f4){if(x in _2f5&&!(x in _2f0)){var t=_2f4[x];if(t&&typeof t=="object"){du.updateWithObject(t,_2f5[x],conv);}else{_2f4[x]=conv?du.coerceType(t,_2f5[x]):dojo.clone(_2f5[x]);}}}return _2f4;},updateWithPattern:function(_2f9,_2fa,_2fb,conv){if(!_2fa||!_2fb){return _2f9;}for(var x in _2fb){if(x in _2fa&&!(x in _2f0)){_2f9[x]=conv?du.coerceType(_2fb[x],_2fa[x]):dojo.clone(_2fa[x]);}}return _2f9;}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Default"]){dojo._hasResource["dojox.charting.axis2d.Default"]=true;dojo.provide("dojox.charting.axis2d.Default");(function(){var dc=dojox.charting,df=dojox.lang.functional,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_303=4;dojo.declare("dojox.charting.axis2d.Default",dojox.charting.axis2d.Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,htmlLabels:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],stroke:{},majorTick:{},minorTick:{},microTick:{},font:"",fontColor:""},constructor:function(_304,_305){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_305);du.updateWithPattern(this.opt,_305,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_306,_307){this.scale=_306;this.offset=_307;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},calculate:function(min,max,span,_30b){if(this.initialized()){return this;}this.labels="labels" in this.opt?this.opt.labels:_30b;this.scaler=lin.buildScaler(min,max,span,this.opt);if("scale" in this){this.opt.from=this.scaler.bounds.lower+this.offset;this.opt.to=(this.scaler.bounds.upper-this.scaler.bounds.lower)/this.scale+this.opt.from;if(!isFinite(this.opt.from)||isNaN(this.opt.from)||!isFinite(this.opt.to)||isNaN(this.opt.to)||this.opt.to-this.opt.from>=this.scaler.bounds.upper-this.scaler.bounds.lower){delete this.opt.from;delete this.opt.to;delete this.scale;delete this.offset;}else{if(this.opt.from<this.scaler.bounds.lower){this.opt.to+=this.scaler.bounds.lower-this.opt.from;this.opt.from=this.scaler.bounds.lower;}else{if(this.opt.to>this.scaler.bounds.upper){this.opt.from+=this.scaler.bounds.upper-this.opt.to;this.opt.to=this.scaler.bounds.upper;}}this.offset=this.opt.from-this.scaler.bounds.lower;}this.scaler=lin.buildScaler(min,max,span,this.opt);if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var _30c=0,ta=this.chart.theme.axis,_30e="font" in this.opt?this.opt.font:ta.font,size=_30e?g.normalizedLength(g.splitFontString(_30e).size):0;if(this.vertical){if(size){_30c=size+_303;}}else{if(size){var _310,i;if(this.labels){_310=df.foldl(df.map(this.labels,function(_312){return dojox.gfx._base._getTextBox(_312.text,{font:_30e}).w;}),"Math.max(a, b)",0);}else{var _313=Math.ceil(Math.log(Math.max(Math.abs(this.scaler.bounds.from),Math.abs(this.scaler.bounds.to)))/Math.LN10),t=[];if(this.scaler.bounds.from<0||this.scaler.bounds.to<0){t.push("-");}t.push(dojo.string.rep("9",_313));var _315=Math.floor(Math.log(this.scaler.bounds.to-this.scaler.bounds.from)/Math.LN10);if(_315>0){t.push(".");for(i=0;i<_315;++i){t.push("9");}}_310=dojox.gfx._base._getTextBox(t.join(""),{font:_30e}).w;}_30c=_310+_303;}}this.scaler.minMinorStep=_30c;this.ticks=lin.buildTicks(this.scaler,this.opt);return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;},getOffsets:function(){var _316={l:0,r:0,t:0,b:0},_317,a,b,c,d,gtb=dojox.gfx._base._getTextBox,gl=dc.scaler.common.getNumericLabel,_31e=0,ta=this.chart.theme.axis,_320="font" in this.opt?this.opt.font:ta.font,_321="majorTick" in this.opt?this.opt.majorTick:ta.majorTick,_322="minorTick" in this.opt?this.opt.minorTick:ta.minorTick,size=_320?g.normalizedLength(g.splitFontString(_320).size):0,s=this.scaler;if(!s){return _316;}if(this.vertical){if(size){if(this.labels){_317=df.foldl(df.map(this.labels,function(_325){return dojox.gfx._base._getTextBox(_325.text,{font:_320}).w;}),"Math.max(a, b)",0);}else{a=gtb(gl(s.major.start,s.major.prec,this.opt),{font:_320}).w;b=gtb(gl(s.major.start+s.major.count*s.major.tick,s.major.prec,this.opt),{font:_320}).w;c=gtb(gl(s.minor.start,s.minor.prec,this.opt),{font:_320}).w;d=gtb(gl(s.minor.start+s.minor.count*s.minor.tick,s.minor.prec,this.opt),{font:_320}).w;_317=Math.max(a,b,c,d);}_31e=_317+_303;}_31e+=_303+Math.max(_321.length,_322.length);_316[this.opt.leftBottom?"l":"r"]=_31e;_316.t=_316.b=size/2;}else{if(size){_31e=size+_303;}_31e+=_303+Math.max(_321.length,_322.length);_316[this.opt.leftBottom?"b":"t"]=_31e;if(size){if(this.labels){_317=df.foldl(df.map(this.labels,function(_326){return dojox.gfx._base._getTextBox(_326.text,{font:_320}).w;}),"Math.max(a, b)",0);}else{a=gtb(gl(s.major.start,s.major.prec,this.opt),{font:_320}).w;b=gtb(gl(s.major.start+s.major.count*s.major.tick,s.major.prec,this.opt),{font:_320}).w;c=gtb(gl(s.minor.start,s.minor.prec,this.opt),{font:_320}).w;d=gtb(gl(s.minor.start+s.minor.count*s.minor.tick,s.minor.prec,this.opt),{font:_320}).w;_317=Math.max(a,b,c,d);}_316.l=_316.r=_317/2;}}return _316;},render:function(dim,_328){if(!this.dirty){return this;}var _329,stop,_32b,_32c,_32d,_32e,ta=this.chart.theme.axis,_330="stroke" in this.opt?this.opt.stroke:ta.stroke,_331="majorTick" in this.opt?this.opt.majorTick:ta.majorTick,_332="minorTick" in this.opt?this.opt.minorTick:ta.minorTick,_333="microTick" in this.opt?this.opt.microTick:ta.minorTick,_334="font" in this.opt?this.opt.font:ta.font,_335="fontColor" in this.opt?this.opt.fontColor:ta.fontColor,_336=Math.max(_331.length,_332.length),size=_334?g.normalizedLength(g.splitFontString(_334).size):0;if(this.vertical){_329={y:dim.height-_328.b};stop={y:_328.t};_32b={x:0,y:-1};if(this.opt.leftBottom){_329.x=stop.x=_328.l;_32c={x:-1,y:0};_32e="end";}else{_329.x=stop.x=dim.width-_328.r;_32c={x:1,y:0};_32e="start";}_32d={x:_32c.x*(_336+_303),y:size*0.4};}else{_329={x:_328.l};stop={x:dim.width-_328.r};_32b={x:1,y:0};_32e="middle";if(this.opt.leftBottom){_329.y=stop.y=dim.height-_328.b;_32c={x:0,y:1};_32d={y:_336+_303+size};}else{_329.y=stop.y=_328.t;_32c={x:0,y:-1};_32d={y:-_336-_303};}_32d.x=0;}this.cleanGroup();try{var s=this.group,c=this.scaler,t=this.ticks,_33b,f=lin.getTransformerFromModel(this.scaler),_33d=dojox.gfx.renderer=="canvas",_33e=_33d||this.opt.htmlLabels&&!dojo.isIE&&!dojo.isOpera?"html":"gfx",dx=_32c.x*_331.length,dy=_32c.y*_331.length;s.createLine({x1:_329.x,y1:_329.y,x2:stop.x,y2:stop.y}).setStroke(_330);dojo.forEach(t.major,function(tick){var _342=f(tick.value),elem,x=_329.x+_32b.x*_342,y=_329.y+_32b.y*_342;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_331);if(tick.label){elem=dc.axis2d.common.createText[_33e](this.chart,s,x+_32d.x,y+_32d.y,_32e,tick.label,_334,_335);if(_33e=="html"){this.htmlElements.push(elem);}}},this);dx=_32c.x*_332.length;dy=_32c.y*_332.length;_33b=c.minMinorStep<=c.minor.tick*c.bounds.scale;dojo.forEach(t.minor,function(tick){var _347=f(tick.value),elem,x=_329.x+_32b.x*_347,y=_329.y+_32b.y*_347;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_332);if(_33b&&tick.label){elem=dc.axis2d.common.createText[_33e](this.chart,s,x+_32d.x,y+_32d.y,_32e,tick.label,_334,_335);if(_33e=="html"){this.htmlElements.push(elem);}}},this);dx=_32c.x*_333.length;dy=_32c.y*_333.length;dojo.forEach(t.micro,function(tick){var _34c=f(tick.value),elem,x=_329.x+_32b.x*_34c,y=_329.y+_32b.y*_34c;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_333);},this);}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.common"]){dojo._hasResource["dojox.charting.plot2d.common"]=true;dojo.provide("dojox.charting.plot2d.common");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common;dojo.mixin(dojox.charting.plot2d.common,{makeStroke:function(_352){if(!_352){return _352;}if(typeof _352=="string"||_352 instanceof dojo.Color){_352={color:_352};}return dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_352);},augmentColor:function(_353,_354){var t=new dojo.Color(_353),c=new dojo.Color(_354);c.a=t.a;return c;},augmentStroke:function(_357,_358){var s=dc.makeStroke(_357);if(s){s.color=dc.augmentColor(s.color,_358);}return s;},augmentFill:function(fill,_35b){var fc,c=new dojo.Color(_35b);if(typeof fill=="string"||fill instanceof dojo.Color){return dc.augmentColor(fill,_35b);}return fill;},defaultStats:{hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY,vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_35e){var _35f=dojo.clone(dc.defaultStats);for(var i=0;i<_35e.length;++i){var run=_35e[i];if(!run.data.length){continue;}if(typeof run.data[0]=="number"){var _362=_35f.vmin,_363=_35f.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x=i+1,y=val;if(isNaN(y)){y=0;}_35f.hmin=Math.min(_35f.hmin,x);_35f.hmax=Math.max(_35f.hmax,x);_35f.vmin=Math.min(_35f.vmin,y);_35f.vmax=Math.max(_35f.vmax,y);});}if("ymin" in run){_35f.vmin=Math.min(_362,run.ymin);}if("ymax" in run){_35f.vmax=Math.max(_363,run.ymax);}}else{var _368=_35f.hmin,_369=_35f.hmax,_362=_35f.vmin,_363=_35f.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x=val.x,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_35f.hmin=Math.min(_35f.hmin,x);_35f.hmax=Math.max(_35f.hmax,x);_35f.vmin=Math.min(_35f.vmin,y);_35f.vmax=Math.max(_35f.vmax,y);});}if("xmin" in run){_35f.hmin=Math.min(_368,run.xmin);}if("xmax" in run){_35f.hmax=Math.max(_369,run.xmax);}if("ymin" in run){_35f.vmin=Math.min(_362,run.ymin);}if("ymax" in run){_35f.vmax=Math.max(_363,run.ymax);}}}return _35f;},calculateBarSize:function(_36e,opt,_370){if(!_370){_370=1;}var gap=opt.gap,size=(_36e-2*gap)/_370;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_36e-size*_370)/2;return {size:size,gap:gap};},collectStackedStats:function(_373){var _374=dojo.clone(dc.defaultStats);if(_373.length){_374.hmin=Math.min(_374.hmin,1);_374.hmax=df.foldl(_373,"seed, run -> Math.max(seed, run.data.length)",_374.hmax);for(var i=0;i<_374.hmax;++i){var v=_373[0].data[i];if(isNaN(v)){v=0;}_374.vmin=Math.min(_374.vmin,v);for(var j=1;j<_373.length;++j){var t=_373[j].data[i];if(isNaN(t)){t=0;}v+=t;}_374.vmax=Math.max(_374.vmax,v);}}return _374;},curve:function(a,_37a){var arr=a.slice(0);if(_37a=="x"){arr[arr.length]=arr[0];}var p=dojo.map(arr,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_37a)){var dx=item.x-arr[i-1].x,dy=arr[i-1].y;return "C"+(item.x-(_37a-1)*(dx/_37a))+","+dy+" "+(item.x-(dx/_37a))+","+item.y+" "+item.x+","+item.y;}else{if(_37a=="X"||_37a=="x"||_37a=="S"){var p0,p1=arr[i-1],p2=arr[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_37a=="x"){p0=arr[arr.length-2];}else{p0=p1;}f=1/3;}else{p0=arr[i-2];}if(i==(arr.length-1)){if(_37a=="x"){p3=arr[1];}else{p3=p2;}f=1/3;}else{p3=arr[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _38d=p0p2*f;var _38e=p1p3*f;if(_38d>p1p2/2&&_38e>p1p2/2){_38d=p1p2/2;_38e=p1p2/2;}else{if(_38d>p1p2/2){_38d=p1p2/2;_38e=p1p2/2*p1p3/p0p2;}else{if(_38e>p1p2/2){_38e=p1p2/2;_38d=p1p2/2*p0p2/p1p3;}}}if(_37a=="S"){if(p0==p1){_38d=0;}if(p2==p3){_38e=0;}}bz1x=p1.x+_38d*(p2.x-p0.x)/p0p2;bz1y=p1.y+_38d*(p2.y-p0.y)/p0p2;bz2x=p2.x-_38e*(p3.x-p1.x)/p1p3;bz2y=p2.y-_38e*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");}});})();}if(!dojo._hasResource["dojox.charting.scaler.primitive"]){dojo._hasResource["dojox.charting.scaler.primitive"]=true;dojo.provide("dojox.charting.scaler.primitive");dojox.charting.scaler.primitive={buildScaler:function(min,max,span,_392){return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:dojox.charting.scaler.primitive};},buildTicks:function(_393,_394){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_395){var _396=_395.bounds.from,_397=_395.bounds.scale;return function(x){return (x-_396)*_397;};},getTransformerFromPlot:function(_399){var _39a=_399.bounds.from,_39b=_399.bounds.scale;return function(x){return x/_39b+_39a;};}};}if(!dojo._hasResource["dojox.charting.plot2d.Base"]){dojo._hasResource["dojox.charting.plot2d.Base"]=true;dojo.provide("dojox.charting.plot2d.Base");dojo.declare("dojox.charting.plot2d.Base",dojox.charting.Element,{destroy:function(){this.resetEvents();this.inherited(arguments);},clear:function(){this.series=[];this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){this.series.push(run);return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},render:function(dim,_3a1){return this;},getRequiredColors:function(){return this.series.length;},plotEvent:function(o){},connect:function(_3a3,_3a4){this.dirty=true;return dojo.connect(this,"plotEvent",_3a3,_3a4);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){this.plotEvent({type:"onplotreset",plot:this});},_calc:function(dim,_3a8){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_3a8.hmin,_3a8.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=dojox.charting.scaler.primitive.buildScaler(_3a8.hmin,_3a8.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_3a8.vmin,_3a8.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=dojox.charting.scaler.primitive.buildScaler(_3a8.vmin,_3a8.vmax,dim.height);}},_connectEvents:function(_3a9,o){_3a9.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_3a9.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_3a9.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});}});}if(!dojo._hasResource["dojox.charting.plot2d.Default"]){dojo._hasResource["dojox.charting.plot2d.Default"]=true;dojo.provide("dojox.charting.plot2d.Default");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_3b1=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Default",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,shadows:0,tension:0},optionalParams:{},constructor:function(_3b2,_3b3){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_3b3);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_3b6){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_3b1);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_3ba,_3bb,_3bc,_3bd,_3be=this.events();this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}var s=run.group,_3c1,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(typeof run.data[0]=="number"){_3c1=dojo.map(run.data,function(v,i){return {x:ht(i+1)+_3b6.l,y:dim.height-_3b6.b-vt(v)};},this);}else{_3c1=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_3b6.l,y:dim.height-_3b6.b-vt(v.y)};},this);}if(!run.fill||!run.stroke){_3bc=run.dyn.color=new dojo.Color(t.next("color"));}var _3c8=this.opt.tension?dc.curve(_3c1,this.opt.tension):"";if(this.opt.areas){var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_3bc);var _3ca=dojo.clone(_3c1);if(this.opt.tension){var _3cb="L"+_3ca[_3ca.length-1].x+","+(dim.height-_3b6.b)+" L"+_3ca[0].x+","+(dim.height-_3b6.b)+" L"+_3ca[0].x+","+_3ca[0].y;run.dyn.fill=s.createPath(_3c8+" "+_3cb).setFill(fill).getFill();}else{_3ca.push({x:_3c1[_3c1.length-1].x,y:dim.height-_3b6.b});_3ca.push({x:_3c1[0].x,y:dim.height-_3b6.b});_3ca.push(_3c1[0]);run.dyn.fill=s.createPolyline(_3ca).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_3ba=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_3bc);if(run.outline||t.series.outline){_3bb=dc.makeStroke(run.outline?run.outline:t.series.outline);_3bb.width=2*_3bb.width+_3ba.width;}}if(this.opt.markers){_3bd=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _3cc=null,_3cd=null,_3ce=null;if(this.opt.shadows&&_3ba){var sh=this.opt.shadows,_3d0=new dojo.Color([0,0,0,0.3]),_3d1=dojo.map(_3c1,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_3d3=dojo.clone(_3bb?_3bb:_3ba);_3d3.color=_3d0;_3d3.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_3d1,this.opt.tension)).setStroke(_3d3).getStroke();}else{run.dyn.shadow=s.createPolyline(_3d1).setStroke(_3d3).getStroke();}}if(this.opt.markers){_3ce=dojo.map(_3d1,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_3bd).setStroke(_3d3).setFill(_3d0);},this);}}if(this.opt.lines){if(_3bb){if(this.opt.tension){run.dyn.outline=s.createPath(_3c8).setStroke(_3bb).getStroke();}else{run.dyn.outline=s.createPolyline(_3c1).setStroke(_3bb).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_3c8).setStroke(_3ba).getStroke();}else{run.dyn.stroke=s.createPolyline(_3c1).setStroke(_3ba).getStroke();}}if(this.opt.markers){_3cc=new Array(_3c1.length);_3cd=new Array(_3c1.length);dojo.forEach(_3c1,function(c,i){var path="M"+c.x+" "+c.y+" "+_3bd;if(_3bb){_3cd[i]=s.createPath(path).setStroke(_3bb);}_3cc[i]=s.createPath(path).setStroke(_3ba).setFill(_3ba.color);},this);if(_3be){dojo.forEach(_3cc,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_3cd[i]||null,shadow:_3ce&&_3ce[i]||null,cx:_3c1[i].x,cy:_3c1[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(s,o);},this);}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Lines"]){dojo._hasResource["dojox.charting.plot2d.Lines"]=true;dojo.provide("dojox.charting.plot2d.Lines");dojo.declare("dojox.charting.plot2d.Lines",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Areas"]){dojo._hasResource["dojox.charting.plot2d.Areas"]=true;dojo.provide("dojox.charting.plot2d.Areas");dojo.declare("dojox.charting.plot2d.Areas",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Markers"]){dojo._hasResource["dojox.charting.plot2d.Markers"]=true;dojo.provide("dojox.charting.plot2d.Markers");dojo.declare("dojox.charting.plot2d.Markers",dojox.charting.plot2d.Default,{constructor:function(){this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]){dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]=true;dojo.provide("dojox.charting.plot2d.MarkersOnly");dojo.declare("dojox.charting.plot2d.MarkersOnly",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Scatter"]){dojo._hasResource["dojox.charting.plot2d.Scatter"]=true;dojo.provide("dojox.charting.plot2d.Scatter");dojo.declare("dojox.charting.plot2d.Scatter",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.lang.functional.sequence"]){dojo._hasResource["dojox.lang.functional.sequence"]=true;dojo.provide("dojox.lang.functional.sequence");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{repeat:function(n,f,z,o){o=o||d.global;f=df.lambda(f);var t=new Array(n);t[0]=z;for(var i=1;i<n;t[i]=z=f.call(o,z),++i){}return t;},until:function(pr,f,z,o){o=o||d.global;f=df.lambda(f);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(z),z=f.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Stacked"]){dojo._hasResource["dojox.charting.plot2d.Stacked"]=true;dojo.provide("dojox.charting.plot2d.Stacked");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_3ea=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Stacked",dojox.charting.plot2d.Default,{calculateAxes:function(dim){var _3ec=dc.collectStackedStats(this.series);this._maxRunLength=_3ec.hmax;this._calc(dim,_3ec);return this;},render:function(dim,_3ee){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_3ea);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_3f7,_3f8,_3f9,_3fa,_3fb=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group,_3fe=dojo.map(acc,function(v,i){return {x:ht(i+1)+_3ee.l,y:dim.height-_3ee.b-vt(v)};},this);if(!run.fill||!run.stroke){_3f9=new dojo.Color(t.next("color"));}var _401=this.opt.tension?dc.curve(_3fe,this.opt.tension):"";if(this.opt.areas){var _402=dojo.clone(_3fe);var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_3f9);if(this.opt.tension){var p=dc.curve(_402,this.opt.tension);p+=" L"+_3fe[_3fe.length-1].x+","+(dim.height-_3ee.b)+" L"+_3fe[0].x+","+(dim.height-_3ee.b)+" L"+_3fe[0].x+","+_3fe[0].y;run.dyn.fill=s.createPath(p).setFill(fill).getFill();}else{_402.push({x:_3fe[_3fe.length-1].x,y:dim.height-_3ee.b});_402.push({x:_3fe[0].x,y:dim.height-_3ee.b});_402.push(_3fe[0]);run.dyn.fill=s.createPolyline(_402).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_3f7=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_3f9);if(run.outline||t.series.outline){_3f8=dc.makeStroke(run.outline?run.outline:t.series.outline);_3f8.width=2*_3f8.width+_3f7.width;}}if(this.opt.markers){_3fa=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _405,_406,_407;if(this.opt.shadows&&_3f7){var sh=this.opt.shadows,_409=new dojo.Color([0,0,0,0.3]),_40a=dojo.map(_3fe,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_40c=dojo.clone(_3f8?_3f8:_3f7);_40c.color=_409;_40c.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_40a,this.opt.tension)).setStroke(_40c).getStroke();}else{run.dyn.shadow=s.createPolyline(_40a).setStroke(_40c).getStroke();}}if(this.opt.markers){_407=dojo.map(_40a,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_3fa).setStroke(_40c).setFill(_409);},this);}}if(this.opt.lines){if(_3f8){if(this.opt.tension){run.dyn.outline=s.createPath(_401).setStroke(_3f8).getStroke();}else{run.dyn.outline=s.createPolyline(_3fe).setStroke(_3f8).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_401).setStroke(_3f7).getStroke();}else{run.dyn.stroke=s.createPolyline(_3fe).setStroke(_3f7).getStroke();}}if(this.opt.markers){_405=new Array(_3fe.length);_406=new Array(_3fe.length);dojo.forEach(_3fe,function(c,i){var path="M"+c.x+" "+c.y+" "+_3fa;if(_3f8){_406[i]=s.createPath(path).setStroke(_3f8);}_405[i]=s.createPath(path).setStroke(_3f7).setFill(_3f7.color);},this);if(_3fb){dojo.forEach(_405,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_406[i]||null,shadow:_407&&_407[i]||null,cx:_3fe[i].x,cy:_3fe[i].y,x:i+1,y:run.data[i]};this._connectEvents(s,o);},this);}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedLines"]){dojo._hasResource["dojox.charting.plot2d.StackedLines"]=true;dojo.provide("dojox.charting.plot2d.StackedLines");dojo.declare("dojox.charting.plot2d.StackedLines",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.StackedAreas"]){dojo._hasResource["dojox.charting.plot2d.StackedAreas"]=true;dojo.provide("dojox.charting.plot2d.StackedAreas");dojo.declare("dojox.charting.plot2d.StackedAreas",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Columns"]){dojo._hasResource["dojox.charting.plot2d.Columns"]=true;dojo.provide("dojox.charting.plot2d.Columns");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_417=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_418,_419){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_419);du.updateWithPattern(this.opt,_419,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _41b=dc.collectSimpleStats(this.series);_41b.hmin-=0.5;_41b.hmax+=0.5;this._calc(dim,_41b);return this;},render:function(dim,_41d){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_417);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_421,_422,fill,f,gap,_426,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_429=Math.max(0,this._vScaler.bounds.lower),_42a=vt(_429),_42b=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_426=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_421=run.dyn.color=new dojo.Color(t.next("color"));}_422=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_421);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_421);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_431=vv-_42a,h=Math.abs(_431);if(_426>=1&&h>=1){var rect={x:_41d.l+ht(j+0.5)+gap,y:dim.height-_41d.b-(v>_429?vv:_42a),width:_426,height:h},_434=s.createRect(rect).setFill(fill).setStroke(_422);run.dyn.fill=_434.getFill();run.dyn.stroke=_434.getStroke();if(_42b){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_434,x:j+0.5,y:v};this._connectEvents(_434,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedColumns"]){dojo._hasResource["dojox.charting.plot2d.StackedColumns"]=true;dojo.provide("dojox.charting.plot2d.StackedColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_438=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{calculateAxes:function(dim){var _43a=dc.collectStackedStats(this.series);this._maxRunLength=_43a.hmax;_43a.hmin-=0.5;_43a.hmax+=0.5;this._calc(dim,_43a);return this;},render:function(dim,_43c){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_438);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_445,_446,fill,f,gap,_44a,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);events=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_44a=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_445=run.dyn.color=new dojo.Color(t.next("color"));}_446=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_445);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_445);for(var j=0;j<acc.length;++j){var v=acc[j],_44d=vt(v);if(_44a>=1&&_44d>=1){var _44e=s.createRect({x:_43c.l+ht(j+0.5)+gap,y:dim.height-_43c.b-vt(v),width:_44a,height:_44d}).setFill(fill).setStroke(_446);run.dyn.fill=_44e.getFill();run.dyn.stroke=_44e.getStroke();if(events){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_44e,x:j+0.5,y:v};this._connectEvents(_44e,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]){dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]=true;dojo.provide("dojox.charting.plot2d.ClusteredColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_452=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredColumns",dojox.charting.plot2d.Columns,{render:function(dim,_454){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_452);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_458,_459,fill,f,gap,_45d,_45e;ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),baseline=Math.max(0,this._vScaler.bounds.lower),baselineHeight=vt(baseline),events=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_45d=_45e=f.size;this.resetEvents();for(var i=0;i<this.series.length;++i){var run=this.series[i],_461=_45e*i;if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_458=run.dyn.color=new dojo.Color(t.next("color"));}_459=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_458);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_458);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_465=vv-baselineHeight,h=Math.abs(_465);if(_45d>=1&&h>=1){var _467=s.createRect({x:_454.l+ht(j+0.5)+gap+_461,y:dim.height-_454.b-(v>baseline?vv:baselineHeight),width:_45d,height:h}).setFill(fill).setStroke(_459);run.dyn.fill=_467.getFill();run.dyn.stroke=_467.getStroke();if(events){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_467,x:j+0.5,y:v};this._connectEvents(_467,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bars"]){dojo._hasResource["dojox.charting.plot2d.Bars"]=true;dojo.provide("dojox.charting.plot2d.Bars");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_46c=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_46d,_46e){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_46e);du.updateWithPattern(this.opt,_46e,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _470=dc.collectSimpleStats(this.series),t;_470.hmin-=0.5;_470.hmax+=0.5;t=_470.hmin,_470.hmin=_470.vmin,_470.vmin=t;t=_470.hmax,_470.hmax=_470.vmax,_470.vmax=t;this._calc(dim,_470);return this;},render:function(dim,_473){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_46c);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_477,_478,fill,f,gap,_47c,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);baseline=Math.max(0,this._hScaler.bounds.lower),baselineWidth=ht(baseline),events=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_47c=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_477=run.dyn.color=new dojo.Color(t.next("color"));}_478=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_477);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_477);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_484=hv-baselineWidth,w=Math.abs(_484);if(w>=1&&_47c>=1){var _486=s.createRect({x:_473.l+(v<baseline?hv:baselineWidth),y:dim.height-_473.b-vt(j+1.5)+gap,width:w,height:_47c}).setFill(fill).setStroke(_478);run.dyn.fill=_486.getFill();run.dyn.stroke=_486.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_486,x:v,y:j+1.5};this._connectEvents(_486,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedBars"]){dojo._hasResource["dojox.charting.plot2d.StackedBars"]=true;dojo.provide("dojox.charting.plot2d.StackedBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_48a=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{calculateAxes:function(dim){var _48c=dc.collectStackedStats(this.series),t;this._maxRunLength=_48c.hmax;_48c.hmin-=0.5;_48c.hmax+=0.5;t=_48c.hmin,_48c.hmin=_48c.vmin,_48c.vmin=t;t=_48c.hmax,_48c.hmax=_48c.vmax,_48c.vmax=t;this._calc(dim,_48c);return this;},render:function(dim,_48f){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_48a);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_498,_499,fill,f,gap,_49d,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);events=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_49d=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_498=run.dyn.color=new dojo.Color(t.next("color"));}_499=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_498);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_498);for(var j=0;j<acc.length;++j){var v=acc[j],_4a0=ht(v);if(_4a0>=1&&_49d>=1){var _4a1=s.createRect({x:_48f.l,y:dim.height-_48f.b-vt(j+1.5)+gap,width:_4a0,height:_49d}).setFill(fill).setStroke(_499);run.dyn.fill=_4a1.getFill();run.dyn.stroke=_4a1.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_4a1,x:v,y:j+1.5};this._connectEvents(_4a1,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]){dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=true;dojo.provide("dojox.charting.plot2d.ClusteredBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_4a5=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(dim,_4a7){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_4a5);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_4ab,_4ac,fill,f,gap,_4b0,_4b1,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);baseline=Math.max(0,this._hScaler.bounds.lower),baselineWidth=ht(baseline),events=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_4b0=_4b1=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_4b6=_4b1*(this.series.length-i-1);if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_4ab=run.dyn.color=new dojo.Color(t.next("color"));}_4ac=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_4ab);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_4ab);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_4ba=hv-baselineWidth,w=Math.abs(_4ba);if(w>=1&&_4b0>=1){var _4bc=s.createRect({x:_4a7.l+(v<baseline?hv:baselineWidth),y:dim.height-_4a7.b-vt(j+1.5)+gap+_4b6,width:w,height:_4b0}).setFill(fill).setStroke(_4ac);run.dyn.fill=_4bc.getFill();run.dyn.stroke=_4bc.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_4bc,x:v,y:j+1.5};this._connectEvents(_4bc,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Grid"]){dojo._hasResource["dojox.charting.plot2d.Grid"]=true;dojo.provide("dojox.charting.plot2d.Grid");(function(){var du=dojox.lang.utils;dojo.declare("dojox.charting.plot2d.Grid",dojox.charting.Element,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none"},optionalParams:{},constructor:function(_4bf,_4c0){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_4c0);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},getRequiredColors:function(){return 0;},render:function(dim,_4c5){this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis;try{var _4c8=this._vAxis.getScaler(),vt=_4c8.scaler.getTransformerFromModel(_4c8),_4ca=this._vAxis.getTicks();if(this.opt.hMinorLines){dojo.forEach(_4ca.minor,function(tick){var y=dim.height-_4c5.b-vt(tick.value);s.createLine({x1:_4c5.l,y1:y,x2:dim.width-_4c5.r,y2:y}).setStroke(ta.minorTick);});}if(this.opt.hMajorLines){dojo.forEach(_4ca.major,function(tick){var y=dim.height-_4c5.b-vt(tick.value);s.createLine({x1:_4c5.l,y1:y,x2:dim.width-_4c5.r,y2:y}).setStroke(ta.majorTick);});}}catch(e){}try{var _4cf=this._hAxis.getScaler(),ht=_4cf.scaler.getTransformerFromModel(_4cf),_4ca=this._hAxis.getTicks();if(_4ca&&this.opt.vMinorLines){dojo.forEach(_4ca.minor,function(tick){var x=_4c5.l+ht(tick.value);s.createLine({x1:x,y1:_4c5.t,x2:x,y2:dim.height-_4c5.b}).setStroke(ta.minorTick);});}if(_4ca&&this.opt.vMajorLines){dojo.forEach(_4ca.major,function(tick){var x=_4c5.l+ht(tick.value);s.createLine({x1:x,y1:_4c5.t,x2:x,y2:dim.height-_4c5.b}).setStroke(ta.majorTick);});}}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Pie"]){dojo._hasResource["dojox.charting.plot2d.Pie"]=true;dojo.provide("dojox.charting.plot2d.Pie");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx;dojo.declare("dojox.charting.plot2d.Pie",dojox.charting.Element,{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true},optionalParams:{font:"",fontColor:"",radius:0},constructor:function(_4da,_4db){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_4db);du.updateWithPattern(this.opt,_4db,this.optionalParams);this.run=null;this.dyn=[];},destroy:function(){this.resetEvents();this.inherited(arguments);},clear:function(){this.dirty=true;this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},calculateAxes:function(dim){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},plotEvent:function(o){},connect:function(_4e0,_4e1){this.dirty=true;return dojo.connect(this,"plotEvent",_4e0,_4e1);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){this.plotEvent({type:"onplotreset",plot:this});},_connectEvents:function(_4e4,o){_4e4.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_4e4.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_4e4.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});},render:function(dim,_4ea){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,_4ec,t=this.chart.theme;this.resetEvents();if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_4ea.l-_4ea.r)/2,ry=(dim.height-_4ea.t-_4ea.b)/2,r=Math.min(rx,ry),_4f1="font" in this.opt?this.opt.font:t.axis.font,size=_4f1?g.normalizedLength(g.splitFontString(_4f1).size):0,_4f3="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_4f4=0,step,_4f6,_4f7,_4f8,_4f9,_4fa,run=this.run.data,_4fc=this.events();if(typeof run[0]=="number"){_4f6=df.map(run,"Math.max(x, 0)");if(df.every(_4f6,"<= 0")){return this;}_4f7=df.map(_4f6,"/this",df.foldl(_4f6,"+",0));if(this.opt.labels){_4f8=dojo.map(_4f7,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_4f6=df.map(run,"Math.max(x.y, 0)");if(df.every(_4f6,"<= 0")){return this;}_4f7=df.map(_4f6,"/this",df.foldl(_4f6,"+",0));if(this.opt.labels){_4f8=dojo.map(_4f7,function(x,i){if(x<=0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}if(this.opt.labels){_4f9=df.foldl1(df.map(_4f8,function(_501){return dojox.gfx._base._getTextBox(_501,{font:_4f1}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_4f9,ry-size)+this.opt.labelOffset;}_4fa=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_4fa=r-this.opt.labelOffset;}var _502={cx:_4ea.l+rx,cy:_4ea.t+ry,r:r};this.dyn=[];dojo.some(_4f7,function(_503,i){if(_503<=0){return false;}var v=run[i];if(_503>=1){var _506,fill,_508;if(typeof v=="object"){_506="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_506);_508="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_506);}else{_506=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_506);_508=dc.augmentStroke(t.series.stroke,_506);}var _509=s.createCircle(_502).setFill(fill).setStroke(_508);this.dyn.push({color:_506,fill:fill,stroke:_508});if(_4fc){var o={element:"slice",index:i,run:this.run,plot:this,shape:_509,x:i,y:typeof v=="number"?v:v.y,cx:_502.cx,cy:_502.cy,cr:r};this._connectEvents(_509,o);}return true;}var end=_4f4+_503*2*Math.PI;if(i+1==_4f7.length){end=2*Math.PI;}var step=end-_4f4,x1=_502.cx+r*Math.cos(_4f4),y1=_502.cy+r*Math.sin(_4f4),x2=_502.cx+r*Math.cos(end),y2=_502.cy+r*Math.sin(end);var _506,fill,_508;if(typeof v=="object"){_506="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_506);_508="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_506);}else{_506=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_506);_508=dc.augmentStroke(t.series.stroke,_506);}var _509=s.createPath({}).moveTo(_502.cx,_502.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_502.cx,_502.cy).closePath().setFill(fill).setStroke(_508);this.dyn.push({color:_506,fill:fill,stroke:_508});if(_4fc){var o={element:"slice",index:i,run:this.run,plot:this,shape:_509,x:i,y:typeof v=="number"?v:v.y,cx:_502.cx,cy:_502.cy,cr:r};this._connectEvents(_509,o);}_4f4=end;return false;},this);if(this.opt.labels){_4f4=0;dojo.some(_4f7,function(_511,i){if(_511<=0){return false;}if(_511>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_502.cx,_502.cy+size/2,"middle",_4f8[i],_4f1,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_4f3);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_4f4+_511*2*Math.PI,v=run[i];if(i+1==_4f7.length){end=2*Math.PI;}var _516=(_4f4+end)/2,x=_502.cx+_4fa*Math.cos(_516),y=_502.cy+_4fa*Math.sin(_516)+size/2;var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_4f8[i],_4f1,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_4f3);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_4f4=end;return false;},this);}return this;},_getLabel:function(_519){return this.opt.fixed?_519.toFixed(this.opt.precision):_519.toString();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bubble"]){dojo._hasResource["dojox.charting.plot2d.Bubble"]=true;dojo.provide("dojox.charting.plot2d.Bubble");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_51d=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bubble",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y"},optionalParams:{},constructor:function(_51e,_51f){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_51f);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_522){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_51d);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_526,_527,_528,_529,_52a,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_52d=this.events();this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}if(typeof run.data[0]=="number"){console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",run);continue;}var s=run.group,_530=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_522.l,y:dim.height-_522.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)};},this);if(run.fill){_528=run.fill;}else{if(run.stroke){_528=run.stroke;}else{_528=run.dyn.color=new dojo.Color(t.next("color"));}}run.dyn.fill=_528;_526=run.dyn.stroke=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_528);var _533=null,_534=null,_535=null;if(this.opt.shadows&&_526){var sh=this.opt.shadows,_52a=new dojo.Color([0,0,0,0.2]),_529=dojo.clone(_527?_527:_526);_529.color=_52a;_529.width+=sh.dw?sh.dw:0;run.dyn.shadow=_529;shadowMarkers=dojo.map(_530,function(item){var sh=this.opt.shadows;return s.createCircle({cx:item.x+sh.dx,cy:item.y+sh.dy,r:item.radius}).setStroke(_529).setFill(_52a);},this);}if(run.outline||t.series.outline){_527=dc.makeStroke(run.outline?run.outline:t.series.outline);_527.width=2*_527.width+_526.width;run.dyn.outline=_527;_534=dojo.map(_530,function(item){s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_527);},this);}_533=dojo.map(_530,function(item){return s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_526).setFill(_528);},this);if(_52d){dojo.forEach(_533,function(s,i){var o={element:"circle",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_534&&_534[i]||null,shadow:_535&&_535[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_530[i].x,cy:_530[i].y,cr:_530[i].radius};this._connectEvents(s,o);},this);}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.Chart2D"]){dojo._hasResource["dojox.charting.Chart2D"]=true;dojo.provide("dojox.charting.Chart2D");(function(){var df=dojox.lang.functional,dc=dojox.charting,_540=df.lambda("item.clear()"),_541=df.lambda("item.purgeGroup()"),_542=df.lambda("item.destroy()"),_543=df.lambda("item.dirty = false"),_544=df.lambda("item.dirty = true");dojo.declare("dojox.charting.Chart2D",null,{constructor:function(node,_546){if(!_546){_546={};}this.margins=_546.margins?_546.margins:{l:10,t:10,r:10,b:10};this.stroke=_546.stroke;this.fill=_546.fill;this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.coords=null;this.node=dojo.byId(node);var box=dojo.marginBox(node);this.surface=dojox.gfx.createSurface(this.node,box.w,box.h);},destroy:function(){dojo.forEach(this.series,_542);dojo.forEach(this.stack,_542);df.forIn(this.axes,_542);this.surface.destroy();},getCoords:function(){if(!this.coords){this.coords=dojo.coords(this.node,true);}return this.coords;},setTheme:function(_548){this.theme=_548._clone();this.dirty=true;return this;},addAxis:function(name,_54a){var axis;if(!_54a||!("type" in _54a)){axis=new dc.axis2d.Default(this,_54a);}else{axis=typeof _54a.type=="string"?new dc.axis2d[_54a.type](this,_54a):new _54a.type(this,_54a);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_54f){var plot;if(!_54f||!("type" in _54f)){plot=new dc.plot2d.Default(this,_54f);}else{plot=typeof _54f.type=="string"?new dc.plot2d[_54f.type](this,_54f):new _54f.type(this,_54f);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},removePlot:function(name){if(name in this.plots){var _552=this.plots[name];delete this.plots[name];this.stack[_552].destroy();this.stack.splice(_552,1);df.forIn(this.plots,function(idx,name,_555){if(idx>_552){_555[name]=idx-1;}});this.dirty=true;}return this;},addSeries:function(name,data,_558){var run=new dc.Series(this,data,_558);if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}run.name=name;this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},removeSeries:function(name){if(name in this.runs){var _55b=this.runs[name],_55c=this.series[_55b].plot;delete this.runs[name];this.series[_55b].destroy();this.series.splice(_55b,1);df.forIn(this.runs,function(idx,name,runs){if(idx>_55b){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data){if(name in this.runs){var run=this.series[this.runs[name]];run.data=data;run.dirty=true;this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}return this;},resize:function(_563,_564){var box;switch(arguments.length){case 0:box=dojo.marginBox(this.node);break;case 1:box=_563;break;default:box={w:_563,h:_564};break;}dojo.marginBox(this.node,box);this.surface.setDimensions(box.w,box.h);this.dirty=true;this.coords=null;return this.render();},getGeometry:function(){var ret={};df.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_569,_56a){var axis=this.axes[name];if(axis){axis.setWindow(_569,_56a);}return this;},setWindow:function(sx,sy,dx,dy){if(!("plotArea" in this)){this.calculateGeometry();}df.forIn(this.axes,function(axis){var _571,_572,_573=axis.getScaler().bounds,s=_573.span/(_573.upper-_573.lower);if(axis.vertical){_571=sy;_572=dy/s/_571;}else{_571=sx;_572=dx/s/_571;}axis.setWindow(_571,_572);});return this;},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}dojo.forEach(this.stack,function(plot){if(plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty)){plot.calculateAxes(this.plotArea);}},this);return this;},fullGeometry:function(){this._makeDirty();dojo.forEach(this.stack,_540);if(!this.theme){this.setTheme(new dojox.charting.Theme(dojox.charting._def));}dojo.forEach(this.series,function(run){if(!(run.plot in this.plots)){var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);dojo.forEach(this.stack,function(plot){if(plot.hAxis){plot.setAxis(this.axes[plot.hAxis]);}if(plot.vAxis){plot.setAxis(this.axes[plot.vAxis]);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=dojox.gfx.normalizedLength(dim.width);dim.height=dojox.gfx.normalizedLength(dim.height);df.forIn(this.axes,_540);dojo.forEach(this.stack,function(plot){plot.calculateAxes(dim);});var _57b=this.offsets={l:0,r:0,t:0,b:0};df.forIn(this.axes,function(axis){df.forIn(axis.getOffsets(),function(o,i){_57b[i]+=o;});});df.forIn(this.margins,function(o,i){_57b[i]+=o;});this.plotArea={width:dim.width-_57b.l-_57b.r,height:dim.height-_57b.t-_57b.b};df.forIn(this.axes,_540);dojo.forEach(this.stack,function(plot){plot.calculateAxes(this.plotArea);},this);return this;},render:function(){if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();df.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);df.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();if(this.surface.render){this.surface.render();}return this;},fullRender:function(){this.fullGeometry();var _584=this.offsets,dim=this.dim;var _586=df.foldl(this.stack,"z + plot.getRequiredColors()",0);this.theme.defineColors({num:_586,cache:false});dojo.forEach(this.series,_541);df.forIn(this.axes,_541);dojo.forEach(this.stack,_541);this.surface.clear();var t=this.theme,fill=t.plotarea&&t.plotarea.fill,_589=t.plotarea&&t.plotarea.stroke;if(fill){this.surface.createRect({x:_584.l,y:_584.t,width:dim.width-_584.l-_584.r,height:dim.height-_584.t-_584.b}).setFill(fill);}if(_589){this.surface.createRect({x:_584.l,y:_584.t,width:dim.width-_584.l-_584.r-1,height:dim.height-_584.t-_584.b-1}).setStroke(_589);}df.foldr(this.stack,function(z,plot){return plot.render(dim,_584),0;},0);fill=this.fill?this.fill:(t.chart&&t.chart.fill);_589=this.stroke?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node,fill=new dojo.Color(dojo.style(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new dojo.Color(dojo.style(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(_584.l){this.surface.createRect({width:_584.l,height:dim.height+1}).setFill(fill);}if(_584.r){this.surface.createRect({x:dim.width-_584.r,width:_584.r+1,height:dim.height+1}).setFill(fill);}if(_584.t){this.surface.createRect({width:dim.width+1,height:_584.t}).setFill(fill);}if(_584.b){this.surface.createRect({y:dim.height-_584.b,width:dim.width+1,height:_584.b+2}).setFill(fill);}}if(_589){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_589);}df.forIn(this.axes,function(axis){axis.render(dim,_584);});this._makeClean();if(this.surface.render){this.surface.render();}return this;},connectToPlot:function(name,_58f,_590){return name in this.plots?this.stack[this.plots[name]].connect(_58f,_590):null;},_makeClean:function(){dojo.forEach(this.axes,_543);dojo.forEach(this.stack,_543);dojo.forEach(this.series,_543);this.dirty=false;},_makeDirty:function(){dojo.forEach(this.axes,_544);dojo.forEach(this.stack,_544);dojo.forEach(this.series,_544);this.dirty=true;},_invalidateDependentPlots:function(_591,_592){if(_591 in this.plots){var plot=this.stack[this.plots[_591]],axis,_595=_592?"vAxis":"hAxis";if(plot[_595]){axis=this.axes[plot[_595]];if(axis.dependOnData()){axis.dirty=true;dojo.forEach(this.stack,function(p){if(p[_595]&&p[_595]==plot[_595]){p.dirty=true;}});}}else{plot.dirty=true;}}}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Areas"]){dojo._hasResource["dojox.charting.plot2d.Areas"]=true;dojo.provide("dojox.charting.plot2d.Areas");dojo.declare("dojox.charting.plot2d.Areas",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Bars"]){dojo._hasResource["dojox.charting.plot2d.Bars"]=true;dojo.provide("dojox.charting.plot2d.Bars");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_59a=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_59b,_59c){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_59c);du.updateWithPattern(this.opt,_59c,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _59e=dc.collectSimpleStats(this.series),t;_59e.hmin-=0.5;_59e.hmax+=0.5;t=_59e.hmin,_59e.hmin=_59e.vmin,_59e.vmin=t;t=_59e.hmax,_59e.hmax=_59e.vmax,_59e.vmax=t;this._calc(dim,_59e);return this;},render:function(dim,_5a1){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_59a);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_5a5,_5a6,fill,f,gap,_5aa,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);baseline=Math.max(0,this._hScaler.bounds.lower),baselineWidth=ht(baseline),events=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_5aa=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_5a5=run.dyn.color=new dojo.Color(t.next("color"));}_5a6=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_5a5);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_5a5);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_5b2=hv-baselineWidth,w=Math.abs(_5b2);if(w>=1&&_5aa>=1){var _5b4=s.createRect({x:_5a1.l+(v<baseline?hv:baselineWidth),y:dim.height-_5a1.b-vt(j+1.5)+gap,width:w,height:_5aa}).setFill(fill).setStroke(_5a6);run.dyn.fill=_5b4.getFill();run.dyn.stroke=_5b4.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_5b4,x:v,y:j+1.5};this._connectEvents(_5b4,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bubble"]){dojo._hasResource["dojox.charting.plot2d.Bubble"]=true;dojo.provide("dojox.charting.plot2d.Bubble");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_5b9=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bubble",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y"},optionalParams:{},constructor:function(_5ba,_5bb){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_5bb);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_5be){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_5b9);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_5c2,_5c3,_5c4,_5c5,_5c6,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_5c9=this.events();this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}if(typeof run.data[0]=="number"){console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",run);continue;}var s=run.group,_5cc=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_5be.l,y:dim.height-_5be.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)};},this);if(run.fill){_5c4=run.fill;}else{if(run.stroke){_5c4=run.stroke;}else{_5c4=run.dyn.color=new dojo.Color(t.next("color"));}}run.dyn.fill=_5c4;_5c2=run.dyn.stroke=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_5c4);var _5cf=null,_5d0=null,_5d1=null;if(this.opt.shadows&&_5c2){var sh=this.opt.shadows,_5c6=new dojo.Color([0,0,0,0.2]),_5c5=dojo.clone(_5c3?_5c3:_5c2);_5c5.color=_5c6;_5c5.width+=sh.dw?sh.dw:0;run.dyn.shadow=_5c5;shadowMarkers=dojo.map(_5cc,function(item){var sh=this.opt.shadows;return s.createCircle({cx:item.x+sh.dx,cy:item.y+sh.dy,r:item.radius}).setStroke(_5c5).setFill(_5c6);},this);}if(run.outline||t.series.outline){_5c3=dc.makeStroke(run.outline?run.outline:t.series.outline);_5c3.width=2*_5c3.width+_5c2.width;run.dyn.outline=_5c3;_5d0=dojo.map(_5cc,function(item){s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_5c3);},this);}_5cf=dojo.map(_5cc,function(item){return s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_5c2).setFill(_5c4);},this);if(_5c9){dojo.forEach(_5cf,function(s,i){var o={element:"circle",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_5d0&&_5d0[i]||null,shadow:_5d1&&_5d1[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_5cc[i].x,cy:_5cc[i].y,cr:_5cc[i].radius};this._connectEvents(s,o);},this);}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]){dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=true;dojo.provide("dojox.charting.plot2d.ClusteredBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_5dc=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(dim,_5de){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_5dc);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_5e2,_5e3,fill,f,gap,_5e7,_5e8,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);baseline=Math.max(0,this._hScaler.bounds.lower),baselineWidth=ht(baseline),events=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_5e7=_5e8=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_5ed=_5e8*(this.series.length-i-1);if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_5e2=run.dyn.color=new dojo.Color(t.next("color"));}_5e3=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_5e2);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_5e2);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_5f1=hv-baselineWidth,w=Math.abs(_5f1);if(w>=1&&_5e7>=1){var _5f3=s.createRect({x:_5de.l+(v<baseline?hv:baselineWidth),y:dim.height-_5de.b-vt(j+1.5)+gap+_5ed,width:w,height:_5e7}).setFill(fill).setStroke(_5e3);run.dyn.fill=_5f3.getFill();run.dyn.stroke=_5f3.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_5f3,x:v,y:j+1.5};this._connectEvents(_5f3,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]){dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]=true;dojo.provide("dojox.charting.plot2d.ClusteredColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_5f7=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredColumns",dojox.charting.plot2d.Columns,{render:function(dim,_5f9){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_5f7);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_5fd,_5fe,fill,f,gap,_602,_603;ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),baseline=Math.max(0,this._vScaler.bounds.lower),baselineHeight=vt(baseline),events=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_602=_603=f.size;this.resetEvents();for(var i=0;i<this.series.length;++i){var run=this.series[i],_606=_603*i;if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_5fd=run.dyn.color=new dojo.Color(t.next("color"));}_5fe=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_5fd);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_5fd);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_60a=vv-baselineHeight,h=Math.abs(_60a);if(_602>=1&&h>=1){var _60c=s.createRect({x:_5f9.l+ht(j+0.5)+gap+_606,y:dim.height-_5f9.b-(v>baseline?vv:baselineHeight),width:_602,height:h}).setFill(fill).setStroke(_5fe);run.dyn.fill=_60c.getFill();run.dyn.stroke=_60c.getStroke();if(events){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_60c,x:j+0.5,y:v};this._connectEvents(_60c,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Columns"]){dojo._hasResource["dojox.charting.plot2d.Columns"]=true;dojo.provide("dojox.charting.plot2d.Columns");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_611=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{minBarSize:1,maxBarSize:1},constructor:function(_612,_613){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_613);du.updateWithPattern(this.opt,_613,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _615=dc.collectSimpleStats(this.series);_615.hmin-=0.5;_615.hmax+=0.5;this._calc(dim,_615);return this;},render:function(dim,_617){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_611);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_61b,_61c,fill,f,gap,_620,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_623=Math.max(0,this._vScaler.bounds.lower),_624=vt(_623),_625=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_620=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_61b=run.dyn.color=new dojo.Color(t.next("color"));}_61c=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_61b);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_61b);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_62b=vv-_624,h=Math.abs(_62b);if(_620>=1&&h>=1){var rect={x:_617.l+ht(j+0.5)+gap,y:dim.height-_617.b-(v>_623?vv:_624),width:_620,height:h},_62e=s.createRect(rect).setFill(fill).setStroke(_61c);run.dyn.fill=_62e.getFill();run.dyn.stroke=_62e.getStroke();if(_625){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_62e,x:j+0.5,y:v};this._connectEvents(_62e,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Grid"]){dojo._hasResource["dojox.charting.plot2d.Grid"]=true;dojo.provide("dojox.charting.plot2d.Grid");(function(){var du=dojox.lang.utils;dojo.declare("dojox.charting.plot2d.Grid",dojox.charting.Element,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none"},optionalParams:{},constructor:function(_631,_632){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_632);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},getRequiredColors:function(){return 0;},render:function(dim,_637){this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis;try{var _63a=this._vAxis.getScaler(),vt=_63a.scaler.getTransformerFromModel(_63a),_63c=this._vAxis.getTicks();if(this.opt.hMinorLines){dojo.forEach(_63c.minor,function(tick){var y=dim.height-_637.b-vt(tick.value);s.createLine({x1:_637.l,y1:y,x2:dim.width-_637.r,y2:y}).setStroke(ta.minorTick);});}if(this.opt.hMajorLines){dojo.forEach(_63c.major,function(tick){var y=dim.height-_637.b-vt(tick.value);s.createLine({x1:_637.l,y1:y,x2:dim.width-_637.r,y2:y}).setStroke(ta.majorTick);});}}catch(e){}try{var _641=this._hAxis.getScaler(),ht=_641.scaler.getTransformerFromModel(_641),_63c=this._hAxis.getTicks();if(_63c&&this.opt.vMinorLines){dojo.forEach(_63c.minor,function(tick){var x=_637.l+ht(tick.value);s.createLine({x1:x,y1:_637.t,x2:x,y2:dim.height-_637.b}).setStroke(ta.minorTick);});}if(_63c&&this.opt.vMajorLines){dojo.forEach(_63c.major,function(tick){var x=_637.l+ht(tick.value);s.createLine({x1:x,y1:_637.t,x2:x,y2:dim.height-_637.b}).setStroke(ta.majorTick);});}}catch(e){}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Lines"]){dojo._hasResource["dojox.charting.plot2d.Lines"]=true;dojo.provide("dojox.charting.plot2d.Lines");dojo.declare("dojox.charting.plot2d.Lines",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Markers"]){dojo._hasResource["dojox.charting.plot2d.Markers"]=true;dojo.provide("dojox.charting.plot2d.Markers");dojo.declare("dojox.charting.plot2d.Markers",dojox.charting.plot2d.Default,{constructor:function(){this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]){dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]=true;dojo.provide("dojox.charting.plot2d.MarkersOnly");dojo.declare("dojox.charting.plot2d.MarkersOnly",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Pie"]){dojo._hasResource["dojox.charting.plot2d.Pie"]=true;dojo.provide("dojox.charting.plot2d.Pie");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx;dojo.declare("dojox.charting.plot2d.Pie",dojox.charting.Element,{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true},optionalParams:{font:"",fontColor:"",radius:0},constructor:function(_64c,_64d){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_64d);du.updateWithPattern(this.opt,_64d,this.optionalParams);this.run=null;this.dyn=[];},destroy:function(){this.resetEvents();this.inherited(arguments);},clear:function(){this.dirty=true;this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},calculateAxes:function(dim){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},plotEvent:function(o){},connect:function(_652,_653){this.dirty=true;return dojo.connect(this,"plotEvent",_652,_653);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},resetEvents:function(){this.plotEvent({type:"onplotreset",plot:this});},_connectEvents:function(_656,o){_656.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_656.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_656.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});},render:function(dim,_65c){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,_65e,t=this.chart.theme;this.resetEvents();if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_65c.l-_65c.r)/2,ry=(dim.height-_65c.t-_65c.b)/2,r=Math.min(rx,ry),_663="font" in this.opt?this.opt.font:t.axis.font,size=_663?g.normalizedLength(g.splitFontString(_663).size):0,_665="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_666=0,step,_668,_669,_66a,_66b,_66c,run=this.run.data,_66e=this.events();if(typeof run[0]=="number"){_668=df.map(run,"Math.max(x, 0)");if(df.every(_668,"<= 0")){return this;}_669=df.map(_668,"/this",df.foldl(_668,"+",0));if(this.opt.labels){_66a=dojo.map(_669,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_668=df.map(run,"Math.max(x.y, 0)");if(df.every(_668,"<= 0")){return this;}_669=df.map(_668,"/this",df.foldl(_668,"+",0));if(this.opt.labels){_66a=dojo.map(_669,function(x,i){if(x<=0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}if(this.opt.labels){_66b=df.foldl1(df.map(_66a,function(_673){return dojox.gfx._base._getTextBox(_673,{font:_663}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_66b,ry-size)+this.opt.labelOffset;}_66c=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_66c=r-this.opt.labelOffset;}var _674={cx:_65c.l+rx,cy:_65c.t+ry,r:r};this.dyn=[];dojo.some(_669,function(_675,i){if(_675<=0){return false;}var v=run[i];if(_675>=1){var _678,fill,_67a;if(typeof v=="object"){_678="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_678);_67a="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_678);}else{_678=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_678);_67a=dc.augmentStroke(t.series.stroke,_678);}var _67b=s.createCircle(_674).setFill(fill).setStroke(_67a);this.dyn.push({color:_678,fill:fill,stroke:_67a});if(_66e){var o={element:"slice",index:i,run:this.run,plot:this,shape:_67b,x:i,y:typeof v=="number"?v:v.y,cx:_674.cx,cy:_674.cy,cr:r};this._connectEvents(_67b,o);}return true;}var end=_666+_675*2*Math.PI;if(i+1==_669.length){end=2*Math.PI;}var step=end-_666,x1=_674.cx+r*Math.cos(_666),y1=_674.cy+r*Math.sin(_666),x2=_674.cx+r*Math.cos(end),y2=_674.cy+r*Math.sin(end);var _678,fill,_67a;if(typeof v=="object"){_678="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_678);_67a="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_678);}else{_678=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_678);_67a=dc.augmentStroke(t.series.stroke,_678);}var _67b=s.createPath({}).moveTo(_674.cx,_674.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_674.cx,_674.cy).closePath().setFill(fill).setStroke(_67a);this.dyn.push({color:_678,fill:fill,stroke:_67a});if(_66e){var o={element:"slice",index:i,run:this.run,plot:this,shape:_67b,x:i,y:typeof v=="number"?v:v.y,cx:_674.cx,cy:_674.cy,cr:r};this._connectEvents(_67b,o);}_666=end;return false;},this);if(this.opt.labels){_666=0;dojo.some(_669,function(_683,i){if(_683<=0){return false;}if(_683>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_674.cx,_674.cy+size/2,"middle",_66a[i],_663,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_665);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_666+_683*2*Math.PI,v=run[i];if(i+1==_669.length){end=2*Math.PI;}var _688=(_666+end)/2,x=_674.cx+_66c*Math.cos(_688),y=_674.cy+_66c*Math.sin(_688)+size/2;var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_66a[i],_663,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_665);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_666=end;return false;},this);}return this;},_getLabel:function(_68b){return this.opt.fixed?_68b.toFixed(this.opt.precision):_68b.toString();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Scatter"]){dojo._hasResource["dojox.charting.plot2d.Scatter"]=true;dojo.provide("dojox.charting.plot2d.Scatter");dojo.declare("dojox.charting.plot2d.Scatter",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Stacked"]){dojo._hasResource["dojox.charting.plot2d.Stacked"]=true;dojo.provide("dojox.charting.plot2d.Stacked");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_68e=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Stacked",dojox.charting.plot2d.Default,{calculateAxes:function(dim){var _690=dc.collectStackedStats(this.series);this._maxRunLength=_690.hmax;this._calc(dim,_690);return this;},render:function(dim,_692){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_68e);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_69b,_69c,_69d,_69e,_69f=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group,_6a2=dojo.map(acc,function(v,i){return {x:ht(i+1)+_692.l,y:dim.height-_692.b-vt(v)};},this);if(!run.fill||!run.stroke){_69d=new dojo.Color(t.next("color"));}var _6a5=this.opt.tension?dc.curve(_6a2,this.opt.tension):"";if(this.opt.areas){var _6a6=dojo.clone(_6a2);var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_69d);if(this.opt.tension){var p=dc.curve(_6a6,this.opt.tension);p+=" L"+_6a2[_6a2.length-1].x+","+(dim.height-_692.b)+" L"+_6a2[0].x+","+(dim.height-_692.b)+" L"+_6a2[0].x+","+_6a2[0].y;run.dyn.fill=s.createPath(p).setFill(fill).getFill();}else{_6a6.push({x:_6a2[_6a2.length-1].x,y:dim.height-_692.b});_6a6.push({x:_6a2[0].x,y:dim.height-_692.b});_6a6.push(_6a2[0]);run.dyn.fill=s.createPolyline(_6a6).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_69b=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_69d);if(run.outline||t.series.outline){_69c=dc.makeStroke(run.outline?run.outline:t.series.outline);_69c.width=2*_69c.width+_69b.width;}}if(this.opt.markers){_69e=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _6a9,_6aa,_6ab;if(this.opt.shadows&&_69b){var sh=this.opt.shadows,_6ad=new dojo.Color([0,0,0,0.3]),_6ae=dojo.map(_6a2,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_6b0=dojo.clone(_69c?_69c:_69b);_6b0.color=_6ad;_6b0.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_6ae,this.opt.tension)).setStroke(_6b0).getStroke();}else{run.dyn.shadow=s.createPolyline(_6ae).setStroke(_6b0).getStroke();}}if(this.opt.markers){_6ab=dojo.map(_6ae,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_69e).setStroke(_6b0).setFill(_6ad);},this);}}if(this.opt.lines){if(_69c){if(this.opt.tension){run.dyn.outline=s.createPath(_6a5).setStroke(_69c).getStroke();}else{run.dyn.outline=s.createPolyline(_6a2).setStroke(_69c).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_6a5).setStroke(_69b).getStroke();}else{run.dyn.stroke=s.createPolyline(_6a2).setStroke(_69b).getStroke();}}if(this.opt.markers){_6a9=new Array(_6a2.length);_6aa=new Array(_6a2.length);dojo.forEach(_6a2,function(c,i){var path="M"+c.x+" "+c.y+" "+_69e;if(_69c){_6aa[i]=s.createPath(path).setStroke(_69c);}_6a9[i]=s.createPath(path).setStroke(_69b).setFill(_69b.color);},this);if(_69f){dojo.forEach(_6a9,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_6aa[i]||null,shadow:_6ab&&_6ab[i]||null,cx:_6a2[i].x,cy:_6a2[i].y,x:i+1,y:run.data[i]};this._connectEvents(s,o);},this);}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedAreas"]){dojo._hasResource["dojox.charting.plot2d.StackedAreas"]=true;dojo.provide("dojox.charting.plot2d.StackedAreas");dojo.declare("dojox.charting.plot2d.StackedAreas",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.StackedBars"]){dojo._hasResource["dojox.charting.plot2d.StackedBars"]=true;dojo.provide("dojox.charting.plot2d.StackedBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_6ba=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{calculateAxes:function(dim){var _6bc=dc.collectStackedStats(this.series),t;this._maxRunLength=_6bc.hmax;_6bc.hmin-=0.5;_6bc.hmax+=0.5;t=_6bc.hmin,_6bc.hmin=_6bc.vmin,_6bc.vmin=t;t=_6bc.hmax,_6bc.hmax=_6bc.vmax,_6bc.vmax=t;this._calc(dim,_6bc);return this;},render:function(dim,_6bf){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_6ba);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_6c8,_6c9,fill,f,gap,_6cd,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);events=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_6cd=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_6c8=run.dyn.color=new dojo.Color(t.next("color"));}_6c9=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_6c8);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_6c8);for(var j=0;j<acc.length;++j){var v=acc[j],_6d0=ht(v);if(_6d0>=1&&_6cd>=1){var _6d1=s.createRect({x:_6bf.l,y:dim.height-_6bf.b-vt(j+1.5)+gap,width:_6d0,height:_6cd}).setFill(fill).setStroke(_6c9);run.dyn.fill=_6d1.getFill();run.dyn.stroke=_6d1.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_6d1,x:v,y:j+1.5};this._connectEvents(_6d1,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedColumns"]){dojo._hasResource["dojox.charting.plot2d.StackedColumns"]=true;dojo.provide("dojox.charting.plot2d.StackedColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_6d5=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{calculateAxes:function(dim){var _6d7=dc.collectStackedStats(this.series);this._maxRunLength=_6d7.hmax;_6d7.hmin-=0.5;_6d7.hmax+=0.5;this._calc(dim,_6d7);return this;},render:function(dim,_6d9){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_6d5);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_6e2,_6e3,fill,f,gap,_6e7,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);events=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_6e7=f.size;this.resetEvents();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_6e2=run.dyn.color=new dojo.Color(t.next("color"));}_6e3=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_6e2);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_6e2);for(var j=0;j<acc.length;++j){var v=acc[j],_6ea=vt(v);if(_6e7>=1&&_6ea>=1){var _6eb=s.createRect({x:_6d9.l+ht(j+0.5)+gap,y:dim.height-_6d9.b-vt(v),width:_6e7,height:_6ea}).setFill(fill).setStroke(_6e3);run.dyn.fill=_6eb.getFill();run.dyn.stroke=_6eb.getStroke();if(events){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_6eb,x:j+0.5,y:v};this._connectEvents(_6eb,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedLines"]){dojo._hasResource["dojox.charting.plot2d.StackedLines"]=true;dojo.provide("dojox.charting.plot2d.StackedLines");dojo.declare("dojox.charting.plot2d.StackedLines",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["dojox.gfx.fx"]){dojo._hasResource["dojox.gfx.fx"]=true;dojo.provide("dojox.gfx.fx");(function(){var d=dojo,g=dojox.gfx,m=g.matrix;var _71b=function(_71c,end){this.start=_71c,this.end=end;};d.extend(_71b,{getValue:function(r){return (this.end-this.start)*r+this.start;}});var _71f=function(_720,end,unit){this.start=_720,this.end=end;this.unit=unit;};d.extend(_71f,{getValue:function(r){return (this.end-this.start)*r+this.start+this.unit;}});var _724=function(_725,end){this.start=_725,this.end=end;this.temp=new dojo.Color();};d.extend(_724,{getValue:function(r){return d.blendColors(this.start,this.end,r,this.temp);}});var _728=function(_729){this.values=_729;this.length=_729.length;};d.extend(_728,{getValue:function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];}});var _72b=function(_72c,def){this.values=_72c;this.def=def?def:{};};d.extend(_72b,{getValue:function(r){var ret=dojo.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;}});var _731=function(_732,_733){this.stack=_732;this.original=_733;};d.extend(_731,{getValue:function(r){var ret=[];dojo.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=dojo.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_73b=f.apply(m,val);if(_73b instanceof m.Matrix2D){ret.push(_73b);}},this);return ret;}});var _73c=new d.Color(0,0,0,0);var _73d=function(prop,obj,name,def){if(prop.values){return new _728(prop.values);}var _742,_743,end;if(prop.start){_743=g.normalizeColor(prop.start);}else{_743=_742=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_742){_742=obj?(name?obj[name]:obj):def;}end=_742;}return new _724(_743,end);};var _745=function(prop,obj,name,def){if(prop.values){return new _728(prop.values);}var _74a,_74b,end;if(prop.start){_74b=prop.start;}else{_74b=_74a=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _74a!="number"){_74a=obj?obj[name]:def;}end=_74a;}return new _71b(_74b,end);};g.fx.animateStroke=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_74f=args.shape,_750;d.connect(anim,"beforeBegin",anim,function(){_750=_74f.getStroke();var prop=args.color,_752={},_753,_754,end;if(prop){_752.color=_73d(prop,_750,"color",_73c);}prop=args.style;if(prop&&prop.values){_752.style=new _728(prop.values);}prop=args.width;if(prop){_752.width=_745(prop,_750,"width",1);}prop=args.cap;if(prop&&prop.values){_752.cap=new _728(prop.values);}prop=args.join;if(prop){if(prop.values){_752.join=new _728(prop.values);}else{_754=prop.start?prop.start:(_750&&_750.join||0);end=prop.end?prop.end:(_750&&_750.join||0);if(typeof _754=="number"&&typeof end=="number"){_752.join=new _71b(_754,end);}}}this.curve=new _72b(_752,_750);});d.connect(anim,"onAnimate",_74f,"setStroke");return anim;};g.fx.animateFill=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_758=args.shape,fill;d.connect(anim,"beforeBegin",anim,function(){fill=_758.getFill();var prop=args.color,_75b={};if(prop){this.curve=_73d(prop,fill,"",_73c);}});d.connect(anim,"onAnimate",_758,"setFill");return anim;};g.fx.animateFont=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_75e=args.shape,font;d.connect(anim,"beforeBegin",anim,function(){font=_75e.getFont();var prop=args.style,_761={},_762,_763,end;if(prop&&prop.values){_761.style=new _728(prop.values);}prop=args.variant;if(prop&&prop.values){_761.variant=new _728(prop.values);}prop=args.weight;if(prop&&prop.values){_761.weight=new _728(prop.values);}prop=args.family;if(prop&&prop.values){_761.family=new _728(prop.values);}prop=args.size;if(prop&&prop.unit){_763=parseFloat(prop.start?prop.start:(_75e.font&&_75e.font.size||"0"));end=parseFloat(prop.end?prop.end:(_75e.font&&_75e.font.size||"0"));_761.size=new _71f(_763,end,prop.unit);}this.curve=new _72b(_761,font);});d.connect(anim,"onAnimate",_75e,"setFont");return anim;};g.fx.animateTransform=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),_767=args.shape,_768;d.connect(anim,"beforeBegin",anim,function(){_768=_767.getTransform();this.curve=new _731(args.transform,_768);});d.connect(anim,"onAnimate",_767,"setTransform");return anim;};})();}if(!dojo._hasResource["dojox.charting.action2d.Base"]){dojo._hasResource["dojox.charting.action2d.Base"]=true;dojo.provide("dojox.charting.action2d.Base");(function(){var _769=400,_76a=dojo.fx.easing.backOut,df=dojox.lang.functional;dojo.declare("dojox.charting.action2d.Base",null,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(_76c,plot,_76e){this.chart=_76c;this.plot=plot?plot:"default";this.anim={};if(!_76e){_76e={};}this.duration=_76e.duration?_76e.duration:_769;this.easing=_76e.easing?_76e.easing:_76a;},connect:function(){this.handle=this.chart.connectToPlot(this.plot,this,"process");},disconnect:function(){if(this.handle){dojo.disconnect(this.handle);this.handle=null;}},reset:function(){},destroy:function(){if(this.handle){this.disconnect();}df.forIn(this.anim,function(o){df.forIn(o,function(anim){anim.action.stop(true);});});this.anim={};}});})();}if(!dojo._hasResource["dojox.charting.action2d.Magnify"]){dojo._hasResource["dojox.charting.action2d.Magnify"]=true;dojo.provide("dojox.charting.action2d.Magnify");(function(){var _771=2,m=dojox.gfx.matrix,gf=dojox.gfx.fx;dojo.declare("dojox.charting.action2d.Magnify",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,scale:_771},optionalParams:{},constructor:function(_774,plot,_776){this.scale=_776&&typeof _776.scale=="number"?_776.scale:_771;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)||!("cx" in o)||!("cy" in o)){return;}var _778=o.run.name,_779=o.index,_77a=[],anim,init,_77d;if(_778 in this.anim){anim=this.anim[_778][_779];}else{this.anim[_778]={};}if(anim){anim.action.stop(true);}else{this.anim[_778][_779]=anim={};}if(o.type=="onmouseover"){init=m.identity;_77d=this.scale;}else{init=m.scaleAt(this.scale,o.cx,o.cy);_77d=1/this.scale;}var _77e={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"scaleAt",start:[1,o.cx,o.cy],end:[_77d,o.cx,o.cy]},init]};if(o.shape){_77a.push(gf.animateTransform(_77e));}if(o.oultine){_77e.shape=o.outline;_77a.push(gf.animateTransform(_77e));}if(o.shadow){_77e.shape=o.shadow;_77a.push(gf.animateTransform(_77e));}if(!_77a.length){delete this.anim[_778][_779];return;}anim.action=dojo.fx.combine(_77a);if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_778]){delete this.anim[_778][_779];}});}anim.action.play();}});})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _77f=dojo.doc;if(_77f.selection){var s=_77f.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _781=dojo.global;var _782=_781.getSelection();if(dojo.isString(_782)){return !_782;}else{return _782.isCollapsed||!_782.toString();}}},getBookmark:function(){var _783,_784=dojo.doc.selection;if(_784){var _785=_784.createRange();if(_784.type.toUpperCase()=="CONTROL"){if(_785.length){_783=[];var i=0,len=_785.length;while(i<len){_783.push(_785.item(i++));}}else{_783=null;}}else{_783=_785.getBookmark();}}else{if(window.getSelection){_784=dojo.global.getSelection();if(_784){_785=_784.getRangeAt(0);_783=_785.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _783;},moveToBookmark:function(_788){var _789=dojo.doc;if(_789.selection){var _78a;if(dojo.isArray(_788)){_78a=_789.body.createControlRange();dojo.forEach(_788,function(n){_78a.addElement(n);});}else{_78a=_789.selection.createRange();_78a.moveToBookmark(_788);}_78a.select();}else{var _78c=dojo.global.getSelection&&dojo.global.getSelection();if(_78c&&_78c.removeAllRanges){_78c.removeAllRanges();_78c.addRange(_788);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(menu,_78e){return {node:menu&&dojo.isDescendant(dijit._curFocus,menu.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_78e||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_78e||dojo.global,dijit.getBookmark):null,openedForWindow:_78e};},focus:function(_78f){if(!_78f){return;}var node="node" in _78f?_78f.node:_78f,_791=_78f.bookmark,_792=_78f.openedForWindow;if(node){var _793=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_793&&_793.focus){try{_793.focus();}catch(e){}}dijit._onFocusNode(node);}if(_791&&dojo.withGlobal(_792||dojo.global,dijit.isCollapsed)){if(_792){_792.focus();}try{dojo.withGlobal(_792||dojo.global,dijit.moveToBookmark,null,[_791]);}catch(e){}}},_activeStack:[],registerWin:function(_794){if(!_794){_794=window;}dojo.connect(_794.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(evt.target||evt.srcElement);});var doc=_794.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(evt.target);},true);}}doc=null;},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _79d=[];try{while(node){if(node.dijitPopupParent){node=dijit.byId(node.dijitPopupParent).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dijit.getDocumentWindow(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId");if(id){_79d.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_79d);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(node.nodeType==9){var _7a0=dijit.getDocumentWindow(node).frameElement;if(!_7a0){return;}node=_7a0;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_7a1){var _7a2=dijit._activeStack;dijit._activeStack=_7a1;for(var _7a3=0;_7a3<Math.min(_7a2.length,_7a1.length);_7a3++){if(_7a2[_7a3]!=_7a1[_7a3]){break;}}for(var i=_7a2.length-1;i>=_7a3;i--){var _7a5=dijit.byId(_7a2[i]);if(_7a5){_7a5._focused=false;_7a5._hasBeenBlurred=true;if(_7a5._onBlur){_7a5._onBlur();}if(_7a5._setStateClass){_7a5._setStateClass();}dojo.publish("widgetBlur",[_7a5]);}}for(i=_7a3;i<_7a1.length;i++){_7a5=dijit.byId(_7a1[i]);if(_7a5){_7a5._focused=true;if(_7a5._onFocus){_7a5._onFocus();}if(_7a5._setStateClass){_7a5._setStateClass();}dojo.publish("widgetFocus",[_7a5]);}}}});dojo.addOnLoad(dijit.registerWin);}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_7a6){if(this._hash[_7a6.id]){throw new Error("Tried to register widget with id=="+_7a6.id+" but that id is already registered");}this._hash[_7a6.id]=_7a6;},remove:function(id){delete this._hash[id];},forEach:function(func){for(var id in this._hash){func(this._hash[id]);}},filter:function(_7aa){var res=new dijit.WidgetSet();this.forEach(function(_7ac){if(_7aa(_7ac)){res.add(_7ac);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_7af){return _7af.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_7b0){var id;do{id=_7b0+"_"+(_7b0 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_7b0]:dijit._widgetTypeCtr[_7b0]=0);}while(dijit.byId(id));return id;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.registry.forEach(function(_7b2){_7b2.destroy();});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(node){return dijit.registry.byId(node.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(node){while(node){if(node.getAttribute&&node.getAttribute("widgetId")){return dijit.registry.byId(node.getAttribute("widgetId"));}node=node.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(elem){var _7b7=dojo.style(elem);return (_7b7.visibility!="hidden")&&(_7b7.visibility!="collapsed")&&(_7b7.display!="none")&&(dojo.attr(elem,"type")!="hidden");};dijit.isTabNavigable=function(elem){if(dojo.hasAttr(elem,"disabled")){return false;}var _7b9=dojo.hasAttr(elem,"tabindex");var _7ba=dojo.attr(elem,"tabindex");if(_7b9&&_7ba>=0){return true;}var name=elem.nodeName.toLowerCase();if(((name=="a"&&dojo.hasAttr(elem,"href"))||dijit._tabElements[name])&&(!_7b9||_7ba>=0)){return true;}return false;};dijit._getTabNavigable=function(root){var _7bd,last,_7bf,_7c0,_7c1,_7c2;var _7c3=function(_7c4){dojo.query("> *",_7c4).forEach(function(_7c5){var _7c6=dijit._isElementShown(_7c5);if(_7c6&&dijit.isTabNavigable(_7c5)){var _7c7=dojo.attr(_7c5,"tabindex");if(!dojo.hasAttr(_7c5,"tabindex")||_7c7==0){if(!_7bd){_7bd=_7c5;}last=_7c5;}else{if(_7c7>0){if(!_7bf||_7c7<_7c0){_7c0=_7c7;_7bf=_7c5;}if(!_7c1||_7c7>=_7c2){_7c2=_7c7;_7c1=_7c5;}}}}if(_7c6&&_7c5.nodeName.toUpperCase()!="SELECT"){_7c3(_7c5);}});};if(dijit._isElementShown(root)){_7c3(root);}return {first:_7bd,last:last,lowest:_7bf,highest:_7c1};};dijit.getFirstInTabbingOrder=function(root){var _7c9=dijit._getTabNavigable(dojo.byId(root));return _7c9.lowest?_7c9.lowest:_7c9.first;};dijit.getLastInTabbingOrder=function(root){var _7cb=dijit._getTabNavigable(dojo.byId(root));return _7cb.last?_7cb.last:_7cb.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_7cc){this.pairs=[];this.returnWrappers=_7cc||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_7ce,wrap,_7d0,_7d1){this.pairs[((_7d1)?"unshift":"push")]([name,_7ce,wrap,_7d0]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _7d7=dojo.global;var _7d8=dojo.doc;var w=0,h=0;var de=_7d8.documentElement;var dew=de.clientWidth,deh=de.clientHeight;if(dojo.isMozilla){var minw,minh,maxw,maxh;var dbw=_7d8.body.clientWidth;if(dbw>dew){minw=dew;maxw=dbw;}else{maxw=dew;minw=dbw;}var dbh=_7d8.body.clientHeight;if(dbh>deh){minh=deh;maxh=dbh;}else{maxh=deh;minh=dbh;}w=(maxw>_7d7.innerWidth)?minw:maxw;h=(maxh>_7d7.innerHeight)?minh:maxh;}else{if(!dojo.isOpera&&_7d7.innerWidth){w=_7d7.innerWidth;h=_7d7.innerHeight;}else{if(dojo.isIE&&de&&deh){w=dew;h=deh;}else{if(dojo.body().clientWidth){w=dojo.body().clientWidth;h=dojo.body().clientHeight;}}}}var _7e4=dojo._docScroll();return {w:w,h:h,l:_7e4.x,t:_7e4.y};};dijit.placeOnScreen=function(node,pos,_7e7,_7e8){var _7e9=dojo.map(_7e7,function(_7ea){return {corner:_7ea,pos:pos};});return dijit._place(node,_7e9);};dijit._place=function(node,_7ec,_7ed){var view=dijit.getViewport();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_7ec,function(_7f0){var _7f1=_7f0.corner;var pos=_7f0.pos;if(_7ed){_7ed(node,_7f0.aroundCorner,_7f1);}var _7f3=node.style;var _7f4=_7f3.display;var _7f5=_7f3.visibility;_7f3.visibility="hidden";_7f3.display="";var mb=dojo.marginBox(node);_7f3.display=_7f4;_7f3.visibility=_7f5;var _7f7=(_7f1.charAt(1)=="L"?pos.x:Math.max(view.l,pos.x-mb.w)),_7f8=(_7f1.charAt(0)=="T"?pos.y:Math.max(view.t,pos.y-mb.h)),endX=(_7f1.charAt(1)=="L"?Math.min(view.l+view.w,_7f7+mb.w):pos.x),endY=(_7f1.charAt(0)=="T"?Math.min(view.t+view.h,_7f8+mb.h):pos.y),_7fb=endX-_7f7,_7fc=endY-_7f8,_7fd=(mb.w-_7fb)+(mb.h-_7fc);if(best==null||_7fd<best.overflow){best={corner:_7f1,aroundCorner:_7f0.aroundCorner,x:_7f7,y:_7f8,w:_7fb,h:_7fc,overflow:_7fd};}return !_7fd;});node.style.left=best.x+"px";node.style.top=best.y+"px";if(best.overflow&&_7ed){_7ed(node,best.aroundCorner,best.corner);}return best;};dijit.placeOnScreenAroundNode=function(node,_7ff,_800,_801){_7ff=dojo.byId(_7ff);var _802=_7ff.style.display;_7ff.style.display="";var _803=_7ff.offsetWidth;var _804=_7ff.offsetHeight;var _805=dojo.coords(_7ff,true);_7ff.style.display=_802;return dijit._placeOnScreenAroundRect(node,_805.x,_805.y,_803,_804,_800,_801);};dijit.placeOnScreenAroundRectangle=function(node,_807,_808,_809){return dijit._placeOnScreenAroundRect(node,_807.x,_807.y,_807.width,_807.height,_808,_809);};dijit._placeOnScreenAroundRect=function(node,x,y,_80d,_80e,_80f,_810){var _811=[];for(var _812 in _80f){_811.push({aroundCorner:_812,corner:_80f[_812],pos:{x:x+(_812.charAt(1)=="L"?0:_80d),y:y+(_812.charAt(0)=="T"?0:_80e)}});}return dijit._place(node,_811,_810);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_818,_819,_81a){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _81d=[],_81e=1000,_81f=1;this.prepare=function(node){dojo.body().appendChild(node);var s=node.style;if(s.display=="none"){s.display="";}s.visibility="hidden";s.position="absolute";s.top="-9999px";};this.open=function(args){var _823=args.popup,_824=args.orient||{"BL":"TL","TL":"BL"},_825=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+_81f++);var _827=dojo.doc.createElement("div");dijit.setWaiRole(_827,"presentation");_827.id=id;_827.className="dijitPopup";_827.style.zIndex=_81e+_81d.length;_827.style.left=_827.style.top="0px";_827.style.visibility="hidden";if(args.parent){_827.dijitPopupParent=args.parent.id;}dojo.body().appendChild(_827);var s=_823.domNode.style;s.display="";s.visibility="";s.position="";_827.appendChild(_823.domNode);var _829=new dijit.BackgroundIframe(_827);var best=_825?dijit.placeOnScreenAroundElement(_827,_825,_824,_823.orient?dojo.hitch(_823,"orient"):null):dijit.placeOnScreen(_827,args,_824=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"]);_827.style.visibility="visible";var _82b=[];var _82c=function(){for(var pi=_81d.length-1;pi>0&&_81d[pi].parent===_81d[pi-1].widget;pi--){}return _81d[pi];};_82b.push(dojo.connect(_827,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _82f=_82c();if(_82f&&_82f.onCancel){_82f.onCancel();}}}}));if(_823.onCancel){_82b.push(dojo.connect(_823,"onCancel",null,args.onCancel));}_82b.push(dojo.connect(_823,_823.onExecute?"onExecute":"onChange",null,function(){var _830=_82c();if(_830&&_830.onExecute){_830.onExecute();}}));_81d.push({wrapper:_827,iframe:_829,widget:_823,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_82b});if(_823.onOpen){_823.onOpen(best);}return best;};this.close=function(_831){while(dojo.some(_81d,function(elem){return elem.widget==_831;})){var top=_81d.pop(),_834=top.wrapper,_835=top.iframe,_836=top.widget,_837=top.onClose;if(_836.onClose){_836.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_836||!_836.domNode){return;}this.prepare(_836.domNode);_835.destroy();dojo._destroyElement(_834);if(_837){_837();}}};}();dijit._frames=new function(){var _838=[];this.pop=function(){var _839;if(_838.length){_839=_838.pop();_839.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_839=dojo.doc.createElement(html);}else{_839=dojo.doc.createElement("iframe");_839.src="javascript:\"\"";_839.className="dijitBackgroundIframe";}_839.tabIndex=-1;dojo.body().appendChild(_839);}return _839;};this.push=function(_83c){_83c.style.display="";if(dojo.isIE){_83c.style.removeExpression("width");_83c.style.removeExpression("height");}_838.push(_83c);};}();if(dojo.isIE<7){dojo.addOnLoad(function(){var f=dijit._frames;dojo.forEach([f.pop()],f.push);});}dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if((dojo.isIE&&dojo.isIE<7)||(dojo.isFF&&dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _83f=dijit._frames.pop();node.appendChild(_83f);if(dojo.isIE){_83f.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_83f.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_83f;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){node=dojo.byId(node);var body=node.ownerDocument.body;var html=body.parentNode;if(dojo.isFF==2||node==body||node==html){node.scrollIntoView(false);return;}var rtl=!dojo._isBodyLtr();var _844=dojo.doc.compatMode!="BackCompat";var _845=(_844&&!dojo.isSafari)?html:body;function addPseudoAttrs(_846){var _847=_846.parentNode;var _848=_846.offsetParent;if(_848==null){_846=_845;_848=html;_847=null;}_846._offsetParent=(_848==body)?_845:_848;_846._parent=(_847==body)?_845:_847;_846._start={H:_846.offsetLeft,V:_846.offsetTop};_846._scroll={H:_846.scrollLeft,V:_846.scrollTop};_846._renderedSize={H:_846.offsetWidth,V:_846.offsetHeight};var bp=dojo._getBorderExtents(_846);_846._borderStart={H:bp.l,V:bp.t};_846._borderSize={H:bp.w,V:bp.h};_846._clientSize=(_846._offsetParent==html&&dojo.isSafari&&_844)?{H:html.clientWidth,V:html.clientHeight}:{H:_846.clientWidth,V:_846.clientHeight};_846._scrollBarSize={V:null,H:null};for(var dir in _846._scrollBarSize){var _84b=_846._renderedSize[dir]-_846._clientSize[dir]-_846._borderSize[dir];_846._scrollBarSize[dir]=(_846._clientSize[dir]>0&&_84b>=15&&_84b<=17)?_84b:0;}_846._isScrollable={V:null,H:null};for(dir in _846._isScrollable){var _84c=dir=="H"?"V":"H";_846._isScrollable[dir]=_846==_845||_846._scroll[dir]||_846._scrollBarSize[_84c];}};var _84d=node;while(_84d!=null){addPseudoAttrs(_84d);var next=_84d._parent;if(next){next._child=_84d;}_84d=next;}for(var dir in _845._renderedSize){_845._renderedSize[dir]=Math.min(_845._clientSize[dir],_845._renderedSize[dir]);}var _850=node;while(_850!=_845){_84d=_850._parent;if(_84d.tagName=="TD"){var _851=_84d._parent._parent._parent;if(_851._offsetParent==_850._offsetParent&&_84d._offsetParent!=_850._offsetParent){_84d=_851;}}var _852=_850==_845||(_84d._offsetParent!=_850._offsetParent);for(dir in _850._start){var _853=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(dojo.isSafari||dojo.isIE)&&_84d._clientSize.H>0){var _854=_84d.scrollWidth-_84d._clientSize.H;if(_854>0){_84d._scroll.H-=_854;}}if(dojo.isIE&&_84d._offsetParent.tagName=="TABLE"){_84d._start[dir]-=_84d._offsetParent._borderStart[dir];_84d._borderStart[dir]=_84d._borderSize[dir]=0;}if(_84d._clientSize[dir]==0){_84d._renderedSize[dir]=_84d._clientSize[dir]=_84d._child._clientSize[dir];if(rtl&&dir=="H"){_84d._start[dir]-=_84d._renderedSize[dir];}}else{_84d._renderedSize[dir]-=_84d._borderSize[dir]+_84d._scrollBarSize[dir];}_84d._start[dir]+=_84d._borderStart[dir];var _855=_850._start[dir]-(_852?0:_84d._start[dir])-_84d._scroll[dir];var _856=_855+_850._renderedSize[dir]-_84d._renderedSize[dir];var _857,_858=(dir=="H")?"scrollLeft":"scrollTop";var _859=(dir=="H"&&rtl);var _85a=_859?-_856:_855;var _85b=_859?-_855:_856;if(_85a<=0){_857=_85a;}else{if(_85b<=0){_857=0;}else{if(_85a<_85b){_857=_85a;}else{_857=_85b;}}}var _85c=0;if(_857!=0){var _85d=_84d[_858];_84d[_858]+=_859?-_857:_857;_85c=_84d[_858]-_85d;_855-=_85c;_85b-=_859?-_85c:_85c;}_84d._renderedSize[dir]=_850._renderedSize[dir]+_84d._scrollBarSize[dir]-((_84d._isScrollable[dir]&&_85b>0)?_85b:0);_84d._start[dir]+=(_855>=0||!_84d._isScrollable[dir])?_855:0;}_850=_84d;}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo;var ie=d.isIE;var _860=d.isOpera;var maj=Math.floor;var ff=d.isFF;var _863=d.boxModel.replace(/-/,"");var _864={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_860,dj_opera8:maj(_860)==8,dj_opera9:maj(_860)==9,dj_khtml:d.isKhtml,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_864["dj_"+_863]=true;var html=dojo.doc.documentElement;for(var p in _864){if(_864[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _864){if(_864[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_869,node,_86b,obj,_86d,_86e){if(obj!=this._obj){this.stop();this._initialDelay=_86e||500;this._subsequentDelay=_86d||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_869,_86b);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_870,_871,_872,_873,_874){if(_870.keyCode){_870.charOrCode=_870.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_870.charCode){_870.charOrCode=String.fromCharCode(_870.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_870.charOrCode&&(_870.ctrlKey===undefined||_870.ctrlKey==evt.ctrlKey)&&(_870.altKey===undefined||_870.altKey==evt.ctrlKey)&&(_870.shiftKey===undefined||_870.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_870,_871,node,_872,_870,_873,_874);}else{if(dijit.typematic._obj==_870){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_870){dijit.typematic.stop();}})];},addMouseListener:function(node,_878,_879,_87a,_87b){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_878,node,_879,node,_87a,_87b);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_878,node,_879,node,_87a,_87b);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_882,_883,_884,_885,_886,_887,_888){return this.addKeyListener(_883,_884,_885,_886,_887,_888).concat(this.addMouseListener(_882,_885,_886,_887,_888));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.doc.createElement("div");div.id="a11yTestNode";div.style.cssText="border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");";dojo.body().appendChild(div);var cs=dojo.getComputedStyle(div);if(cs){var _88b=cs.backgroundImage;var _88c=(cs.borderTopColor==cs.borderRightColor)||(_88b!=null&&(_88b=="none"||_88b=="url(invalid-url:)"));dojo[_88c?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _88f=this.getWaiRole(elem);if(role){return (_88f.indexOf(role)>-1);}else{return (_88f.length>0);}},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _893=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_893)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_893+" ").indexOf(" "+role+" ")<0){var _894=dojo.trim(_893.replace(this._XhtmlRoles,""));var _895=dojo.trim(_893.replace(_894,""));dojo.attr(elem,"role",_895+(_895?" ":"")+role);}}},removeWaiRole:function(elem,role){var _898=dojo.attr(elem,"role");if(!_898){return;}if(role){var _899=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_898+" ").replace(" "+_899+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_89c){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_89c);}else{return elem.hasAttribute?elem.hasAttribute("aria-"+_89c):!!elem.getAttribute("aria-"+_89c);}},getWaiState:function(elem,_89e){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_89e);}else{var _89f=elem.getAttribute("aria-"+_89e);return _89f?_89f:"";}},setWaiState:function(elem,_8a1,_8a2){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_8a1,_8a2);}else{elem.setAttribute("aria-"+_8a1,_8a2);}},removeWaiState:function(elem,_8a4){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_8a4);}else{elem.removeAttribute("aria-"+_8a4);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_8a5,_8a6){if(_8a5&&dojo.isFunction(_8a5._onConnect)){_8a5._onConnect(_8a6);}});dijit._connectOnUseEventHandler=function(_8a7){};(function(){var _8a8={};var _8a9=function(dc){if(!_8a8[dc]){var r=[];var _8ac;var _8ad=dojo.getObject(dc).prototype;for(var _8ae in _8ad){if(dojo.isFunction(_8ad[_8ae])&&(_8ac=_8ae.match(/^_set([a-zA-Z]*)Attr$/))&&_8ac[1]){r.push(_8ac[1].charAt(0).toLowerCase()+_8ac[1].substr(1));}}_8a8[dc]=r;}return _8a8[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_8af,_8b0){this.create(_8af,_8b0);},create:function(_8b1,_8b2){this.srcNodeRef=dojo.byId(_8b2);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_8b1){this.params=_8b1;dojo.mixin(this,_8b1);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _8b4=function(attr,_8b6){if((_8b6.params&&attr in _8b6.params)||_8b6[attr]){_8b6.attr(attr,_8b6[attr]);}};for(var attr in this.attributeMap){_8b4(attr,this);}dojo.forEach(_8a9(this.declaredClass),function(a){if(!(a in this.attributeMap)){_8b4(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.doc.createElement("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_8b9){this.destroyDescendants(_8b9);this.destroy(_8b9);},destroy:function(_8ba){this.uninitialize();dojo.forEach(this._connects,function(_8bb){dojo.forEach(_8bb,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_8ba);dijit.registry.remove(this.id);},destroyRendering:function(_8bd){if(this.bgIframe){this.bgIframe.destroy(_8bd);delete this.bgIframe;}if(this.domNode){if(!_8bd){dojo._destroyElement(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_8bd){dojo._destroyElement(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_8be){dojo.forEach(this.getDescendants(),function(_8bf){if(_8bf.destroy){_8bf.destroy(_8be);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_8c1){if(_8c1 in this._deferredConnects){var _8c2=this[this._deferredConnects[_8c1]||"domNode"];this.connect(_8c2,_8c1.toLowerCase(),this[_8c1]);delete this._deferredConnects[_8c1];}},_setClassAttr:function(_8c3){var _8c4=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_8c4,this["class"]);this["class"]=_8c3;dojo.addClass(_8c4,_8c3);},_setStyleAttr:function(_8c5){var _8c6=this[this.attributeMap["style"]||"domNode"];if(_8c6.style.cssText){_8c6.style.cssText+="; "+_8c5;}else{_8c6.style.cssText=_8c5;}this["style"]=_8c5;},setAttribute:function(attr,_8c8){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_8c8);},_attrToDom:function(attr,_8ca){var _8cb=this.attributeMap[attr];dojo.forEach(dojo.isArray(_8cb)?_8cb:[_8cb],function(_8cc){var _8cd=this[_8cc.node||_8cc||"domNode"];var type=_8cc.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_8ca)){_8ca=dojo.hitch(this,_8ca);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_8cd,attr,_8ca);break;case "innerHTML":_8cd.innerHTML=_8ca;break;case "class":dojo.removeClass(_8cd,this[attr]);dojo.addClass(_8cd,_8ca);break;}},this);this[attr]=_8ca;},attr:function(name,_8d0){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _8d3=this._getAttrNames(name);if(args==2){if(this[_8d3.s]){return this[_8d3.s](_8d0)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_8d0);}this[name]=_8d0;}return this;}else{if(this[_8d3.g]){return this[_8d3.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_8d9,_8da){var d=dojo;var dco=d.hitch(d,"connect",obj);var _8dd=[];if(_8d9=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_8da);_8dd.push(dco("onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dco("onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE){return m(e);}}));if(d.isFF){_8dd.push(dco("onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER){return m(e);}}));}}_8d9="onclick";}_8dd.push(dco(_8d9,this,_8da));this._connects.push(_8dd);return _8dd;},disconnect:function(_8e2){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_8e2){dojo.forEach(_8e2,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_8e4,_8e5){if(_8e4["declaredClass"]&&_8e4["addChild"]){_8e4.addChild(this,_8e5);}else{dojo.place(this.domNode,_8e4,_8e5);}return this;}});})();}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_8e6,_8e7){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _8e8=dojo.date.stamp._isoRegExp.exec(_8e6);var _8e9=null;if(_8e8){_8e8.shift();if(_8e8[1]){_8e8[1]--;}if(_8e8[6]){_8e8[6]*=1000;}if(_8e7){_8e7=new Date(_8e7);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _8e7["get"+prop]();}).forEach(function(_8eb,_8ec){if(_8e8[_8ec]===undefined){_8e8[_8ec]=_8eb;}});}_8e9=new Date(_8e8[0]||1970,_8e8[1]||0,_8e8[2]||1,_8e8[3]||0,_8e8[4]||0,_8e8[5]||0,_8e8[6]||0);var _8ed=0;var _8ee=_8e8[7]&&_8e8[7].charAt(0);if(_8ee!="Z"){_8ed=((_8e8[8]||0)*60)+(Number(_8e8[9])||0);if(_8ee!="-"){_8ed*=-1;}}if(_8ee){_8ed-=_8e9.getTimezoneOffset();}if(_8ed){_8e9.setTime(_8e9.getTime()+_8ed*60000);}}return _8e9;};dojo.date.stamp.toISOString=function(_8ef,_8f0){var _=function(n){return (n<10)?"0"+n:n;};_8f0=_8f0||{};var _8f3=[];var _8f4=_8f0.zulu?"getUTC":"get";var date="";if(_8f0.selector!="time"){var year=_8ef[_8f4+"FullYear"]();date=["0000".substr((year+"").length)+year,_(_8ef[_8f4+"Month"]()+1),_(_8ef[_8f4+"Date"]())].join("-");}_8f3.push(date);if(_8f0.selector!="date"){var time=[_(_8ef[_8f4+"Hours"]()),_(_8ef[_8f4+"Minutes"]()),_(_8ef[_8f4+"Seconds"]())].join(":");var _8f8=_8ef[_8f4+"Milliseconds"]();if(_8f0.milliseconds){time+="."+(_8f8<100?"0":"")+_(_8f8);}if(_8f0.zulu){time+="Z";}else{if(_8f0.selector!="time"){var _8f9=_8ef.getTimezoneOffset();var _8fa=Math.abs(_8f9);time+=(_8f9>0?"-":"+")+_(Math.floor(_8fa/60))+":"+_(_8fa%60);}}_8f3.push(time);}return _8f3.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _8fc=d._scopeName+"Type";var qry="["+_8fc+"]";function val2type(_8fe){if(d.isString(_8fe)){return "string";}if(typeof _8fe=="number"){return "number";}if(typeof _8fe=="boolean"){return "boolean";}if(d.isFunction(_8fe)){return "function";}if(d.isArray(_8fe)){return "array";}if(_8fe instanceof Date){return "date";}if(_8fe instanceof d._Url){return "url";}return "object";};function str2obj(_8ff,type){switch(type){case "string":return _8ff;case "number":return _8ff.length?Number(_8ff):NaN;case "boolean":return typeof _8ff=="boolean"?_8ff:!(_8ff.toLowerCase()=="false");case "function":if(d.isFunction(_8ff)){_8ff=_8ff.toString();_8ff=d.trim(_8ff.substring(_8ff.indexOf("{")+1,_8ff.length-1));}try{if(_8ff.search(/[^\w\.]+/i)!=-1){_8ff=d.parser._nameAnonFunc(new Function(_8ff),this);}return d.getObject(_8ff,false);}catch(e){return new Function();}case "array":return _8ff?_8ff.split(/\s*,\s*/):[];case "date":switch(_8ff){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_8ff);}case "url":return d.baseUrl+_8ff;default:return d.fromJson(_8ff);}};var _901={};function getClassInfo(_902){if(!_901[_902]){var cls=d.getObject(_902);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_902+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _904=cls.prototype;var _905={};for(var name in _904){if(name.charAt(0)=="_"){continue;}var _907=_904[name];_905[name]=val2type(_907);}_901[_902]={cls:cls,params:_905};}return _901[_902];};this._functionFromScript=function(_908){var _909="";var _90a="";var _90b=_908.getAttribute("args");if(_90b){d.forEach(_90b.split(/\s*,\s*/),function(part,idx){_909+="var "+part+" = arguments["+idx+"]; ";});}var _90e=_908.getAttribute("with");if(_90e&&_90e.length){d.forEach(_90e.split(/\s*,\s*/),function(part){_909+="with("+part+"){";_90a+="}";});}return new Function(_909+_908.innerHTML+_90a);};this.instantiate=function(_910){var _911=[];d.forEach(_910,function(node){if(!node){return;}var type=node.getAttribute(_8fc);if((!type)||(!type.length)){return;}var _914=getClassInfo(type);var _915=_914.cls;var ps=_915._noScript||_915.prototype._noScript;var _917={};var _918=node.attributes;for(var name in _914.params){var item=_918.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _91b=item.value;switch(name){case "class":_91b=node.className;break;case "style":_91b=node.style&&node.style.cssText;}var _91c=_914.params[name];_917[name]=str2obj(_91b,_91c);}if(!ps){var _91d=[],_91e=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_91f){var _920=_91f.getAttribute("event"),type=_91f.getAttribute("type"),nf=d.parser._functionFromScript(_91f);if(_920){if(type=="dojo/connect"){_91d.push({event:_920,func:nf});}else{_917[_920]=nf;}}else{_91e.push(nf);}});}var _922=_915["markupFactory"];if(!_922&&_915["prototype"]){_922=_915.prototype["markupFactory"];}var _923=_922?_922(_917,node,_915):new _915(_917,node);_911.push(_923);var _924=node.getAttribute("jsId");if(_924){d.setObject(_924,_923);}if(!ps){d.forEach(_91d,function(_925){d.connect(_923,_925.event,null,_925.func);});d.forEach(_91e,function(func){func.call(_923);});}});d.forEach(_911,function(_927){if(_927&&_927.startup&&!_927._started&&(!_927.getParent||!_927.getParent())){_927.startup();}});return _911;};this.parse=function(_928){var list=d.query(qry,_928);var _92a=this.instantiate(list);return _92a;};}();(function(){var _92b=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_92b);}else{dojo._loaders.unshift(_92b);}})();dojo.parser._anonCtr=0;dojo.parser._anon={};dojo.parser._nameAnonFunc=function(_92c,_92d){var jpn="$joinpoint";var nso=(_92d||dojo.parser._anon);if(dojo.isIE){var cn=_92c["__dojoNameCache"];if(cn&&nso[cn]===_92c){return _92c["__dojoNameCache"];}}var ret="__"+dojo.parser._anonCtr++;while(typeof nso[ret]!="undefined"){ret="__"+dojo.parser._anonCtr++;}nso[ret]=_92c;return ret;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateNode:null,templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _933=this.declaredClass,_934=this;return dojo.string.substitute(tmpl,this,function(_935,key){if(key.charAt(0)=="!"){_935=_934[key.substr(1)];}if(typeof _935=="undefined"){throw new Error(_933+" template:"+key);}if(_935==null){return "";}return key.charAt(0)=="!"?_935:_935.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _937=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_937)){node=dijit._Templated._createNodesFromText(this._stringRepl(_937))[0];}else{node=_937.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);var _939=this.srcNodeRef;if(_939&&_939.parentNode){_939.parentNode.replaceChild(node,_939);}if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(_939);},_fillContent:function(_93d){var dest=this.containerNode;if(_93d&&dest){while(_93d.hasChildNodes()){dest.appendChild(_93d.firstChild);}}},_attachTemplateNodes:function(_93f,_940){_940=_940||function(n,p){return n.getAttribute(p);};var _943=dojo.isArray(_93f)?_93f:(_93f.all||_93f.getElementsByTagName("*"));var x=dojo.isArray(_93f)?0:-1;var _945={};for(;x<_943.length;x++){var _946=(x==-1)?_93f:_943[x];if(this.widgetsInTemplate&&_940(_946,"dojoType")){continue;}var _947=_940(_946,"dojoAttachPoint");if(_947){var _948,_949=_947.split(/\s*,\s*/);while((_948=_949.shift())){if(dojo.isArray(this[_948])){this[_948].push(_946);}else{this[_948]=_946;}}}var _94a=_940(_946,"dojoAttachEvent");if(_94a){var _94b,_94c=_94a.split(/\s*,\s*/);var trim=dojo.trim;while((_94b=_94c.shift())){if(_94b){var _94e=null;if(_94b.indexOf(":")!=-1){var _94f=_94b.split(":");_94b=trim(_94f[0]);_94e=trim(_94f[1]);}else{_94b=trim(_94b);}if(!_94e){_94e=_94b;}this.connect(_946,_94b,_94e);}}}var role=_940(_946,"waiRole");if(role){dijit.setWaiRole(_946,role);}var _951=_940(_946,"waiState");if(_951){dojo.forEach(_951.split(/\s*,\s*/),function(_952){if(_952.indexOf("-")!=-1){var pair=_952.split("-");dijit.setWaiState(_946,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_954,_955,_956){var _957=dijit._Templated._templateCache;var key=_955||_954;var _959=_957[key];if(_959){if(!_959.ownerDocument||_959.ownerDocument==dojo.doc){return _959;}dojo._destroyElement(_959);}if(!_955){_955=dijit._Templated._sanitizeTemplateString(dojo._getText(_954));}_955=dojo.string.trim(_955);if(_956||_955.match(/\$\{([^\}]+)\}/g)){return (_957[key]=_955);}else{return (_957[key]=dijit._Templated._createNodesFromText(_955)[0]);}};dijit._Templated._sanitizeTemplateString=function(_95a){if(_95a){_95a=_95a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _95b=_95a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_95b){_95a=_95b[1];}}else{_95a="";}return _95a;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _95c=dijit._Templated._templateCache;for(var key in _95c){var _95e=_95c[key];if(!isNaN(_95e.nodeType)){dojo._destroyElement(_95e);}delete _95c[key];}});}(function(){var _95f={cell:{re:/^<t[dh][\s\r\n>]/i,pre:"<table><tbody><tr>",post:"</tr></tbody></table>"},row:{re:/^<tr[\s\r\n>]/i,pre:"<table><tbody>",post:"</tbody></table>"},section:{re:/^<(thead|tbody|tfoot)[\s\r\n>]/i,pre:"<table>",post:"</table>"}};var tn;dijit._Templated._createNodesFromText=function(text){if(tn&&tn.ownerDocument!=dojo.doc){dojo._destroyElement(tn);tn=undefined;}if(!tn){tn=dojo.doc.createElement("div");tn.style.display="none";dojo.body().appendChild(tn);}var _962="none";var _963=text.replace(/^\s+/,"");for(var type in _95f){var map=_95f[type];if(map.re.test(_963)){_962=type;text=map.pre+text+map.post;break;}}tn.innerHTML=text;if(tn.normalize){tn.normalize();}var tag={cell:"tr",row:"tbody",section:"table"}[_962];var _967=(typeof tag!="undefined")?tn.getElementsByTagName(tag)[0]:tn;var _968=[];while(_967.firstChild){_968.push(_967.removeChild(_967.firstChild));}tn.innerHTML="";return _968;};})();dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\r\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\r\n\t<div class=\"dijitTooltipConnector\"></div>\r\n</div>\r\n",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_969,_96a,_96b){if(this.aroundNode&&this.aroundNode===_96a){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_969;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _96c={};var ltr=this.isLeftToRight();dojo.forEach((_96b&&_96b.length)?_96b:dijit.Tooltip.defaultPosition,function(pos){switch(pos){case "after":_96c[ltr?"BR":"BL"]=ltr?"BL":"BR";break;case "before":_96c[ltr?"BL":"BR"]=ltr?"BR":"BL";break;case "below":_96c[ltr?"BL":"BR"]=ltr?"TL":"TR";_96c[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above":default:_96c[ltr?"TL":"TR"]=ltr?"BL":"BR";_96c[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});var pos=dijit.placeOnScreenAroundElement(this.domNode,_96a,_96c,dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_96a;},orient:function(node,_971,_972){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_971+"-"+_972];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_973){if(this._onDeck&&this._onDeck[1]==_973){this._onDeck=null;}else{if(this.aroundNode===_973){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_974,_975,_976){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_974,_975,_976);};dijit.hideTooltip=function(_977){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_977);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");this._connectNodes=[];dojo.forEach(this.connectId,function(id){var node=dojo.byId(id);if(node){this._connectNodes.push(node);dojo.forEach(["onMouseEnter","onMouseLeave","onFocus","onBlur"],function(_97a){this.connect(node,_97a.toLowerCase(),"_"+_97a);},this);if(dojo.isIE){node.style.zoom=1;}}},this);},_onMouseEnter:function(e){this._onHover(e);},_onMouseLeave:function(e){this._onUnHover(e);},_onFocus:function(e){this._focus=true;this._onHover(e);this.inherited(arguments);},_onBlur:function(e){this._focus=false;this._onUnHover(e);this.inherited(arguments);},_onHover:function(e){if(!this._showTimer){var _980=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_980);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_982){_982=_982||this._connectNodes[0];if(!_982){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_982,this.position);this._connectNode=_982;},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},uninitialize:function(){this.close();}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dojox.lang.functional.scan"]){dojo._hasResource["dojox.lang.functional.scan"]=true;dojo.provide("dojox.lang.functional.scan");(function(){var d=dojo,df=dojox.lang.functional,_985={};d.mixin(df,{scanl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n;if(d.isArray(a)){t=new Array((n=a.length)+1);t[0]=z;for(var i=0;i<n;z=f.call(o,z,a[i],i,a),t[++i]=z){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[z];for(var i=0;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}else{t=[z];for(var i in a){if(i in _985){continue;}t.push(z=f.call(o,z,a[i],i,a));}}}return t;},scanl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,z;if(d.isArray(a)){t=new Array(n=a.length);t[0]=z=a[0];for(var i=1;i<n;t[i]=z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){t=[z=a.next()];for(var i=1;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}}else{var _994=true;for(var i in a){if(i in _985){continue;}if(_994){t=[z=a[i]];_994=false;}else{t.push(z=f.call(o,z,a[i],i,a));}}}}return t;},scanr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n+1);t[n]=z;for(var i=n;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;},scanr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),z=a[n-1];t[n-1]=z;for(var i=n-1;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;}});})();}if(!dojo._hasResource["dojox.charting.action2d.Tooltip"]){dojo._hasResource["dojox.charting.action2d.Tooltip"]=true;dojo.provide("dojox.charting.action2d.Tooltip");(function(){var _9a3=function(o){var t=o.run&&o.run.data&&o.run.data[o.index];if(t&&typeof t=="object"&&t.tooltip){return t.tooltip;}return o.element=="bar"?o.x:o.y;};var df=dojox.lang.functional,pi4=Math.PI/4,pi2=Math.PI/2;dojo.declare("dojox.charting.action2d.Tooltip",dojox.charting.action2d.Base,{defaultParams:{text:_9a3},optionalParams:{},constructor:function(_9a9,plot,_9ab){this.text=_9ab&&_9ab.text?_9ab.text:_9a3;this.connect();},process:function(o){if(o.type==="onplotreset"||o.type==="onmouseout"){dijit.hideTooltip(this.aroundRect);this.aroundRect=null;return;}if(!o.shape||o.type!=="onmouseover"){return;}var _9ad={type:"rect"},_9ae=["after","before"];switch(o.element){case "marker":_9ad.x=o.cx;_9ad.y=o.cy;_9ad.width=_9ad.height=1;break;case "circle":_9ad.x=o.cx-o.cr;_9ad.y=o.cy-o.cr;_9ad.width=_9ad.height=2*o.cr;break;case "column":_9ae=["above","below"];case "bar":_9ad=dojo.clone(o.shape.getShape());break;default:if(!this.angles){if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var _9af=(this.angles[o.index]+this.angles[o.index+1])/2;_9ad.x=o.cx+o.cr*Math.cos(_9af);_9ad.y=o.cy+o.cr*Math.sin(_9af);_9ad.width=_9ad.height=1;if(_9af<pi4){}else{if(_9af<pi2+pi4){_9ae=["below","above"];}else{if(_9af<Math.PI+pi4){_9ae=["before","after"];}else{if(_9af<2*Math.PI-pi4){_9ae=["above","below"];}}}}break;}var lt=dojo.coords(this.chart.node,true);_9ad.x+=lt.x;_9ad.y+=lt.y;_9ad.x=Math.round(_9ad.x);_9ad.y=Math.round(_9ad.y);_9ad.width=Math.ceil(_9ad.width);_9ad.height=Math.ceil(_9ad.height);this.aroundRect=_9ad;dijit.showTooltip(this.text(o),this.aroundRect,_9ae);}});})();}if(!dojo._hasResource["dojox.charting.action2d.Shake"]){dojo._hasResource["dojox.charting.action2d.Shake"]=true;dojo.provide("dojox.charting.action2d.Shake");(function(){var _9b1=3,m=dojox.gfx.matrix,gf=dojox.gfx.fx;dojo.declare("dojox.charting.action2d.Shake",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,shiftX:_9b1,shiftY:_9b1},optionalParams:{},constructor:function(_9b4,plot,_9b6){if(!_9b6){_9b6={};}this.shiftX=typeof _9b6.shiftX=="number"?_9b6.shiftX:_9b1;this.shiftY=typeof _9b6.shiftY=="number"?_9b6.shiftY:_9b1;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _9b8=o.run.name,_9b9=o.index,_9ba=[],anim,_9bc=o.type=="onmouseover"?this.shiftX:-this.shiftX,_9bd=o.type=="onmouseover"?this.shiftY:-this.shiftY;if(_9b8 in this.anim){anim=this.anim[_9b8][_9b9];}else{this.anim[_9b8]={};}if(anim){anim.action.stop(true);}else{this.anim[_9b8][_9b9]=anim={};}var _9be={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"translate",start:[this.shiftX,this.shiftY],end:[0,0]},m.identity]};if(o.shape){_9ba.push(gf.animateTransform(_9be));}if(o.oultine){_9be.shape=o.outline;_9ba.push(gf.animateTransform(_9be));}if(o.shadow){_9be.shape=o.shadow;_9ba.push(gf.animateTransform(_9be));}if(!_9ba.length){delete this.anim[_9b8][_9b9];return;}anim.action=dojo.fx.combine(_9ba);if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_9b8]){delete this.anim[_9b8][_9b9];}});}anim.action.play();}});})();}if(!dojo._hasResource["dojox.charting.action2d.MoveSlice"]){dojo._hasResource["dojox.charting.action2d.MoveSlice"]=true;dojo.provide("dojox.charting.action2d.MoveSlice");(function(){var _9bf=1.05,_9c0=7,m=dojox.gfx.matrix,gf=dojox.gfx.fx,df=dojox.lang.functional;dojo.declare("dojox.charting.action2d.MoveSlice",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,scale:_9bf,shift:_9c0},optionalParams:{},constructor:function(_9c4,plot,_9c6){if(!_9c6){_9c6={};}this.scale=typeof _9c6.scale=="number"?_9c6.scale:_9bf;this.shift=typeof _9c6.shift=="number"?_9c6.shift:_9c0;this.connect();},process:function(o){if(!o.shape||o.element!="slice"||!(o.type in this.overOutEvents)){return;}if(!this.angles){if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var _9c8=o.index,anim,_9ca,_9cb,_9cc,_9cd=(this.angles[_9c8]+this.angles[_9c8+1])/2,_9ce=m.rotateAt(-_9cd,o.cx,o.cy),_9cf=m.rotateAt(_9cd,o.cx,o.cy);anim=this.anim[_9c8];if(anim){anim.action.stop(true);}else{this.anim[_9c8]=anim={};}if(o.type=="onmouseover"){_9cb=0;_9cc=this.shift;_9ca=this.scale;}else{_9cb=this.shift;_9cc=0;_9ca=1/this.scale;}anim.action=dojox.gfx.fx.animateTransform({shape:o.shape,duration:this.duration,easing:this.easing,transform:[_9cf,{name:"translate",start:[_9cb,0],end:[_9cc,0]},{name:"scaleAt",start:[1,o.cx,o.cy],end:[_9ca,o.cx,o.cy]},_9ce]});if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){delete this.anim[_9c8];});}anim.action.play();},reset:function(){delete this.angles;}});})();}if(!dojo._hasResource["dojox.charting.action2d.Highlight"]){dojo._hasResource["dojox.charting.action2d.Highlight"]=true;dojo.provide("dojox.charting.action2d.Highlight");(function(){var _9d0=100,_9d1=75,_9d2=50,c=dojox.color,cc=function(_9d5){return function(){return _9d5;};},hl=function(_9d7){var a=new c.Color(_9d7),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_9d0;if(x.l<_9d2){x.l=_9d1;}else{if(x.l>_9d1){x.l=_9d2;}else{x.l=x.l-_9d2>_9d1-x.l?_9d2:_9d1;}}}return c.fromHsl(x);};dojo.declare("dojox.charting.action2d.Highlight",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut},optionalParams:{highlight:"red"},constructor:function(_9da,plot,_9dc){var a=_9dc&&_9dc.highlight;this.colorFun=a?(dojo.isFunction(a)?a:cc(a)):hl;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _9df=o.run.name,_9e0=o.index,anim,_9e2,_9e3;if(_9df in this.anim){anim=this.anim[_9df][_9e0];}else{this.anim[_9df]={};}if(anim){anim.action.stop(true);}else{var _9e4=o.shape.getFill();if(!_9e4||!(_9e4 instanceof dojo.Color)){return;}this.anim[_9df][_9e0]=anim={start:_9e4,end:this.colorFun(_9e4)};}var _9e5=anim.start,end=anim.end;if(o.type=="onmouseout"){var t=_9e5;_9e5=end;end=t;}anim.action=dojox.gfx.fx.animateFill({shape:o.shape,duration:this.duration,easing:this.easing,color:{start:_9e5,end:end}});if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_9df]){delete this.anim[_9df][_9e0];}});}anim.action.play();}});})();}if(!dojo._hasResource["dojox.charting.widget.Legend"]){dojo._hasResource["dojox.charting.widget.Legend"]=true;dojo.provide("dojox.charting.widget.Legend");dojo.declare("dojox.charting.widget.Legend",[dijit._Widget,dijit._Templated],{chartRef:"",horizontal:true,templateString:"<table dojoAttachPoint='legendNode' class='dojoxLegendNode'><tbody dojoAttachPoint='legendBody'></tbody></table>",legendNode:null,legendBody:null,postCreate:function(){if(!this.chart){if(!this.chartRef){return;}this.chart=dijit.byId(this.chartRef);if(!this.chart){var node=dojo.byId(this.chartRef);if(node){this.chart=dijit.byNode(node);}else{return;}}this.series=this.chart.chart.series;}else{this.series=this.chart.series;}this.refresh();},refresh:function(){var df=dojox.lang.functional;if(this._surfaces){dojo.forEach(this._surfaces,function(_9ea){_9ea.destroy();});}this._surfaces=[];while(this.legendBody.lastChild){dojo._destroyElement(this.legendBody.lastChild);}if(this.horizontal){dojo.addClass(this.legendNode,"dojoxLegendHorizontal");this._tr=dojo.doc.createElement("tr");this.legendBody.appendChild(this._tr);}var s=this.series;if(s.length==0){return;}if(s[0].chart.stack[0].declaredClass=="dojox.charting.plot2d.Pie"){var t=s[0].chart.stack[0];if(typeof t.run.data[0]=="number"){var _9ed=df.map(t.run.data,"Math.max(x, 0)");if(df.every(_9ed,"<= 0")){return;}var _9ee=df.map(_9ed,"/this",df.foldl(_9ed,"+",0));dojo.forEach(_9ee,function(x,i){this._addLabel(t.dyn[i],t._getLabel(x*100)+"%");},this);}else{dojo.forEach(t.run.data,function(x,i){this._addLabel(t.dyn[i],x.legend||x.text||x.y);},this);}}else{dojo.forEach(s,function(x){this._addLabel(x.dyn,x.legend||x.name);},this);}},_addLabel:function(dyn,_9f5){var icon=dojo.doc.createElement("td"),text=dojo.doc.createElement("td"),div=dojo.doc.createElement("div");dojo.addClass(icon,"dojoxLegendIcon");dojo.addClass(text,"dojoxLegendText");div.style.width="20px";div.style.height="20px";icon.appendChild(div);if(this._tr){this._tr.appendChild(icon);this._tr.appendChild(text);}else{var tr=dojo.doc.createElement("tr");this.legendBody.appendChild(tr);tr.appendChild(icon);tr.appendChild(text);}this._makeIcon(div,dyn);text.innerHTML=String(_9f5);},_makeIcon:function(div,dyn){var mb={h:14,w:14};var _9fd=dojox.gfx.createSurface(div,mb.w,mb.h);this._surfaces.push(_9fd);if(dyn.fill){_9fd.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setFill(dyn.fill).setStroke(dyn.stroke);}else{if(dyn.stroke||dyn.marker){var line={x1:0,y1:mb.h/2,x2:mb.w,y2:mb.h/2};if(dyn.stroke){_9fd.createLine(line).setStroke(dyn.stroke);}if(dyn.marker){var c={x:mb.w/2,y:mb.h/2};if(dyn.stroke){_9fd.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.stroke.color).setStroke(dyn.stroke);}else{_9fd.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.color).setStroke(dyn.color);}}}else{_9fd.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setStroke("black");_9fd.createLine({x1:2,y1:2,x2:mb.w-2,y2:mb.h-2}).setStroke("black");_9fd.createLine({x1:2,y1:mb.h-2,x2:mb.w-2,y2:2}).setStroke("black");}}}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");(function(){var _a00={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _a03=function(_a04){this._index=-1;this._animations=_a04||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;dojo.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};dojo.extend(_a03,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){dojo.disconnect(this._onAnimateCtx);dojo.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_a06,_a07){if(!this._current){this._current=this._animations[this._index=0];}if(!_a07&&this._current.status()=="playing"){return this;}var _a08=dojo.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_a09=dojo.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_a0b=dojo.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);dojo.disconnect(_a08);dojo.disconnect(_a09);dojo.disconnect(_a0b);});if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=dojo.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);dojo.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_a0f,_a10){this.pause();var _a11=this.duration*_a0f;this._current=null;dojo.some(this._animations,function(a){if(a.duration<=_a11){this._current=a;return true;}_a11-=a.duration;return false;});if(this._current){this._current.gotoPercent(_a11/this._current.duration,_a10);}return this;},stop:function(_a13){if(this._current){if(_a13){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=dojo.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);dojo.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}}});dojo.extend(_a03,_a00);dojo.fx.chain=function(_a16){return new _a03(_a16);};var _a17=function(_a18){this._animations=_a18||[];this._connects=[];this._finished=0;this.duration=0;dojo.forEach(_a18,function(a){var _a1a=a.duration;if(a.delay){_a1a+=a.delay;}if(this.duration<_a1a){this.duration=_a1a;}this._connects.push(dojo.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new dojo._Animation({curve:[0,1],duration:this.duration});dojo.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){this._connects.push(dojo.connect(this._pseudoAnimation,evt,dojo.hitch(this,"_fire",evt)));},this);};dojo.extend(_a17,{_doAction:function(_a1c,args){dojo.forEach(this._animations,function(a){a[_a1c].apply(a,args);});return this;},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function(_a1f,args){var t=this._pseudoAnimation;t[_a1f].apply(t,args);},play:function(_a22,_a23){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_a24,_a25){var ms=this.duration*_a24;dojo.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_a25);});this._call("gotoPercent",arguments);return this;},stop:function(_a28){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);}});dojo.extend(_a17,_a00);dojo.fx.combine=function(_a29){return new _a17(_a29);};})();dojo.declare("dojo.fx.Toggler",null,{constructor:function(args){var _t=this;dojo.mixin(_t,args);_t.node=args.node;_t._showArgs=dojo.mixin({},args);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},args);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(_a2c){return this.showAnim.play(_a2c||0);},hide:function(_a2d){return this.hideAnim.play(_a2d||0);}});dojo.fx.wipeIn=function(args){args.node=dojo.byId(args.node);var node=args.node,s=node.style,o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _a33=dojo.style(node,"height");return Math.max(_a33,1);}},end:function(){return node.scrollHeight;}}}},args));dojo.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=dojo.byId(args.node);var s=node.style;var o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},args));dojo.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});dojo.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=(args.node=dojo.byId(args.node));var top=null;var left=null;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=dojo.animateProperty(dojo.mixin({properties:{top:{end:args.top||0},left:{end:args.left||0}}},args));dojo.connect(anim,"beforeBegin",anim,init);return anim;};}