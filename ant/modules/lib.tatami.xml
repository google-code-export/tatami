<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE project [
			<!ENTITY setenv SYSTEM "../conf/setenv.xml">	
		]>
<project name="LIB Application tatami" default="help" basedir="../..">

	<!-- Generated by J2EE toolkit at 18-Jul-2007 09:44:54 AM -->
	
	<property name="module.type" value="lib" />

	<!-- ******************************************** -->
	<!-- Module LIB                                   -->
	<!-- ******************************************** -->
	<!-- Fichier ant à utiliser pour la génération d'une librairie jar.
	Pour la création d'un nouveau module LIB, faire une copie de ce fichier et modifier 
	simplement la propriété module.name ci-dessous.
	Ensuite, en cas de traitement spécifique, adapter éventellement le code fourni.
	La création d'un nouveau module nécessite aussi de créer un fichier de propriétés 
	lib.monmodule.properties et des fichiers dans le sous-répertoire includes. -->

	<property name="module.name" value="tatami" />

	<!-- Chargement des propriétés générales (obligatoires) et des propriétés du projet (facultatives) -->
	    &setenv;
	    <property file="${ant.modules.dir}/${module.type}.${module.name}.properties" />

	<!-- TARGET all -->
	<!-- Les classes à ajouter sont définies dans ${module.type}.${module.name}.class.include
	On génère les classes de la librairie, on recopie l'environnement j2ee, puis on package le tout
	dans un fichier jar placé dans ${dist.dir}/${module.type}/${module.name}.jar. -->
	<target name="all"
	        depends="compile_lib,package_lib"
	        description="Génération et packaging de la librairie">
	</target>

	<!-- TARGET compile_lib -->
	<target name="compile_lib"
	        description="Compilation du module lib">
		<ant antfile="${ant.conf.dir}/build_lib.xml" target="compile" />
	</target>

	<!-- TARGET package_lib -->
	<target name="package_lib"
	        description="Construction du jar de déploiement ${module.name}.jar">
		<ant antfile="${ant.conf.dir}/build_lib.xml" target="package" />
	</target>

	<!-- TARGET test_lib -->
	<!-- Les classes à tester sont définies dans ${module.type}.${module.name}.test.include -->
	<target name="test_lib"
	        description="Test des classes du module lib">
		<ant antfile="${ant.conf.dir}/report_junit.xml" target="test" />
	</target>

	<!-- TARGET help -->
	<target name="help" description="Affiche la liste des taches disponibles">
		<echo message="Taches disponibles: all, clean, build_lib, package_lib, test_lib" />
		<echo message="all: Enchaine build_lib et package_lib" />
		<echo message="clean: Suppression des répertoires et des fichiers générés" />
		<echo message="build_lib: Génération des classes de la librairie" />
		<echo message="package_lib : Construction du jar ${module.name}.jar" />
		<echo message="test_lib : Tests junit de la librairie" />
	</target>

	<!-- TARGET clean -->
	<!-- Utiliser cette tâche pour provoquer une regénération complète -->
	<target name="clean"
	        description="Suppression des répertoires et des fichiers générés">
		<ant antfile="${ant.conf.dir}/common.xml" target="clean" />
	</target>

</project>
